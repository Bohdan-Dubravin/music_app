(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Yl(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}function Lr(t){if(Q(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Me(r)?F_(r):Lr(r);if(s)for(const i in s)e[i]=s[i]}return e}else{if(Me(t))return t;if(Ee(t))return t}}const R_=/;(?![^(]*\))/g,P_=/:([^]+)/,$_=/\/\*.*?\*\//gs;function F_(t){const e={};return t.replace($_,"").split(R_).forEach(n=>{if(n){const r=n.split(P_);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ue(t){let e="";if(Me(t))e=t;else if(Q(t))for(let n=0;n<t.length;n++){const r=Ue(t[n]);r&&(e+=r+" ")}else if(Ee(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const D_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",M_=Yl(D_);function ch(t){return!!t||t===""}function N_(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ao(t[r],e[r]);return n}function Ao(t,e){if(t===e)return!0;let n=vc(t),r=vc(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ds(t),r=Ds(e),n||r)return t===e;if(n=Q(t),r=Q(e),n||r)return n&&r?N_(t,e):!1;if(n=Ee(t),r=Ee(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(l&&!u||!l&&u||!Ao(t[o],e[o]))return!1}}return String(t)===String(e)}function L_(t,e){return t.findIndex(n=>Ao(n,e))}const st=t=>Me(t)?t:t==null?"":Q(t)||Ee(t)&&(t.toString===hh||!ie(t.toString))?JSON.stringify(t,fh,2):String(t),fh=(t,e)=>e&&e.__v_isRef?fh(t,e.value):$r(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:xo(e)?{[`Set(${e.size})`]:[...e.values()]}:Ee(e)&&!Q(e)&&!ph(e)?String(e):e,Ae={},Pr=[],Dt=()=>{},U_=()=>!1,V_=/^on[^a-z]/,Io=t=>V_.test(t),Xl=t=>t.startsWith("onUpdate:"),Je=Object.assign,Jl=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},B_=Object.prototype.hasOwnProperty,pe=(t,e)=>B_.call(t,e),Q=Array.isArray,$r=t=>ti(t)==="[object Map]",xo=t=>ti(t)==="[object Set]",vc=t=>ti(t)==="[object Date]",ie=t=>typeof t=="function",Me=t=>typeof t=="string",Ds=t=>typeof t=="symbol",Ee=t=>t!==null&&typeof t=="object",dh=t=>Ee(t)&&ie(t.then)&&ie(t.catch),hh=Object.prototype.toString,ti=t=>hh.call(t),j_=t=>ti(t).slice(8,-1),ph=t=>ti(t)==="[object Object]",Ql=t=>Me(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ni=Yl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Oo=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},H_=/-(\w)/g,Jt=Oo(t=>t.replace(H_,(e,n)=>n?n.toUpperCase():"")),q_=/\B([A-Z])/g,Xr=Oo(t=>t.replace(q_,"-$1").toLowerCase()),ko=Oo(t=>t.charAt(0).toUpperCase()+t.slice(1)),wa=Oo(t=>t?`on${ko(t)}`:""),Ms=(t,e)=>!Object.is(t,e),Li=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zi=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Co=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let yc;const z_=()=>yc||(yc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let _t;class mh{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}run(e){if(this.active){const n=_t;try{return _t=this,e()}finally{_t=n}}}on(){_t=this}off(){_t=this.parent}stop(e){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this.active=!1}}}function gh(t){return new mh(t)}function G_(t,e=_t){e&&e.active&&e.effects.push(t)}function K_(){return _t}function W_(t){_t&&_t.cleanups.push(t)}const Zl=t=>{const e=new Set(t);return e.w=0,e.n=0,e},_h=t=>(t.w&Un)>0,vh=t=>(t.n&Un)>0,Y_=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Un},X_=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];_h(s)&&!vh(s)?s.delete(t):e[n++]=s,s.w&=~Un,s.n&=~Un}e.length=n}},Ya=new WeakMap;let vs=0,Un=1;const Xa=30;let Rt;const ir=Symbol(""),Ja=Symbol("");class eu{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,G_(this,r)}run(){if(!this.active)return this.fn();let e=Rt,n=Rn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Rt,Rt=this,Rn=!0,Un=1<<++vs,vs<=Xa?Y_(this):bc(this),this.fn()}finally{vs<=Xa&&X_(this),Un=1<<--vs,Rt=this.parent,Rn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Rt===this?this.deferStop=!0:this.active&&(bc(this),this.onStop&&this.onStop(),this.active=!1)}}function bc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Rn=!0;const yh=[];function Jr(){yh.push(Rn),Rn=!1}function Qr(){const t=yh.pop();Rn=t===void 0?!0:t}function Tt(t,e,n){if(Rn&&Rt){let r=Ya.get(t);r||Ya.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Zl()),bh(s)}}function bh(t,e){let n=!1;vs<=Xa?vh(t)||(t.n|=Un,n=!_h(t)):n=!t.has(Rt),n&&(t.add(Rt),Rt.deps.push(t))}function ln(t,e,n,r,s,i){const o=Ya.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(n==="length"&&Q(t)){const u=Co(r);o.forEach((f,h)=>{(h==="length"||h>=u)&&l.push(f)})}else switch(n!==void 0&&l.push(o.get(n)),e){case"add":Q(t)?Ql(n)&&l.push(o.get("length")):(l.push(o.get(ir)),$r(t)&&l.push(o.get(Ja)));break;case"delete":Q(t)||(l.push(o.get(ir)),$r(t)&&l.push(o.get(Ja)));break;case"set":$r(t)&&l.push(o.get(ir));break}if(l.length===1)l[0]&&Qa(l[0]);else{const u=[];for(const f of l)f&&u.push(...f);Qa(Zl(u))}}function Qa(t,e){const n=Q(t)?t:[...t];for(const r of n)r.computed&&wc(r);for(const r of n)r.computed||wc(r)}function wc(t,e){(t!==Rt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const J_=Yl("__proto__,__v_isRef,__isVue"),wh=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ds)),Q_=tu(),Z_=tu(!1,!0),ev=tu(!0),Ec=tv();function tv(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=ge(this);for(let i=0,o=this.length;i<o;i++)Tt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(ge)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Jr();const r=ge(this)[e].apply(this,n);return Qr(),r}}),t}function tu(t=!1,e=!1){return function(r,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?_v:Ih:e?Ah:Sh).get(r))return r;const o=Q(r);if(!t&&o&&pe(Ec,s))return Reflect.get(Ec,s,i);const l=Reflect.get(r,s,i);return(Ds(s)?wh.has(s):J_(s))||(t||Tt(r,"get",s),e)?l:Oe(l)?o&&Ql(s)?l:l.value:Ee(l)?t?xh(l):dn(l):l}}const nv=Eh(),rv=Eh(!0);function Eh(t=!1){return function(n,r,s,i){let o=n[r];if(Ur(o)&&Oe(o)&&!Oe(s))return!1;if(!t&&(!Gi(s)&&!Ur(s)&&(o=ge(o),s=ge(s)),!Q(n)&&Oe(o)&&!Oe(s)))return o.value=s,!0;const l=Q(n)&&Ql(r)?Number(r)<n.length:pe(n,r),u=Reflect.set(n,r,s,i);return n===ge(i)&&(l?Ms(s,o)&&ln(n,"set",r,s):ln(n,"add",r,s)),u}}function sv(t,e){const n=pe(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&ln(t,"delete",e,void 0),r}function iv(t,e){const n=Reflect.has(t,e);return(!Ds(e)||!wh.has(e))&&Tt(t,"has",e),n}function ov(t){return Tt(t,"iterate",Q(t)?"length":ir),Reflect.ownKeys(t)}const Th={get:Q_,set:nv,deleteProperty:sv,has:iv,ownKeys:ov},av={get:ev,set(t,e){return!0},deleteProperty(t,e){return!0}},lv=Je({},Th,{get:Z_,set:rv}),nu=t=>t,Ro=t=>Reflect.getPrototypeOf(t);function Ei(t,e,n=!1,r=!1){t=t.__v_raw;const s=ge(t),i=ge(e);n||(e!==i&&Tt(s,"get",e),Tt(s,"get",i));const{has:o}=Ro(s),l=r?nu:n?iu:Ns;if(o.call(s,e))return l(t.get(e));if(o.call(s,i))return l(t.get(i));t!==s&&t.get(e)}function Ti(t,e=!1){const n=this.__v_raw,r=ge(n),s=ge(t);return e||(t!==s&&Tt(r,"has",t),Tt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Si(t,e=!1){return t=t.__v_raw,!e&&Tt(ge(t),"iterate",ir),Reflect.get(t,"size",t)}function Tc(t){t=ge(t);const e=ge(this);return Ro(e).has.call(e,t)||(e.add(t),ln(e,"add",t,t)),this}function Sc(t,e){e=ge(e);const n=ge(this),{has:r,get:s}=Ro(n);let i=r.call(n,t);i||(t=ge(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?Ms(e,o)&&ln(n,"set",t,e):ln(n,"add",t,e),this}function Ac(t){const e=ge(this),{has:n,get:r}=Ro(e);let s=n.call(e,t);s||(t=ge(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&ln(e,"delete",t,void 0),i}function Ic(){const t=ge(this),e=t.size!==0,n=t.clear();return e&&ln(t,"clear",void 0,void 0),n}function Ai(t,e){return function(r,s){const i=this,o=i.__v_raw,l=ge(o),u=e?nu:t?iu:Ns;return!t&&Tt(l,"iterate",ir),o.forEach((f,h)=>r.call(s,u(f),u(h),i))}}function Ii(t,e,n){return function(...r){const s=this.__v_raw,i=ge(s),o=$r(i),l=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,f=s[t](...r),h=n?nu:e?iu:Ns;return!e&&Tt(i,"iterate",u?Ja:ir),{next(){const{value:a,done:c}=f.next();return c?{value:a,done:c}:{value:l?[h(a[0]),h(a[1])]:h(a),done:c}},[Symbol.iterator](){return this}}}}function gn(t){return function(...e){return t==="delete"?!1:this}}function uv(){const t={get(i){return Ei(this,i)},get size(){return Si(this)},has:Ti,add:Tc,set:Sc,delete:Ac,clear:Ic,forEach:Ai(!1,!1)},e={get(i){return Ei(this,i,!1,!0)},get size(){return Si(this)},has:Ti,add:Tc,set:Sc,delete:Ac,clear:Ic,forEach:Ai(!1,!0)},n={get(i){return Ei(this,i,!0)},get size(){return Si(this,!0)},has(i){return Ti.call(this,i,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:Ai(!0,!1)},r={get(i){return Ei(this,i,!0,!0)},get size(){return Si(this,!0)},has(i){return Ti.call(this,i,!0)},add:gn("add"),set:gn("set"),delete:gn("delete"),clear:gn("clear"),forEach:Ai(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ii(i,!1,!1),n[i]=Ii(i,!0,!1),e[i]=Ii(i,!1,!0),r[i]=Ii(i,!0,!0)}),[t,n,e,r]}const[cv,fv,dv,hv]=uv();function ru(t,e){const n=e?t?hv:dv:t?fv:cv;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(pe(n,s)&&s in r?n:r,s,i)}const pv={get:ru(!1,!1)},mv={get:ru(!1,!0)},gv={get:ru(!0,!1)},Sh=new WeakMap,Ah=new WeakMap,Ih=new WeakMap,_v=new WeakMap;function vv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function yv(t){return t.__v_skip||!Object.isExtensible(t)?0:vv(j_(t))}function dn(t){return Ur(t)?t:su(t,!1,Th,pv,Sh)}function bv(t){return su(t,!1,lv,mv,Ah)}function xh(t){return su(t,!0,av,gv,Ih)}function su(t,e,n,r,s){if(!Ee(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=yv(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return s.set(t,l),l}function Pn(t){return Ur(t)?Pn(t.__v_raw):!!(t&&t.__v_isReactive)}function Ur(t){return!!(t&&t.__v_isReadonly)}function Gi(t){return!!(t&&t.__v_isShallow)}function Oh(t){return Pn(t)||Ur(t)}function ge(t){const e=t&&t.__v_raw;return e?ge(e):t}function ur(t){return zi(t,"__v_skip",!0),t}const Ns=t=>Ee(t)?dn(t):t,iu=t=>Ee(t)?xh(t):t;function kh(t){Rn&&Rt&&(t=ge(t),bh(t.dep||(t.dep=Zl())))}function Ch(t,e){t=ge(t),t.dep&&Qa(t.dep)}function Oe(t){return!!(t&&t.__v_isRef===!0)}function xe(t){return Rh(t,!1)}function wv(t){return Rh(t,!0)}function Rh(t,e){return Oe(t)?t:new Ev(t,e)}class Ev{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:ge(e),this._value=n?e:Ns(e)}get value(){return kh(this),this._value}set value(e){const n=this.__v_isShallow||Gi(e)||Ur(e);e=n?e:ge(e),Ms(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ns(e),Ch(this))}}function G(t){return Oe(t)?t.value:t}const Tv={get:(t,e,n)=>G(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Oe(s)&&!Oe(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function Ph(t){return Pn(t)?t:new Proxy(t,Tv)}function Sv(t){const e=Q(t)?new Array(t.length):{};for(const n in t)e[n]=Ht(t,n);return e}class Av{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function Ht(t,e,n){const r=t[e];return Oe(r)?r:new Av(t,e,n)}var $h;class Iv{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[$h]=!1,this._dirty=!0,this.effect=new eu(e,()=>{this._dirty||(this._dirty=!0,Ch(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=ge(this);return kh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}$h="__v_isReadonly";function xv(t,e,n=!1){let r,s;const i=ie(t);return i?(r=t,s=Dt):(r=t.get,s=t.set),new Iv(r,s,i||!s,n)}function $n(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Po(i,e,n)}return s}function Ot(t,e,n,r){if(ie(t)){const i=$n(t,e,n,r);return i&&dh(i)&&i.catch(o=>{Po(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(Ot(t[i],e,n,r));return s}function Po(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,l=n;for(;i;){const f=i.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,o,l)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){$n(u,null,10,[t,o,l]);return}}Ov(t,n,s,r)}function Ov(t,e,n,r=!0){console.error(t)}let Ls=!1,Za=!1;const Ze=[];let qt=0;const Fr=[];let en=null,Zn=0;const Fh=Promise.resolve();let ou=null;function Cn(t){const e=ou||Fh;return t?e.then(this?t.bind(this):t):e}function kv(t){let e=qt+1,n=Ze.length;for(;e<n;){const r=e+n>>>1;Us(Ze[r])<t?e=r+1:n=r}return e}function au(t){(!Ze.length||!Ze.includes(t,Ls&&t.allowRecurse?qt+1:qt))&&(t.id==null?Ze.push(t):Ze.splice(kv(t.id),0,t),Dh())}function Dh(){!Ls&&!Za&&(Za=!0,ou=Fh.then(Nh))}function Cv(t){const e=Ze.indexOf(t);e>qt&&Ze.splice(e,1)}function Rv(t){Q(t)?Fr.push(...t):(!en||!en.includes(t,t.allowRecurse?Zn+1:Zn))&&Fr.push(t),Dh()}function xc(t,e=Ls?qt+1:0){for(;e<Ze.length;e++){const n=Ze[e];n&&n.pre&&(Ze.splice(e,1),e--,n())}}function Mh(t){if(Fr.length){const e=[...new Set(Fr)];if(Fr.length=0,en){en.push(...e);return}for(en=e,en.sort((n,r)=>Us(n)-Us(r)),Zn=0;Zn<en.length;Zn++)en[Zn]();en=null,Zn=0}}const Us=t=>t.id==null?1/0:t.id,Pv=(t,e)=>{const n=Us(t)-Us(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Nh(t){Za=!1,Ls=!0,Ze.sort(Pv);const e=Dt;try{for(qt=0;qt<Ze.length;qt++){const n=Ze[qt];n&&n.active!==!1&&$n(n,null,14)}}finally{qt=0,Ze.length=0,Mh(),Ls=!1,ou=null,(Ze.length||Fr.length)&&Nh()}}function $v(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ae;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:a,trim:c}=r[h]||Ae;c&&(s=n.map(d=>Me(d)?d.trim():d)),a&&(s=n.map(Co))}let l,u=r[l=wa(e)]||r[l=wa(Jt(e))];!u&&i&&(u=r[l=wa(Xr(e))]),u&&Ot(u,t,6,s);const f=r[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ot(f,t,6,s)}}function Lh(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!ie(t)){const u=f=>{const h=Lh(f,e,!0);h&&(l=!0,Je(o,h))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!l?(Ee(t)&&r.set(t,null),null):(Q(i)?i.forEach(u=>o[u]=null):Je(o,i),Ee(t)&&r.set(t,o),o)}function $o(t,e){return!t||!Io(e)?!1:(e=e.slice(2).replace(/Once$/,""),pe(t,e[0].toLowerCase()+e.slice(1))||pe(t,Xr(e))||pe(t,e))}let bt=null,Uh=null;function Ki(t){const e=bt;return bt=t,Uh=t&&t.type.__scopeId||null,e}function it(t,e=bt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Nc(-1);const i=Ki(e);let o;try{o=t(...s)}finally{Ki(i),r._d&&Nc(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ea(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:l,attrs:u,emit:f,render:h,renderCache:a,data:c,setupState:d,ctx:p,inheritAttrs:_}=t;let v,m;const S=Ki(t);try{if(n.shapeFlag&4){const A=s||r;v=Bt(h.call(A,A,a,i,d,c,p)),m=u}else{const A=e;v=Bt(A.length>1?A(i,{attrs:u,slots:l,emit:f}):A(i,null)),m=e.props?u:Fv(u)}}catch(A){Es.length=0,Po(A,t,1),v=X(Mt)}let E=v;if(m&&_!==!1){const A=Object.keys(m),{shapeFlag:$}=E;A.length&&$&7&&(o&&A.some(Xl)&&(m=Dv(m,o)),E=Bn(E,m))}return n.dirs&&(E=Bn(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),v=E,Ki(S),v}const Fv=t=>{let e;for(const n in t)(n==="class"||n==="style"||Io(n))&&((e||(e={}))[n]=t[n]);return e},Dv=(t,e)=>{const n={};for(const r in t)(!Xl(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Mv(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:u}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?Oc(r,o,f):!!o;if(u&8){const h=e.dynamicProps;for(let a=0;a<h.length;a++){const c=h[a];if(o[c]!==r[c]&&!$o(f,c))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?Oc(r,o,f):!0:!!o;return!1}function Oc(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!$o(n,i))return!0}return!1}function Nv({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Lv=t=>t.__isSuspense;function Uv(t,e){e&&e.pendingBranch?Q(t)?e.effects.push(...t):e.effects.push(t):Rv(t)}function Dr(t,e){if(qe){let n=qe.provides;const r=qe.parent&&qe.parent.provides;r===n&&(n=qe.provides=Object.create(r)),n[t]=e}}function ft(t,e,n=!1){const r=qe||bt;if(r){const s=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&ie(e)?e.call(r.proxy):e}}function Vv(t,e){return lu(t,null,e)}const xi={};function Xe(t,e,n){return lu(t,e,n)}function lu(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=Ae){const l=qe;let u,f=!1,h=!1;if(Oe(t)?(u=()=>t.value,f=Gi(t)):Pn(t)?(u=()=>t,r=!0):Q(t)?(h=!0,f=t.some(E=>Pn(E)||Gi(E)),u=()=>t.map(E=>{if(Oe(E))return E.value;if(Pn(E))return rr(E);if(ie(E))return $n(E,l,2)})):ie(t)?e?u=()=>$n(t,l,2):u=()=>{if(!(l&&l.isUnmounted))return a&&a(),Ot(t,l,3,[c])}:u=Dt,e&&r){const E=u;u=()=>rr(E())}let a,c=E=>{a=m.onStop=()=>{$n(E,l,4)}},d;if(Bs)if(c=Dt,e?n&&Ot(e,l,3,[u(),h?[]:void 0,c]):u(),s==="sync"){const E=Ry();d=E.__watcherHandles||(E.__watcherHandles=[])}else return Dt;let p=h?new Array(t.length).fill(xi):xi;const _=()=>{if(m.active)if(e){const E=m.run();(r||f||(h?E.some((A,$)=>Ms(A,p[$])):Ms(E,p)))&&(a&&a(),Ot(e,l,3,[E,p===xi?void 0:h&&p[0]===xi?[]:p,c]),p=E)}else m.run()};_.allowRecurse=!!e;let v;s==="sync"?v=_:s==="post"?v=()=>lt(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),v=()=>au(_));const m=new eu(u,v);e?n?_():p=m.run():s==="post"?lt(m.run.bind(m),l&&l.suspense):m.run();const S=()=>{m.stop(),l&&l.scope&&Jl(l.scope.effects,m)};return d&&d.push(S),S}function Bv(t,e,n){const r=this.proxy,s=Me(t)?t.includes(".")?Vh(r,t):()=>r[t]:t.bind(r,r);let i;ie(e)?i=e:(i=e.handler,n=e);const o=qe;Vr(this);const l=lu(s,i.bind(r),n);return o?Vr(o):or(),l}function Vh(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function rr(t,e){if(!Ee(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Oe(t))rr(t.value,e);else if(Q(t))for(let n=0;n<t.length;n++)rr(t[n],e);else if(xo(t)||$r(t))t.forEach(n=>{rr(n,e)});else if(ph(t))for(const n in t)rr(t[n],e);return t}function jv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Mo(()=>{t.isMounted=!0}),No(()=>{t.isUnmounting=!0}),t}const It=[Function,Array],Hv={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:It,onEnter:It,onAfterEnter:It,onEnterCancelled:It,onBeforeLeave:It,onLeave:It,onAfterLeave:It,onLeaveCancelled:It,onBeforeAppear:It,onAppear:It,onAfterAppear:It,onAppearCancelled:It},setup(t,{slots:e}){const n=jo(),r=jv();let s;return()=>{const i=e.default&&Hh(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const _ of i)if(_.type!==Mt){o=_;break}}const l=ge(t),{mode:u}=l;if(r.isLeaving)return Ta(o);const f=kc(o);if(!f)return Ta(o);const h=el(f,l,r,n);tl(f,h);const a=n.subTree,c=a&&kc(a);let d=!1;const{getTransitionKey:p}=f.type;if(p){const _=p();s===void 0?s=_:_!==s&&(s=_,d=!0)}if(c&&c.type!==Mt&&(!er(f,c)||d)){const _=el(c,l,r,n);if(tl(c,_),u==="out-in")return r.isLeaving=!0,_.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Ta(o);u==="in-out"&&f.type!==Mt&&(_.delayLeave=(v,m,S)=>{const E=jh(r,c);E[String(c.key)]=c,v._leaveCb=()=>{m(),v._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=S})}return o}}},Bh=Hv;function jh(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function el(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:u,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:a,onLeave:c,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:_,onAppear:v,onAfterAppear:m,onAppearCancelled:S}=e,E=String(t.key),A=jh(n,t),$=(k,L)=>{k&&Ot(k,r,9,L)},C=(k,L)=>{const Y=L[1];$(k,L),Q(k)?k.every(te=>te.length<=1)&&Y():k.length<=1&&Y()},N={mode:i,persisted:o,beforeEnter(k){let L=l;if(!n.isMounted)if(s)L=_||l;else return;k._leaveCb&&k._leaveCb(!0);const Y=A[E];Y&&er(t,Y)&&Y.el._leaveCb&&Y.el._leaveCb(),$(L,[k])},enter(k){let L=u,Y=f,te=h;if(!n.isMounted)if(s)L=v||u,Y=m||f,te=S||h;else return;let j=!1;const ee=k._enterCb=se=>{j||(j=!0,se?$(te,[k]):$(Y,[k]),N.delayedLeave&&N.delayedLeave(),k._enterCb=void 0)};L?C(L,[k,ee]):ee()},leave(k,L){const Y=String(t.key);if(k._enterCb&&k._enterCb(!0),n.isUnmounting)return L();$(a,[k]);let te=!1;const j=k._leaveCb=ee=>{te||(te=!0,L(),ee?$(p,[k]):$(d,[k]),k._leaveCb=void 0,A[Y]===t&&delete A[Y])};A[Y]=t,c?C(c,[k,j]):j()},clone(k){return el(k,e,n,r)}};return N}function Ta(t){if(Fo(t))return t=Bn(t),t.children=null,t}function kc(t){return Fo(t)?t.children?t.children[0]:void 0:t}function tl(t,e){t.shapeFlag&6&&t.component?tl(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Hh(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===He?(o.patchFlag&128&&s++,r=r.concat(Hh(o.children,e,l))):(e||o.type!==Mt)&&r.push(l!=null?Bn(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function Zr(t){return ie(t)?{setup:t,name:t.name}:t}const Ui=t=>!!t.type.__asyncLoader,Fo=t=>t.type.__isKeepAlive;function qv(t,e){qh(t,"a",e)}function zv(t,e){qh(t,"da",e)}function qh(t,e,n=qe){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Do(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Fo(s.parent.vnode)&&Gv(r,e,n,s),s=s.parent}}function Gv(t,e,n,r){const s=Do(e,t,r,!0);zh(()=>{Jl(r[e],s)},n)}function Do(t,e,n=qe,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;Jr(),Vr(n);const l=Ot(e,n,t,o);return or(),Qr(),l});return r?s.unshift(i):s.push(i),i}}const hn=t=>(e,n=qe)=>(!Bs||t==="sp")&&Do(t,(...r)=>e(...r),n),Kv=hn("bm"),Mo=hn("m"),Wv=hn("bu"),Yv=hn("u"),No=hn("bum"),zh=hn("um"),Xv=hn("sp"),Jv=hn("rtg"),Qv=hn("rtc");function Zv(t,e=qe){Do("ec",t,e)}function Gh(t,e){const n=bt;if(n===null)return t;const r=Ho(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,l,u,f=Ae]=e[i];o&&(ie(o)&&(o={mounted:o,updated:o}),o.deep&&rr(l),s.push({dir:o,instance:r,value:l,oldValue:void 0,arg:u,modifiers:f}))}return t}function zn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let u=l.dir[r];u&&(Jr(),Ot(u,n,8,[t.el,l,t,e]),Qr())}}const uu="components";function Te(t,e){return Wh(uu,t,!0,e)||t}const Kh=Symbol();function Lo(t){return Me(t)?Wh(uu,t,!1)||t:t||Kh}function Wh(t,e,n=!0,r=!1){const s=bt||qe;if(s){const i=s.type;if(t===uu){const l=Oy(i,!1);if(l&&(l===e||l===Jt(e)||l===ko(Jt(e))))return i}const o=Cc(s[t]||i[t],e)||Cc(s.appContext[t],e);return!o&&r?i:o}}function Cc(t,e){return t&&(t[e]||t[Jt(e)]||t[ko(Jt(e))])}function Uo(t,e,n,r){let s;const i=n&&n[r];if(Q(t)||Me(t)){s=new Array(t.length);for(let o=0,l=t.length;o<l;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Ee(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,i&&i[l]));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,u=o.length;l<u;l++){const f=o[l];s[l]=e(t[f],f,l,i&&i[l])}}else s=[];return n&&(n[r]=s),s}const nl=t=>t?ip(t)?Ho(t)||t.proxy:nl(t.parent):null,ws=Je(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>nl(t.parent),$root:t=>nl(t.root),$emit:t=>t.emit,$options:t=>cu(t),$forceUpdate:t=>t.f||(t.f=()=>au(t.update)),$nextTick:t=>t.n||(t.n=Cn.bind(t.proxy)),$watch:t=>Bv.bind(t)}),Sa=(t,e)=>t!==Ae&&!t.__isScriptSetup&&pe(t,e),ey={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:u}=t;let f;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Sa(r,e))return o[e]=1,r[e];if(s!==Ae&&pe(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&pe(f,e))return o[e]=3,i[e];if(n!==Ae&&pe(n,e))return o[e]=4,n[e];rl&&(o[e]=0)}}const h=ws[e];let a,c;if(h)return e==="$attrs"&&Tt(t,"get",e),h(t);if((a=l.__cssModules)&&(a=a[e]))return a;if(n!==Ae&&pe(n,e))return o[e]=4,n[e];if(c=u.config.globalProperties,pe(c,e))return c[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Sa(s,e)?(s[e]=n,!0):r!==Ae&&pe(r,e)?(r[e]=n,!0):pe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==Ae&&pe(t,o)||Sa(e,o)||(l=i[0])&&pe(l,o)||pe(r,o)||pe(ws,o)||pe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let rl=!0;function ty(t){const e=cu(t),n=t.proxy,r=t.ctx;rl=!1,e.beforeCreate&&Rc(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:u,inject:f,created:h,beforeMount:a,mounted:c,beforeUpdate:d,updated:p,activated:_,deactivated:v,beforeDestroy:m,beforeUnmount:S,destroyed:E,unmounted:A,render:$,renderTracked:C,renderTriggered:N,errorCaptured:k,serverPrefetch:L,expose:Y,inheritAttrs:te,components:j,directives:ee,filters:se}=e;if(f&&ny(f,r,null,t.appContext.config.unwrapInjectedRef),o)for(const ae in o){const le=o[ae];ie(le)&&(r[ae]=le.bind(n))}if(s){const ae=s.call(n,n);Ee(ae)&&(t.data=dn(ae))}if(rl=!0,i)for(const ae in i){const le=i[ae],Ge=ie(le)?le.bind(n,n):ie(le.get)?le.get.bind(n,n):Dt,Qe=!ie(le)&&ie(le.set)?le.set.bind(n):Dt,Ne=me({get:Ge,set:Qe});Object.defineProperty(r,ae,{enumerable:!0,configurable:!0,get:()=>Ne.value,set:$e=>Ne.value=$e})}if(l)for(const ae in l)Yh(l[ae],r,n,ae);if(u){const ae=ie(u)?u.call(n):u;Reflect.ownKeys(ae).forEach(le=>{Dr(le,ae[le])})}h&&Rc(h,t,"c");function oe(ae,le){Q(le)?le.forEach(Ge=>ae(Ge.bind(n))):le&&ae(le.bind(n))}if(oe(Kv,a),oe(Mo,c),oe(Wv,d),oe(Yv,p),oe(qv,_),oe(zv,v),oe(Zv,k),oe(Qv,C),oe(Jv,N),oe(No,S),oe(zh,A),oe(Xv,L),Q(Y))if(Y.length){const ae=t.exposed||(t.exposed={});Y.forEach(le=>{Object.defineProperty(ae,le,{get:()=>n[le],set:Ge=>n[le]=Ge})})}else t.exposed||(t.exposed={});$&&t.render===Dt&&(t.render=$),te!=null&&(t.inheritAttrs=te),j&&(t.components=j),ee&&(t.directives=ee)}function ny(t,e,n=Dt,r=!1){Q(t)&&(t=sl(t));for(const s in t){const i=t[s];let o;Ee(i)?"default"in i?o=ft(i.from||s,i.default,!0):o=ft(i.from||s):o=ft(i),Oe(o)&&r?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[s]=o}}function Rc(t,e,n){Ot(Q(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Yh(t,e,n,r){const s=r.includes(".")?Vh(n,r):()=>n[r];if(Me(t)){const i=e[t];ie(i)&&Xe(s,i)}else if(ie(t))Xe(s,t.bind(n));else if(Ee(t))if(Q(t))t.forEach(i=>Yh(i,e,n,r));else{const i=ie(t.handler)?t.handler.bind(n):e[t.handler];ie(i)&&Xe(s,i,t)}}function cu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let u;return l?u=l:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(f=>Wi(u,f,o,!0)),Wi(u,e,o)),Ee(e)&&i.set(e,u),u}function Wi(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&Wi(t,i,n,!0),s&&s.forEach(o=>Wi(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=ry[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const ry={data:Pc,props:Yn,emits:Yn,methods:Yn,computed:Yn,beforeCreate:rt,created:rt,beforeMount:rt,mounted:rt,beforeUpdate:rt,updated:rt,beforeDestroy:rt,beforeUnmount:rt,destroyed:rt,unmounted:rt,activated:rt,deactivated:rt,errorCaptured:rt,serverPrefetch:rt,components:Yn,directives:Yn,watch:iy,provide:Pc,inject:sy};function Pc(t,e){return e?t?function(){return Je(ie(t)?t.call(this,this):t,ie(e)?e.call(this,this):e)}:e:t}function sy(t,e){return Yn(sl(t),sl(e))}function sl(t){if(Q(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function rt(t,e){return t?[...new Set([].concat(t,e))]:e}function Yn(t,e){return t?Je(Je(Object.create(null),t),e):e}function iy(t,e){if(!t)return e;if(!e)return t;const n=Je(Object.create(null),t);for(const r in e)n[r]=rt(t[r],e[r]);return n}function oy(t,e,n,r=!1){const s={},i={};zi(i,Bo,1),t.propsDefaults=Object.create(null),Xh(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:bv(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function ay(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=ge(s),[u]=t.propsOptions;let f=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let a=0;a<h.length;a++){let c=h[a];if($o(t.emitsOptions,c))continue;const d=e[c];if(u)if(pe(i,c))d!==i[c]&&(i[c]=d,f=!0);else{const p=Jt(c);s[p]=il(u,l,p,d,t,!1)}else d!==i[c]&&(i[c]=d,f=!0)}}}else{Xh(t,e,s,i)&&(f=!0);let h;for(const a in l)(!e||!pe(e,a)&&((h=Xr(a))===a||!pe(e,h)))&&(u?n&&(n[a]!==void 0||n[h]!==void 0)&&(s[a]=il(u,l,a,void 0,t,!0)):delete s[a]);if(i!==l)for(const a in i)(!e||!pe(e,a))&&(delete i[a],f=!0)}f&&ln(t,"set","$attrs")}function Xh(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let u in e){if(Ni(u))continue;const f=e[u];let h;s&&pe(s,h=Jt(u))?!i||!i.includes(h)?n[h]=f:(l||(l={}))[h]=f:$o(t.emitsOptions,u)||(!(u in r)||f!==r[u])&&(r[u]=f,o=!0)}if(i){const u=ge(n),f=l||Ae;for(let h=0;h<i.length;h++){const a=i[h];n[a]=il(s,u,a,f[a],t,!pe(f,a))}}return o}function il(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=pe(o,"default");if(l&&r===void 0){const u=o.default;if(o.type!==Function&&ie(u)){const{propsDefaults:f}=s;n in f?r=f[n]:(Vr(s),r=f[n]=u.call(null,e),or())}else r=u}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Xr(n))&&(r=!0))}return r}function Jh(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let u=!1;if(!ie(t)){const h=a=>{u=!0;const[c,d]=Jh(a,e,!0);Je(o,c),d&&l.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!u)return Ee(t)&&r.set(t,Pr),Pr;if(Q(i))for(let h=0;h<i.length;h++){const a=Jt(i[h]);$c(a)&&(o[a]=Ae)}else if(i)for(const h in i){const a=Jt(h);if($c(a)){const c=i[h],d=o[a]=Q(c)||ie(c)?{type:c}:Object.assign({},c);if(d){const p=Mc(Boolean,d.type),_=Mc(String,d.type);d[0]=p>-1,d[1]=_<0||p<_,(p>-1||pe(d,"default"))&&l.push(a)}}}const f=[o,l];return Ee(t)&&r.set(t,f),f}function $c(t){return t[0]!=="$"}function Fc(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Dc(t,e){return Fc(t)===Fc(e)}function Mc(t,e){return Q(e)?e.findIndex(n=>Dc(n,t)):ie(e)&&Dc(e,t)?0:-1}const Qh=t=>t[0]==="_"||t==="$stable",fu=t=>Q(t)?t.map(Bt):[Bt(t)],ly=(t,e,n)=>{if(e._n)return e;const r=it((...s)=>fu(e(...s)),n);return r._c=!1,r},Zh=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Qh(s))continue;const i=t[s];if(ie(i))e[s]=ly(s,i,r);else if(i!=null){const o=fu(i);e[s]=()=>o}}},ep=(t,e)=>{const n=fu(e);t.slots.default=()=>n},uy=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=ge(e),zi(e,"_",n)):Zh(e,t.slots={})}else t.slots={},e&&ep(t,e);zi(t.slots,Bo,1)},cy=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Ae;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:(Je(s,e),!n&&l===1&&delete s._):(i=!e.$stable,Zh(e,s)),o=e}else e&&(ep(t,e),o={default:1});if(i)for(const l in s)!Qh(l)&&!(l in o)&&delete s[l]};function tp(){return{app:null,config:{isNativeTag:U_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let fy=0;function dy(t,e){return function(r,s=null){ie(r)||(r=Object.assign({},r)),s!=null&&!Ee(s)&&(s=null);const i=tp(),o=new Set;let l=!1;const u=i.app={_uid:fy++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:Py,get config(){return i.config},set config(f){},use(f,...h){return o.has(f)||(f&&ie(f.install)?(o.add(f),f.install(u,...h)):ie(f)&&(o.add(f),f(u,...h))),u},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),u},component(f,h){return h?(i.components[f]=h,u):i.components[f]},directive(f,h){return h?(i.directives[f]=h,u):i.directives[f]},mount(f,h,a){if(!l){const c=X(r,s);return c.appContext=i,h&&e?e(c,f):t(c,f,a),l=!0,u._container=f,f.__vue_app__=u,Ho(c.component)||c.component.proxy}},unmount(){l&&(t(null,u._container),delete u._container.__vue_app__)},provide(f,h){return i.provides[f]=h,u}};return u}}function ol(t,e,n,r,s=!1){if(Q(t)){t.forEach((c,d)=>ol(c,e&&(Q(e)?e[d]:e),n,r,s));return}if(Ui(r)&&!s)return;const i=r.shapeFlag&4?Ho(r.component)||r.component.proxy:r.el,o=s?null:i,{i:l,r:u}=t,f=e&&e.r,h=l.refs===Ae?l.refs={}:l.refs,a=l.setupState;if(f!=null&&f!==u&&(Me(f)?(h[f]=null,pe(a,f)&&(a[f]=null)):Oe(f)&&(f.value=null)),ie(u))$n(u,l,12,[o,h]);else{const c=Me(u),d=Oe(u);if(c||d){const p=()=>{if(t.f){const _=c?pe(a,u)?a[u]:h[u]:u.value;s?Q(_)&&Jl(_,i):Q(_)?_.includes(i)||_.push(i):c?(h[u]=[i],pe(a,u)&&(a[u]=h[u])):(u.value=[i],t.k&&(h[t.k]=u.value))}else c?(h[u]=o,pe(a,u)&&(a[u]=o)):d&&(u.value=o,t.k&&(h[t.k]=o))};o?(p.id=-1,lt(p,n)):p()}}}const lt=Uv;function hy(t){return py(t)}function py(t,e){const n=z_();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:u,setText:f,setElementText:h,parentNode:a,nextSibling:c,setScopeId:d=Dt,insertStaticContent:p}=t,_=(g,y,I,O=null,P=null,V=null,q=!1,U=null,b=!!y.dynamicChildren)=>{if(g===y)return;g&&!er(g,y)&&(O=F(g),$e(g,P,V,!0),g=null),y.patchFlag===-2&&(b=!1,y.dynamicChildren=null);const{type:w,ref:D,shapeFlag:M}=y;switch(w){case Vo:v(g,y,I,O);break;case Mt:m(g,y,I,O);break;case Aa:g==null&&S(y,I,O,q);break;case He:j(g,y,I,O,P,V,q,U,b);break;default:M&1?$(g,y,I,O,P,V,q,U,b):M&6?ee(g,y,I,O,P,V,q,U,b):(M&64||M&128)&&w.process(g,y,I,O,P,V,q,U,b,ue)}D!=null&&P&&ol(D,g&&g.ref,V,y||g,!y)},v=(g,y,I,O)=>{if(g==null)r(y.el=l(y.children),I,O);else{const P=y.el=g.el;y.children!==g.children&&f(P,y.children)}},m=(g,y,I,O)=>{g==null?r(y.el=u(y.children||""),I,O):y.el=g.el},S=(g,y,I,O)=>{[g.el,g.anchor]=p(g.children,y,I,O,g.el,g.anchor)},E=({el:g,anchor:y},I,O)=>{let P;for(;g&&g!==y;)P=c(g),r(g,I,O),g=P;r(y,I,O)},A=({el:g,anchor:y})=>{let I;for(;g&&g!==y;)I=c(g),s(g),g=I;s(y)},$=(g,y,I,O,P,V,q,U,b)=>{q=q||y.type==="svg",g==null?C(y,I,O,P,V,q,U,b):L(g,y,P,V,q,U,b)},C=(g,y,I,O,P,V,q,U)=>{let b,w;const{type:D,props:M,shapeFlag:B,transition:H,dirs:K}=g;if(b=g.el=o(g.type,V,M&&M.is,M),B&8?h(b,g.children):B&16&&k(g.children,b,null,O,P,V&&D!=="foreignObject",q,U),K&&zn(g,null,O,"created"),M){for(const ce in M)ce!=="value"&&!Ni(ce)&&i(b,ce,null,M[ce],V,g.children,O,P,x);"value"in M&&i(b,"value",null,M.value),(w=M.onVnodeBeforeMount)&&Vt(w,O,g)}N(b,g,g.scopeId,q,O),K&&zn(g,null,O,"beforeMount");const re=(!P||P&&!P.pendingBranch)&&H&&!H.persisted;re&&H.beforeEnter(b),r(b,y,I),((w=M&&M.onVnodeMounted)||re||K)&&lt(()=>{w&&Vt(w,O,g),re&&H.enter(b),K&&zn(g,null,O,"mounted")},P)},N=(g,y,I,O,P)=>{if(I&&d(g,I),O)for(let V=0;V<O.length;V++)d(g,O[V]);if(P){let V=P.subTree;if(y===V){const q=P.vnode;N(g,q,q.scopeId,q.slotScopeIds,P.parent)}}},k=(g,y,I,O,P,V,q,U,b=0)=>{for(let w=b;w<g.length;w++){const D=g[w]=U?Tn(g[w]):Bt(g[w]);_(null,D,y,I,O,P,V,q,U)}},L=(g,y,I,O,P,V,q)=>{const U=y.el=g.el;let{patchFlag:b,dynamicChildren:w,dirs:D}=y;b|=g.patchFlag&16;const M=g.props||Ae,B=y.props||Ae;let H;I&&Gn(I,!1),(H=B.onVnodeBeforeUpdate)&&Vt(H,I,y,g),D&&zn(y,g,I,"beforeUpdate"),I&&Gn(I,!0);const K=P&&y.type!=="foreignObject";if(w?Y(g.dynamicChildren,w,U,I,O,K,V):q||le(g,y,U,null,I,O,K,V,!1),b>0){if(b&16)te(U,y,M,B,I,O,P);else if(b&2&&M.class!==B.class&&i(U,"class",null,B.class,P),b&4&&i(U,"style",M.style,B.style,P),b&8){const re=y.dynamicProps;for(let ce=0;ce<re.length;ce++){const ve=re[ce],mt=M[ve],At=B[ve];(At!==mt||ve==="value")&&i(U,ve,mt,At,P,g.children,I,O,x)}}b&1&&g.children!==y.children&&h(U,y.children)}else!q&&w==null&&te(U,y,M,B,I,O,P);((H=B.onVnodeUpdated)||D)&&lt(()=>{H&&Vt(H,I,y,g),D&&zn(y,g,I,"updated")},O)},Y=(g,y,I,O,P,V,q)=>{for(let U=0;U<y.length;U++){const b=g[U],w=y[U],D=b.el&&(b.type===He||!er(b,w)||b.shapeFlag&70)?a(b.el):I;_(b,w,D,null,O,P,V,q,!0)}},te=(g,y,I,O,P,V,q)=>{if(I!==O){if(I!==Ae)for(const U in I)!Ni(U)&&!(U in O)&&i(g,U,I[U],null,q,y.children,P,V,x);for(const U in O){if(Ni(U))continue;const b=O[U],w=I[U];b!==w&&U!=="value"&&i(g,U,w,b,q,y.children,P,V,x)}"value"in O&&i(g,"value",I.value,O.value)}},j=(g,y,I,O,P,V,q,U,b)=>{const w=y.el=g?g.el:l(""),D=y.anchor=g?g.anchor:l("");let{patchFlag:M,dynamicChildren:B,slotScopeIds:H}=y;H&&(U=U?U.concat(H):H),g==null?(r(w,I,O),r(D,I,O),k(y.children,I,D,P,V,q,U,b)):M>0&&M&64&&B&&g.dynamicChildren?(Y(g.dynamicChildren,B,I,P,V,q,U),(y.key!=null||P&&y===P.subTree)&&np(g,y,!0)):le(g,y,I,D,P,V,q,U,b)},ee=(g,y,I,O,P,V,q,U,b)=>{y.slotScopeIds=U,g==null?y.shapeFlag&512?P.ctx.activate(y,I,O,q,b):se(y,I,O,P,V,q,b):de(g,y,b)},se=(g,y,I,O,P,V,q)=>{const U=g.component=Ty(g,O,P);if(Fo(g)&&(U.ctx.renderer=ue),Sy(U),U.asyncDep){if(P&&P.registerDep(U,oe),!g.el){const b=U.subTree=X(Mt);m(null,b,y,I)}return}oe(U,g,y,I,P,V,q)},de=(g,y,I)=>{const O=y.component=g.component;if(Mv(g,y,I))if(O.asyncDep&&!O.asyncResolved){ae(O,y,I);return}else O.next=y,Cv(O.update),O.update();else y.el=g.el,O.vnode=y},oe=(g,y,I,O,P,V,q)=>{const U=()=>{if(g.isMounted){let{next:D,bu:M,u:B,parent:H,vnode:K}=g,re=D,ce;Gn(g,!1),D?(D.el=K.el,ae(g,D,q)):D=K,M&&Li(M),(ce=D.props&&D.props.onVnodeBeforeUpdate)&&Vt(ce,H,D,K),Gn(g,!0);const ve=Ea(g),mt=g.subTree;g.subTree=ve,_(mt,ve,a(mt.el),F(mt),g,P,V),D.el=ve.el,re===null&&Nv(g,ve.el),B&&lt(B,P),(ce=D.props&&D.props.onVnodeUpdated)&&lt(()=>Vt(ce,H,D,K),P)}else{let D;const{el:M,props:B}=y,{bm:H,m:K,parent:re}=g,ce=Ui(y);if(Gn(g,!1),H&&Li(H),!ce&&(D=B&&B.onVnodeBeforeMount)&&Vt(D,re,y),Gn(g,!0),M&&ne){const ve=()=>{g.subTree=Ea(g),ne(M,g.subTree,g,P,null)};ce?y.type.__asyncLoader().then(()=>!g.isUnmounted&&ve()):ve()}else{const ve=g.subTree=Ea(g);_(null,ve,I,O,g,P,V),y.el=ve.el}if(K&&lt(K,P),!ce&&(D=B&&B.onVnodeMounted)){const ve=y;lt(()=>Vt(D,re,ve),P)}(y.shapeFlag&256||re&&Ui(re.vnode)&&re.vnode.shapeFlag&256)&&g.a&&lt(g.a,P),g.isMounted=!0,y=I=O=null}},b=g.effect=new eu(U,()=>au(w),g.scope),w=g.update=()=>b.run();w.id=g.uid,Gn(g,!0),w()},ae=(g,y,I)=>{y.component=g;const O=g.vnode.props;g.vnode=y,g.next=null,ay(g,y.props,O,I),cy(g,y.children,I),Jr(),xc(),Qr()},le=(g,y,I,O,P,V,q,U,b=!1)=>{const w=g&&g.children,D=g?g.shapeFlag:0,M=y.children,{patchFlag:B,shapeFlag:H}=y;if(B>0){if(B&128){Qe(w,M,I,O,P,V,q,U,b);return}else if(B&256){Ge(w,M,I,O,P,V,q,U,b);return}}H&8?(D&16&&x(w,P,V),M!==w&&h(I,M)):D&16?H&16?Qe(w,M,I,O,P,V,q,U,b):x(w,P,V,!0):(D&8&&h(I,""),H&16&&k(M,I,O,P,V,q,U,b))},Ge=(g,y,I,O,P,V,q,U,b)=>{g=g||Pr,y=y||Pr;const w=g.length,D=y.length,M=Math.min(w,D);let B;for(B=0;B<M;B++){const H=y[B]=b?Tn(y[B]):Bt(y[B]);_(g[B],H,I,null,P,V,q,U,b)}w>D?x(g,P,V,!0,!1,M):k(y,I,O,P,V,q,U,b,M)},Qe=(g,y,I,O,P,V,q,U,b)=>{let w=0;const D=y.length;let M=g.length-1,B=D-1;for(;w<=M&&w<=B;){const H=g[w],K=y[w]=b?Tn(y[w]):Bt(y[w]);if(er(H,K))_(H,K,I,null,P,V,q,U,b);else break;w++}for(;w<=M&&w<=B;){const H=g[M],K=y[B]=b?Tn(y[B]):Bt(y[B]);if(er(H,K))_(H,K,I,null,P,V,q,U,b);else break;M--,B--}if(w>M){if(w<=B){const H=B+1,K=H<D?y[H].el:O;for(;w<=B;)_(null,y[w]=b?Tn(y[w]):Bt(y[w]),I,K,P,V,q,U,b),w++}}else if(w>B)for(;w<=M;)$e(g[w],P,V,!0),w++;else{const H=w,K=w,re=new Map;for(w=K;w<=B;w++){const gt=y[w]=b?Tn(y[w]):Bt(y[w]);gt.key!=null&&re.set(gt.key,w)}let ce,ve=0;const mt=B-K+1;let At=!1,mc=0;const ds=new Array(mt);for(w=0;w<mt;w++)ds[w]=0;for(w=H;w<=M;w++){const gt=g[w];if(ve>=mt){$e(gt,P,V,!0);continue}let Ut;if(gt.key!=null)Ut=re.get(gt.key);else for(ce=K;ce<=B;ce++)if(ds[ce-K]===0&&er(gt,y[ce])){Ut=ce;break}Ut===void 0?$e(gt,P,V,!0):(ds[Ut-K]=w+1,Ut>=mc?mc=Ut:At=!0,_(gt,y[Ut],I,null,P,V,q,U,b),ve++)}const gc=At?my(ds):Pr;for(ce=gc.length-1,w=mt-1;w>=0;w--){const gt=K+w,Ut=y[gt],_c=gt+1<D?y[gt+1].el:O;ds[w]===0?_(null,Ut,I,_c,P,V,q,U,b):At&&(ce<0||w!==gc[ce]?Ne(Ut,I,_c,2):ce--)}}},Ne=(g,y,I,O,P=null)=>{const{el:V,type:q,transition:U,children:b,shapeFlag:w}=g;if(w&6){Ne(g.component.subTree,y,I,O);return}if(w&128){g.suspense.move(y,I,O);return}if(w&64){q.move(g,y,I,ue);return}if(q===He){r(V,y,I);for(let M=0;M<b.length;M++)Ne(b[M],y,I,O);r(g.anchor,y,I);return}if(q===Aa){E(g,y,I);return}if(O!==2&&w&1&&U)if(O===0)U.beforeEnter(V),r(V,y,I),lt(()=>U.enter(V),P);else{const{leave:M,delayLeave:B,afterLeave:H}=U,K=()=>r(V,y,I),re=()=>{M(V,()=>{K(),H&&H()})};B?B(V,K,re):re()}else r(V,y,I)},$e=(g,y,I,O=!1,P=!1)=>{const{type:V,props:q,ref:U,children:b,dynamicChildren:w,shapeFlag:D,patchFlag:M,dirs:B}=g;if(U!=null&&ol(U,null,I,g,!0),D&256){y.ctx.deactivate(g);return}const H=D&1&&B,K=!Ui(g);let re;if(K&&(re=q&&q.onVnodeBeforeUnmount)&&Vt(re,y,g),D&6)R(g.component,I,O);else{if(D&128){g.suspense.unmount(I,O);return}H&&zn(g,null,y,"beforeUnmount"),D&64?g.type.remove(g,y,I,P,ue,O):w&&(V!==He||M>0&&M&64)?x(w,y,I,!1,!0):(V===He&&M&384||!P&&D&16)&&x(b,y,I),O&&St(g)}(K&&(re=q&&q.onVnodeUnmounted)||H)&&lt(()=>{re&&Vt(re,y,g),H&&zn(g,null,y,"unmounted")},I)},St=g=>{const{type:y,el:I,anchor:O,transition:P}=g;if(y===He){pt(I,O);return}if(y===Aa){A(g);return}const V=()=>{s(I),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(g.shapeFlag&1&&P&&!P.persisted){const{leave:q,delayLeave:U}=P,b=()=>q(I,V);U?U(g.el,V,b):b()}else V()},pt=(g,y)=>{let I;for(;g!==y;)I=c(g),s(g),g=I;s(y)},R=(g,y,I)=>{const{bum:O,scope:P,update:V,subTree:q,um:U}=g;O&&Li(O),P.stop(),V&&(V.active=!1,$e(q,g,y,I)),U&&lt(U,y),lt(()=>{g.isUnmounted=!0},y),y&&y.pendingBranch&&!y.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===y.pendingId&&(y.deps--,y.deps===0&&y.resolve())},x=(g,y,I,O=!1,P=!1,V=0)=>{for(let q=V;q<g.length;q++)$e(g[q],y,I,O,P)},F=g=>g.shapeFlag&6?F(g.component.subTree):g.shapeFlag&128?g.suspense.next():c(g.anchor||g.el),z=(g,y,I)=>{g==null?y._vnode&&$e(y._vnode,null,null,!0):_(y._vnode||null,g,y,null,null,null,I),xc(),Mh(),y._vnode=g},ue={p:_,um:$e,m:Ne,r:St,mt:se,mc:k,pc:le,pbc:Y,n:F,o:t};let _e,ne;return e&&([_e,ne]=e(ue)),{render:z,hydrate:_e,createApp:dy(z,_e)}}function Gn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function np(t,e,n=!1){const r=t.children,s=e.children;if(Q(r)&&Q(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Tn(s[i]),l.el=o.el),n||np(o,l)),l.type===Vo&&(l.el=o.el)}}function my(t){const e=t.slice(),n=[0];let r,s,i,o,l;const u=t.length;for(r=0;r<u;r++){const f=t[r];if(f!==0){if(s=n[n.length-1],t[s]<f){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<f?i=l+1:o=l;f<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const gy=t=>t.__isTeleport,He=Symbol(void 0),Vo=Symbol(void 0),Mt=Symbol(void 0),Aa=Symbol(void 0),Es=[];let $t=null;function fe(t=!1){Es.push($t=t?null:[])}function _y(){Es.pop(),$t=Es[Es.length-1]||null}let Vs=1;function Nc(t){Vs+=t}function rp(t){return t.dynamicChildren=Vs>0?$t||Pr:null,_y(),Vs>0&&$t&&$t.push(t),t}function ye(t,e,n,r,s,i){return rp(T(t,e,n,r,s,i,!0))}function Vn(t,e,n,r,s){return rp(X(t,e,n,r,s,!0))}function al(t){return t?t.__v_isVNode===!0:!1}function er(t,e){return t.type===e.type&&t.key===e.key}const Bo="__vInternal",sp=({key:t})=>t??null,Vi=({ref:t,ref_key:e,ref_for:n})=>t!=null?Me(t)||Oe(t)||ie(t)?{i:bt,r:t,k:e,f:!!n}:t:null;function T(t,e=null,n=null,r=0,s=null,i=t===He?0:1,o=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sp(e),ref:e&&Vi(e),scopeId:Uh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:bt};return l?(du(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=Me(n)?8:16),Vs>0&&!o&&$t&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&$t.push(u),u}const X=vy;function vy(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Kh)&&(t=Mt),al(t)){const l=Bn(t,e,!0);return n&&du(l,n),Vs>0&&!i&&$t&&(l.shapeFlag&6?$t[$t.indexOf(t)]=l:$t.push(l)),l.patchFlag|=-2,l}if(ky(t)&&(t=t.__vccOpts),e){e=yy(e);let{class:l,style:u}=e;l&&!Me(l)&&(e.class=Ue(l)),Ee(u)&&(Oh(u)&&!Q(u)&&(u=Je({},u)),e.style=Lr(u))}const o=Me(t)?1:Lv(t)?128:gy(t)?64:Ee(t)?4:ie(t)?2:0;return T(t,e,n,r,s,o,i,!0)}function yy(t){return t?Oh(t)||Bo in t?Je({},t):t:null}function Bn(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,l=e?by(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&sp(l),ref:e&&e.ref?n&&s?Q(s)?s.concat(Vi(e)):[s,Vi(e)]:Vi(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==He?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bn(t.ssContent),ssFallback:t.ssFallback&&Bn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function Gt(t=" ",e=0){return X(Vo,null,t,e)}function Fn(t="",e=!1){return e?(fe(),Vn(Mt,null,t)):X(Mt,null,t)}function Bt(t){return t==null||typeof t=="boolean"?X(Mt):Q(t)?X(He,null,t.slice()):typeof t=="object"?Tn(t):X(Vo,null,String(t))}function Tn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bn(t)}function du(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(Q(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),du(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(Bo in e)?e._ctx=bt:s===3&&bt&&(bt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:bt},n=32):(e=String(e),r&64?(n=16,e=[Gt(e)]):n=8);t.children=e,t.shapeFlag|=n}function by(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ue([e.class,r.class]));else if(s==="style")e.style=Lr([e.style,r.style]);else if(Io(s)){const i=e[s],o=r[s];o&&i!==o&&!(Q(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Vt(t,e,n,r=null){Ot(t,e,7,[n,r])}const wy=tp();let Ey=0;function Ty(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||wy,i={uid:Ey++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new mh(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Jh(r,s),emitsOptions:Lh(r,s),emit:null,emitted:null,propsDefaults:Ae,inheritAttrs:r.inheritAttrs,ctx:Ae,data:Ae,props:Ae,attrs:Ae,slots:Ae,refs:Ae,setupState:Ae,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=$v.bind(null,i),t.ce&&t.ce(i),i}let qe=null;const jo=()=>qe||bt,Vr=t=>{qe=t,t.scope.on()},or=()=>{qe&&qe.scope.off(),qe=null};function ip(t){return t.vnode.shapeFlag&4}let Bs=!1;function Sy(t,e=!1){Bs=e;const{props:n,children:r}=t.vnode,s=ip(t);oy(t,n,s,e),uy(t,r);const i=s?Ay(t,e):void 0;return Bs=!1,i}function Ay(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=ur(new Proxy(t.ctx,ey));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?xy(t):null;Vr(t),Jr();const i=$n(r,t,0,[t.props,s]);if(Qr(),or(),dh(i)){if(i.then(or,or),e)return i.then(o=>{Lc(t,o,e)}).catch(o=>{Po(o,t,0)});t.asyncDep=i}else Lc(t,i,e)}else op(t,e)}function Lc(t,e,n){ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ee(e)&&(t.setupState=Ph(e)),op(t,n)}let Uc;function op(t,e,n){const r=t.type;if(!t.render){if(!e&&Uc&&!r.render){const s=r.template||cu(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:u}=r,f=Je(Je({isCustomElement:i,delimiters:l},o),u);r.render=Uc(s,f)}}t.render=r.render||Dt}Vr(t),Jr(),ty(t),Qr(),or()}function Iy(t){return new Proxy(t.attrs,{get(e,n){return Tt(t,"get","$attrs"),e[n]}})}function xy(t){const e=r=>{t.exposed=r||{}};let n;return{get attrs(){return n||(n=Iy(t))},slots:t.slots,emit:t.emit,expose:e}}function Ho(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ph(ur(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in ws)return ws[n](t)},has(e,n){return n in e||n in ws}}))}function Oy(t,e=!0){return ie(t)?t.displayName||t.name:t.name||e&&t.__name}function ky(t){return ie(t)&&"__vccOpts"in t}const me=(t,e)=>xv(t,e,Bs);function cr(t,e,n){const r=arguments.length;return r===2?Ee(e)&&!Q(e)?al(e)?X(t,null,[e]):X(t,e):X(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&al(n)&&(n=[n]),X(t,e,n))}const Cy=Symbol(""),Ry=()=>ft(Cy),Py="3.2.45",$y="http://www.w3.org/2000/svg",tr=typeof document<"u"?document:null,Vc=tr&&tr.createElement("template"),Fy={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?tr.createElementNS($y,t):tr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>tr.createTextNode(t),createComment:t=>tr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Vc.innerHTML=r?`<svg>${t}</svg>`:t;const l=Vc.content;if(r){const u=l.firstChild;for(;u.firstChild;)l.appendChild(u.firstChild);l.removeChild(u)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function Dy(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function My(t,e,n){const r=t.style,s=Me(n);if(n&&!s){for(const i in n)ll(r,i,n[i]);if(e&&!Me(e))for(const i in e)n[i]==null&&ll(r,i,"")}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const Bc=/\s*!important$/;function ll(t,e,n){if(Q(n))n.forEach(r=>ll(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Ny(t,e);Bc.test(n)?t.setProperty(Xr(r),n.replace(Bc,""),"important"):t[r]=n}}const jc=["Webkit","Moz","ms"],Ia={};function Ny(t,e){const n=Ia[e];if(n)return n;let r=Jt(e);if(r!=="filter"&&r in t)return Ia[e]=r;r=ko(r);for(let s=0;s<jc.length;s++){const i=jc[s]+r;if(i in t)return Ia[e]=i}return e}const Hc="http://www.w3.org/1999/xlink";function Ly(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Hc,e.slice(6,e.length)):t.setAttributeNS(Hc,e,n);else{const i=M_(e);n==null||i&&!ch(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function Uy(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const u=n??"";(t.value!==u||t.tagName==="OPTION")&&(t.value=u),n==null&&t.removeAttribute(e);return}let l=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=ch(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{t[e]=n}catch{}l&&t.removeAttribute(e)}function ap(t,e,n,r){t.addEventListener(e,n,r)}function Vy(t,e,n,r){t.removeEventListener(e,n,r)}function By(t,e,n,r,s=null){const i=t._vei||(t._vei={}),o=i[e];if(r&&o)o.value=r;else{const[l,u]=jy(e);if(r){const f=i[e]=zy(r,s);ap(t,l,f,u)}else o&&(Vy(t,l,o,u),i[e]=void 0)}}const qc=/(?:Once|Passive|Capture)$/;function jy(t){let e;if(qc.test(t)){e={};let r;for(;r=t.match(qc);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xr(t.slice(2)),e]}let xa=0;const Hy=Promise.resolve(),qy=()=>xa||(Hy.then(()=>xa=0),xa=Date.now());function zy(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ot(Gy(r,n.value),e,5,[r])};return n.value=t,n.attached=qy(),n}function Gy(t,e){if(Q(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const zc=/^on[a-z]/,Ky=(t,e,n,r,s=!1,i,o,l,u)=>{e==="class"?Dy(t,r,s):e==="style"?My(t,n,r):Io(e)?Xl(e)||By(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Wy(t,e,r,s))?Uy(t,e,r,i,o,l,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ly(t,e,r,s))};function Wy(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&zc.test(e)&&ie(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||zc.test(e)&&Me(n)?!1:e in t}const _n="transition",hs="animation",hu=(t,{slots:e})=>cr(Bh,Yy(t),e);hu.displayName="Transition";const lp={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};hu.props=Je({},Bh.props,lp);const Kn=(t,e=[])=>{Q(t)?t.forEach(n=>n(...e)):t&&t(...e)},Gc=t=>t?Q(t)?t.some(e=>e.length>1):t.length>1:!1;function Yy(t){const e={};for(const j in t)j in lp||(e[j]=t[j]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:f=o,appearToClass:h=l,leaveFromClass:a=`${n}-leave-from`,leaveActiveClass:c=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=Xy(s),_=p&&p[0],v=p&&p[1],{onBeforeEnter:m,onEnter:S,onEnterCancelled:E,onLeave:A,onLeaveCancelled:$,onBeforeAppear:C=m,onAppear:N=S,onAppearCancelled:k=E}=e,L=(j,ee,se)=>{Wn(j,ee?h:l),Wn(j,ee?f:o),se&&se()},Y=(j,ee)=>{j._isLeaving=!1,Wn(j,a),Wn(j,d),Wn(j,c),ee&&ee()},te=j=>(ee,se)=>{const de=j?N:S,oe=()=>L(ee,j,se);Kn(de,[ee,oe]),Kc(()=>{Wn(ee,j?u:i),vn(ee,j?h:l),Gc(de)||Wc(ee,r,_,oe)})};return Je(e,{onBeforeEnter(j){Kn(m,[j]),vn(j,i),vn(j,o)},onBeforeAppear(j){Kn(C,[j]),vn(j,u),vn(j,f)},onEnter:te(!1),onAppear:te(!0),onLeave(j,ee){j._isLeaving=!0;const se=()=>Y(j,ee);vn(j,a),Zy(),vn(j,c),Kc(()=>{j._isLeaving&&(Wn(j,a),vn(j,d),Gc(A)||Wc(j,r,v,se))}),Kn(A,[j,se])},onEnterCancelled(j){L(j,!1),Kn(E,[j])},onAppearCancelled(j){L(j,!0),Kn(k,[j])},onLeaveCancelled(j){Y(j),Kn($,[j])}})}function Xy(t){if(t==null)return null;if(Ee(t))return[Oa(t.enter),Oa(t.leave)];{const e=Oa(t);return[e,e]}}function Oa(t){return Co(t)}function vn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Wn(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Kc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Jy=0;function Wc(t,e,n,r){const s=t._endId=++Jy,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:l,propCount:u}=Qy(t,e);if(!o)return r();const f=o+"end";let h=0;const a=()=>{t.removeEventListener(f,c),i()},c=d=>{d.target===t&&++h>=u&&a()};setTimeout(()=>{h<u&&a()},l+1),t.addEventListener(f,c)}function Qy(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${_n}Delay`),i=r(`${_n}Duration`),o=Yc(s,i),l=r(`${hs}Delay`),u=r(`${hs}Duration`),f=Yc(l,u);let h=null,a=0,c=0;e===_n?o>0&&(h=_n,a=o,c=i.length):e===hs?f>0&&(h=hs,a=f,c=u.length):(a=Math.max(o,f),h=a>0?o>f?_n:hs:null,c=h?h===_n?i.length:u.length:0);const d=h===_n&&/\b(transform|all)(,|$)/.test(r(`${_n}Property`).toString());return{type:h,timeout:a,propCount:c,hasTransform:d}}function Yc(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Xc(n)+Xc(t[r])))}function Xc(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Zy(){return document.body.offsetHeight}const Jc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return Q(e)?n=>Li(e,n):e},e0={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=xo(e);ap(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Co(Yi(o)):Yi(o));t._assign(t.multiple?s?new Set(i):i:i[0])}),t._assign=Jc(r)},mounted(t,{value:e}){Qc(t,e)},beforeUpdate(t,e,n){t._assign=Jc(n)},updated(t,{value:e}){Qc(t,e)}};function Qc(t,e){const n=t.multiple;if(!(n&&!Q(e)&&!xo(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=Yi(i);if(n)Q(e)?i.selected=L_(e,o)>-1:i.selected=e.has(o);else if(Ao(Yi(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Yi(t){return"_value"in t?t._value:t.value}const t0=["ctrl","shift","alt","meta"],n0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>t0.some(n=>t[`${n}Key`]&&!e.includes(n))},Ce=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=n0[e[s]];if(i&&i(n,e))return}return t(n,...r)},r0={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):ps(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),ps(t,!0),r.enter(t)):r.leave(t,()=>{ps(t,!1)}):ps(t,e))},beforeUnmount(t,{value:e}){ps(t,e)}};function ps(t,e){t.style.display=e?t._vod:"none"}const s0=Je({patchProp:Ky},Fy);let Zc;function i0(){return Zc||(Zc=hy(s0))}const o0=(...t)=>{const e=i0().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=a0(r);if(!s)return;const i=e._component;!ie(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function a0(t){return Me(t)?document.querySelector(t):t}var l0=!1;/*!
  * pinia v2.0.28
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let up;const qo=t=>up=t,cp=Symbol();function ul(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Ts;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Ts||(Ts={}));function u0(){const t=gh(!0),e=t.run(()=>xe({}));let n=[],r=[];const s=ur({install(i){qo(s),s._a=i,i.provide(cp,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!l0?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const fp=()=>{};function ef(t,e,n,r=fp){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&K_()&&W_(s),s}function Sr(t,...e){t.slice().forEach(n=>{n(...e)})}function cl(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];ul(s)&&ul(r)&&t.hasOwnProperty(n)&&!Oe(r)&&!Pn(r)?t[n]=cl(s,r):t[n]=r}return t}const c0=Symbol();function f0(t){return!ul(t)||!t.hasOwnProperty(c0)}const{assign:Sn}=Object;function d0(t){return!!(Oe(t)&&t.effect)}function h0(t,e,n,r){const{state:s,actions:i,getters:o}=e,l=n.state.value[t];let u;function f(){l||(n.state.value[t]=s?s():{});const h=Sv(n.state.value[t]);return Sn(h,i,Object.keys(o||{}).reduce((a,c)=>(a[c]=ur(me(()=>{qo(n);const d=n._s.get(t);return o[c].call(d,d)})),a),{}))}return u=dp(t,f,e,n,r,!0),u.$reset=function(){const a=s?s():{};this.$patch(c=>{Sn(c,a)})},u}function dp(t,e,n={},r,s,i){let o;const l=Sn({actions:{}},n),u={deep:!0};let f,h,a=ur([]),c=ur([]),d;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),xe({});let _;function v(N){let k;f=h=!1,typeof N=="function"?(N(r.state.value[t]),k={type:Ts.patchFunction,storeId:t,events:d}):(cl(r.state.value[t],N),k={type:Ts.patchObject,payload:N,storeId:t,events:d});const L=_=Symbol();Cn().then(()=>{_===L&&(f=!0)}),h=!0,Sr(a,k,r.state.value[t])}const m=fp;function S(){o.stop(),a=[],c=[],r._s.delete(t)}function E(N,k){return function(){qo(r);const L=Array.from(arguments),Y=[],te=[];function j(de){Y.push(de)}function ee(de){te.push(de)}Sr(c,{args:L,name:N,store:$,after:j,onError:ee});let se;try{se=k.apply(this&&this.$id===t?this:$,L)}catch(de){throw Sr(te,de),de}return se instanceof Promise?se.then(de=>(Sr(Y,de),de)).catch(de=>(Sr(te,de),Promise.reject(de))):(Sr(Y,se),se)}}const A={_p:r,$id:t,$onAction:ef.bind(null,c),$patch:v,$reset:m,$subscribe(N,k={}){const L=ef(a,N,k.detached,()=>Y()),Y=o.run(()=>Xe(()=>r.state.value[t],te=>{(k.flush==="sync"?h:f)&&N({storeId:t,type:Ts.direct,events:d},te)},Sn({},u,k)));return L},$dispose:S},$=dn(A);r._s.set(t,$);const C=r._e.run(()=>(o=gh(),o.run(()=>e())));for(const N in C){const k=C[N];if(Oe(k)&&!d0(k)||Pn(k))i||(p&&f0(k)&&(Oe(k)?k.value=p[N]:cl(k,p[N])),r.state.value[t][N]=k);else if(typeof k=="function"){const L=E(N,k);C[N]=L,l.actions[N]=k}}return Sn($,C),Sn(ge($),C),Object.defineProperty($,"$state",{get:()=>r.state.value[t],set:N=>{v(k=>{Sn(k,N)})}}),r._p.forEach(N=>{Sn($,o.run(()=>N({store:$,app:r._a,pinia:r,options:l})))}),p&&i&&n.hydrate&&n.hydrate($.$state,p),f=!0,h=!0,$}function zo(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(l,u){const f=jo();return l=l||f&&ft(cp,null),l&&qo(l),l=up,l._s.has(r)||(i?dp(r,e,s,l):h0(r,s,l)),l._s.get(r)}return o.$id=r,o}function Xi(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const s=t(this.$pinia),i=e[r];return typeof i=="function"?i.call(this,s):s[i]},n),{})}function Kt(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(...s){return t(this.$pinia)[r](...s)},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(...s){return t(this.$pinia)[e[r]](...s)},n),{})}/**
  * vee-validate v4.7.3
  * (c) 2022 Abdelrahman Awad
  * @license MIT
  */function Br(t){return typeof t=="function"}function Ss(t){return t==null}const fr=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function hp(t){return Number(t)>=0}function p0(t){const e=parseFloat(t);return isNaN(e)?t:e}const m0={};function g0(t){return m0[t]}const ni=Symbol("vee-validate-form"),_0=Symbol("vee-validate-field-instance"),Ji=Symbol("Default empty value"),v0=typeof window<"u";function fl(t){return Br(t)&&!!t.__locatorRef}function As(t){return!!t&&Br(t.validate)}function jr(t){return t==="checkbox"||t==="radio"}function y0(t){return fr(t)||Array.isArray(t)}function pp(t){return Array.isArray(t)?t.length===0:fr(t)&&Object.keys(t).length===0}function Go(t){return/^\[.+\]$/i.test(t)}function b0(t){return mp(t)&&t.multiple}function mp(t){return t.tagName==="SELECT"}function w0(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function E0(t,e){return!w0(t,e)&&e.type!=="file"&&!jr(e.type)}function gp(t){return pu(t)&&t.target&&"submit"in t.target}function pu(t){return t?!!(typeof Event<"u"&&Br(Event)&&t instanceof Event||t&&t.srcElement):!1}function tf(t,e){return e in t&&t[e]!==Ji}function ze(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!ze(t[r],e[r]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;for(r of t.entries())if(!ze(r[1],e.get(r[0])))return!1;return!0}if(nf(t)&&nf(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){var i=s[r];if(!ze(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function nf(t){return v0?t instanceof File:!1}function rf(t,e,n){typeof n.value=="object"&&(n.value=Ie(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Ie(t){if(typeof t!="object")return t;var e=0,n,r,s,i=Object.prototype.toString.call(t);if(i==="[object Object]"?s=Object.create(t.__proto__||null):i==="[object Array]"?s=Array(t.length):i==="[object Set]"?(s=new Set,t.forEach(function(o){s.add(Ie(o))})):i==="[object Map]"?(s=new Map,t.forEach(function(o,l){s.set(Ie(l),Ie(o))})):i==="[object Date]"?s=new Date(+t):i==="[object RegExp]"?s=new RegExp(t.source,t.flags):i==="[object DataView]"?s=new t.constructor(Ie(t.buffer)):i==="[object ArrayBuffer]"?s=t.slice(0):i.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)rf(s,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(s,n=r[e])&&s[n]===t[n]||rf(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}function mu(t){return Go(t)?t.replace(/\[|\]/gi,""):t}function Fe(t,e,n){return t?Go(e)?t[mu(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,i)=>y0(s)&&i in s?s[i]:n,t):n}function wn(t,e,n){if(Go(e)){t[mu(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let i=0;i<r.length;i++){if(i===r.length-1){s[r[i]]=n;return}(!(r[i]in s)||Ss(s[r[i]]))&&(s[r[i]]=hp(r[i+1])?[]:{}),s=s[r[i]]}}function ka(t,e){if(Array.isArray(t)&&hp(e)){t.splice(Number(e),1);return}fr(t)&&delete t[e]}function Oi(t,e){if(Go(e)){delete t[mu(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let i=0;i<n.length;i++){if(i===n.length-1){ka(r,n[i]);break}if(!(n[i]in r)||Ss(r[n[i]]))break;r=r[n[i]]}const s=n.map((i,o)=>Fe(t,n.slice(0,o).join(".")));for(let i=s.length-1;i>=0;i--)if(pp(s[i])){if(i===0){ka(t,n[0]);continue}ka(s[i-1],n[i-1])}}function Ke(t){return Object.keys(t)}function gu(t,e=void 0){const n=jo();return(n==null?void 0:n.provides[t])||ft(t,e)}function dl(t,e,n){if(Array.isArray(t)){const r=[...t],s=r.findIndex(i=>ze(i,e));return s>=0?r.splice(s,1):r.push(e),r}return ze(t,e)?n:e}function sf(t,e=0){let n=null,r=[];return function(...s){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const i=t(...s);r.forEach(o=>o(i)),r=[]},e),new Promise(i=>r.push(i))}}function T0(t,e){return fr(e)&&e.number?p0(t):t}function hl(t,e){let n;return async function(...s){const i=t(...s);n=i;const o=await i;return i!==n||(n=void 0,e(o,s)),o}}function S0({get:t,set:e}){const n=xe(Ie(t()));return Xe(t,r=>{ze(r,n.value)||(n.value=Ie(r))},{deep:!0}),Xe(n,r=>{ze(r,t())||e(Ie(r))},{deep:!0}),n}const Ko=(t,e,n)=>e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var r,s;return(s=(r=e.slots).default)===null||s===void 0?void 0:s.call(r,n())}}:e.slots.default;function Ca(t){if(_p(t))return t._value}function _p(t){return"_value"in t}function _u(t){if(!pu(t))return t;const e=t.target;if(jr(e.type)&&_p(e))return Ca(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(b0(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(Ca);if(mp(e)){const n=Array.from(e.options).find(r=>r.selected);return n?Ca(n):e.value}return e.value}function vp(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?fr(t)&&t._$$isNormalized?t:fr(t)?Object.keys(t).reduce((n,r)=>{const s=A0(t[r]);return t[r]!==!1&&(n[r]=of(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const s=I0(r);return s.name&&(n[s.name]=of(s.params)),n},e):e}function A0(t){return t===!0?[]:Array.isArray(t)||fr(t)?t:[t]}function of(t){const e=n=>typeof n=="string"&&n[0]==="@"?x0(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const I0=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function x0(t){const e=n=>Fe(n,t)||n[t];return e.__locatorRef=t,e}function O0(t){return Array.isArray(t)?t.filter(fl):Ke(t).filter(e=>fl(t[e])).map(e=>t[e])}const k0={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let C0=Object.assign({},k0);const vu=()=>C0;async function yp(t,e,n={}){const r=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,bails:r??!0,formData:(n==null?void 0:n.values)||{}},o=(await R0(s,t)).errors;return{errors:o,valid:!o.length}}async function R0(t,e){if(As(t.rules))return P0(e,t.rules,{bails:t.bails});if(Br(t.rules)||Array.isArray(t.rules)){const o={field:t.name,form:t.formData,value:e},l=Array.isArray(t.rules)?t.rules:[t.rules],u=l.length,f=[];for(let h=0;h<u;h++){const a=l[h],c=await a(e,o);if(typeof c!="string"&&c)continue;const p=typeof c=="string"?c:bp(o);if(f.push(p),t.bails)return{errors:f}}return{errors:f}}const n=Object.assign(Object.assign({},t),{rules:vp(t.rules)}),r=[],s=Object.keys(n.rules),i=s.length;for(let o=0;o<i;o++){const l=s[o],u=await $0(n,e,{name:l,params:n.rules[l]});if(u.error&&(r.push(u.error),t.bails))return{errors:r}}return{errors:r}}async function P0(t,e,n){var r;return{errors:await e.validate(t,{abortEarly:(r=n.bails)!==null&&r!==void 0?r:!0}).then(()=>[]).catch(i=>{if(i.name==="ValidationError")return i.errors;throw i})}}async function $0(t,e,n){const r=g0(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const s=F0(n.params,t.formData),i={field:t.name,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},o=await r(e,s,i);return typeof o=="string"?{error:o}:{error:o?void 0:bp(i)}}function bp(t){const e=vu().generateMessage;return e?e(t):"Field is invalid"}function F0(t,e){const n=r=>fl(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,s)=>(r[s]=n(t[s]),r),{})}async function D0(t,e){const n=await t.validate(e,{abortEarly:!1}).then(()=>[]).catch(i=>{if(i.name!=="ValidationError")throw i;return i.inner||[]}),r={},s={};for(const i of n){const o=i.errors;r[i.path]={valid:!o.length,errors:o},o.length&&(s[i.path]=o[0])}return{valid:!n.length,results:r,errors:s}}async function M0(t,e,n){const s=Ke(t).map(async f=>{var h,a,c;const d=await yp(Fe(e,f),t[f],{name:((h=n==null?void 0:n.names)===null||h===void 0?void 0:h[f])||f,values:e,bails:(c=(a=n==null?void 0:n.bailsMap)===null||a===void 0?void 0:a[f])!==null&&c!==void 0?c:!0});return Object.assign(Object.assign({},d),{path:f})});let i=!0;const o=await Promise.all(s),l={},u={};for(const f of o)l[f.path]={valid:f.valid,errors:f.errors},f.valid||(i=!1,u[f.path]=f.errors[0]);return{valid:i,results:l,errors:u}}let af=0;function N0(t,e){const{value:n,initialValue:r,setInitialValue:s}=wp(t,e.modelValue,e.form),{errorMessage:i,errors:o,setErrors:l}=U0(t,e.form),u=L0(n,r,o),f=af>=Number.MAX_SAFE_INTEGER?0:++af;function h(a){var c;"value"in a&&(n.value=a.value),"errors"in a&&l(a.errors),"touched"in a&&(u.touched=(c=a.touched)!==null&&c!==void 0?c:u.touched),"initialValue"in a&&s(a.initialValue)}return{id:f,path:t,value:n,initialValue:r,meta:u,errors:o,errorMessage:i,setState:h}}function wp(t,e,n){const r=xe(G(e));function s(){return n?Fe(n.meta.value.initialValues,G(t),G(r)):G(r)}function i(f){if(!n){r.value=f;return}n.stageInitialValue(G(t),f,!0)}const o=me(s);if(!n)return{value:xe(s()),initialValue:o,setInitialValue:i};const l=e?G(e):Fe(n.values,G(t),G(o));return n.stageInitialValue(G(t),l,!0),{value:me({get(){return Fe(n.values,G(t))},set(f){n.setFieldValue(G(t),f)}}),initialValue:o,setInitialValue:i}}function L0(t,e,n){const r=dn({touched:!1,pending:!1,valid:!0,validated:!!G(n).length,initialValue:me(()=>G(e)),dirty:me(()=>!ze(G(t),G(e)))});return Xe(n,s=>{r.valid=!s.length},{immediate:!0,flush:"sync"}),r}function U0(t,e){function n(s){return s?Array.isArray(s)?s:[s]:[]}if(!e){const s=xe([]);return{errors:s,errorMessage:me(()=>s.value[0]),setErrors:i=>{s.value=n(i)}}}const r=me(()=>e.errorBag.value[G(t)]||[]);return{errors:r,errorMessage:me(()=>r.value[0]),setErrors:s=>{e.setFieldErrorBag(G(t),n(s))}}}function V0(t,e,n){return jr(n==null?void 0:n.type)?H0(t,e,n):Ep(t,e,n)}function Ep(t,e,n){const{initialValue:r,validateOnMount:s,bails:i,type:o,checkedValue:l,label:u,validateOnValueUpdate:f,uncheckedValue:h,controlled:a,keepValueOnUnmount:c,modelPropName:d,syncVModel:p,form:_}=B0(G(t),n),v=a?gu(ni):void 0,m=_||v;let S=!1;const{id:E,value:A,initialValue:$,meta:C,setState:N,errors:k,errorMessage:L}=N0(t,{modelValue:r,form:m});p&&q0({value:A,prop:d,handleChange:oe});const Y=()=>{C.touched=!0},te=me(()=>{let x=G(e);const F=G(m==null?void 0:m.schema);return F&&!As(F)&&(x=j0(F,G(t))||x),As(x)||Br(x)||Array.isArray(x)?x:vp(x)});async function j(x){var F,z;return m!=null&&m.validateSchema?(F=(await m.validateSchema(x)).results[G(t)])!==null&&F!==void 0?F:{valid:!0,errors:[]}:yp(A.value,te.value,{name:G(u)||G(t),values:(z=m==null?void 0:m.values)!==null&&z!==void 0?z:{},bails:i})}const ee=hl(async()=>(C.pending=!0,C.validated=!0,j("validated-only")),x=>(S&&(x.valid=!0,x.errors=[]),N({errors:x.errors}),C.pending=!1,x)),se=hl(async()=>j("silent"),x=>(S&&(x.valid=!0),C.valid=x.valid,x));function de(x){return(x==null?void 0:x.mode)==="silent"?se():ee()}function oe(x,F=!0){const z=_u(x);A.value=z,!f&&F&&ee()}Mo(()=>{if(s)return ee();(!m||!m.validateSchema)&&se()});function ae(x){C.touched=x}let le,Ge=Ie(A.value);function Qe(){le=Xe(A,(x,F)=>{if(ze(x,F)&&ze(x,Ge))return;(f?ee:se)(),Ge=Ie(x)},{deep:!0})}Qe();function Ne(x){var F;le==null||le();const z=x&&"value"in x?x.value:$.value;N({value:Ie(z),initialValue:Ie(z),touched:(F=x==null?void 0:x.touched)!==null&&F!==void 0?F:!1,errors:(x==null?void 0:x.errors)||[]}),C.pending=!1,C.validated=!1,se(),Cn(()=>{Qe()})}function $e(x){A.value=x}function St(x){N({errors:Array.isArray(x)?x:[x]})}const pt={id:E,name:t,label:u,value:A,meta:C,errors:k,errorMessage:L,type:o,checkedValue:l,uncheckedValue:h,bails:i,keepValueOnUnmount:c,resetField:Ne,handleReset:()=>Ne(),validate:de,handleChange:oe,handleBlur:Y,setState:N,setTouched:ae,setErrors:St,setValue:$e};if(Dr(_0,pt),Oe(e)&&typeof G(e)!="function"&&Xe(e,(x,F)=>{ze(x,F)||(C.validated?ee():se())},{deep:!0}),!m)return pt;m.register(pt),No(()=>{S=!0,m.unregister(pt)});const R=me(()=>{const x=te.value;return!x||Br(x)||As(x)||Array.isArray(x)?{}:Object.keys(x).reduce((F,z)=>{const ue=O0(x[z]).map(_e=>_e.__locatorRef).reduce((_e,ne)=>{const g=Fe(m.values,ne)||m.values[ne];return g!==void 0&&(_e[ne]=g),_e},{});return Object.assign(F,ue),F},{})});return Xe(R,(x,F)=>{if(!Object.keys(x).length)return;!ze(x,F)&&(C.validated?ee():se())}),pt}function B0(t,e){const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:t,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0});if(!e)return n();const r="valueProp"in e?e.valueProp:e.checkedValue,s="standalone"in e?!e.standalone:e.controlled;return Object.assign(Object.assign(Object.assign({},n()),e||{}),{controlled:s??!0,checkedValue:r})}function j0(t,e){if(t)return t[e]}function H0(t,e,n){const r=n!=null&&n.standalone?void 0:gu(ni),s=n==null?void 0:n.checkedValue,i=n==null?void 0:n.uncheckedValue;function o(l){const u=l.handleChange,f=me(()=>{const a=G(l.value),c=G(s);return Array.isArray(a)?a.findIndex(d=>ze(d,c))>=0:ze(c,a)});function h(a,c=!0){var d;if(f.value===((d=a==null?void 0:a.target)===null||d===void 0?void 0:d.checked)){c&&l.validate();return}let p=_u(a);r||(p=dl(G(l.value),G(s),G(i))),u(p,c)}return Object.assign(Object.assign({},l),{checked:f,checkedValue:s,uncheckedValue:i,handleChange:h})}return o(Ep(t,e,n))}function q0({prop:t,value:e,handleChange:n}){const r=jo();if(!r)return;const s=t||"modelValue",i=`update:${s}`;s in r.props&&(Xe(e,o=>{ze(o,lf(r,s))||r.emit(i,o)}),Xe(()=>lf(r,s),o=>{if(o===Ji&&e.value===void 0)return;const l=o===Ji?void 0:o;ze(l,T0(e.value,r.props.modelModifiers))||n(l)}))}function lf(t,e){return t.props[e]}const z0=Zr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>vu().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Ji},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=Ht(t,"rules"),r=Ht(t,"name"),s=Ht(t,"label"),i=Ht(t,"uncheckedValue"),o=Ht(t,"keepValue"),{errors:l,value:u,errorMessage:f,validate:h,handleChange:a,handleBlur:c,setTouched:d,resetField:p,handleReset:_,meta:v,checked:m,setErrors:S}=V0(r,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:K0(t,e),checkedValue:e.attrs.value,uncheckedValue:i,label:s,validateOnValueUpdate:!1,keepValueOnUnmount:o}),E=function(L,Y=!0){a(L,Y),e.emit("update:modelValue",u.value)},A=k=>{jr(e.attrs.type)||(u.value=_u(k))},$=function(L){A(L),e.emit("update:modelValue",u.value)},C=me(()=>{const{validateOnInput:k,validateOnChange:L,validateOnBlur:Y,validateOnModelUpdate:te}=G0(t),j=[c,e.attrs.onBlur,Y?h:void 0].filter(Boolean),ee=[ae=>E(ae,k),e.attrs.onInput].filter(Boolean),se=[ae=>E(ae,L),e.attrs.onChange].filter(Boolean),de={name:t.name,onBlur:j,onInput:ee,onChange:se};de["onUpdate:modelValue"]=ae=>E(ae,te),jr(e.attrs.type)&&m&&(de.checked=m.value);const oe=uf(t,e);return E0(oe,e.attrs)&&(de.value=u.value),de});function N(){return{field:C.value,value:u.value,meta:v,errors:l.value,errorMessage:f.value,validate:h,resetField:p,handleChange:E,handleInput:$,handleReset:_,handleBlur:c,setTouched:d,setErrors:S}}return e.expose({setErrors:S,setTouched:d,reset:p,validate:h,handleChange:a}),()=>{const k=Lo(uf(t,e)),L=Ko(k,e,N);return k?cr(k,Object.assign(Object.assign({},e.attrs),C.value),L):L}}});function uf(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function G0(t){var e,n,r,s;const{validateOnInput:i,validateOnChange:o,validateOnBlur:l,validateOnModelUpdate:u}=vu();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:i,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:o,validateOnBlur:(r=t.validateOnBlur)!==null&&r!==void 0?r:l,validateOnModelUpdate:(s=t.validateOnModelUpdate)!==null&&s!==void 0?s:u}}function K0(t,e){return jr(e.attrs.type)?tf(t,"modelValue")?t.modelValue:void 0:tf(t,"modelValue")?t.modelValue:e.attrs.value}const W0=z0;let Y0=0;function X0(t){var e;const n=Y0++,r=new Set;let s=!1;const i=xe({}),o=xe(!1),l=xe(0),u=[],f=dn(Ie(G(t==null?void 0:t.initialValues)||{})),{errorBag:h,setErrorBag:a,setFieldErrorBag:c}=Z0(t==null?void 0:t.initialErrors),d=me(()=>Ke(h.value).reduce((b,w)=>{const D=h.value[w];return D&&D.length&&(b[w]=D[0]),b},{}));function p(b){const w=i.value[b];return Array.isArray(w)?w[0]:w}function _(b){return!!i.value[b]}const v=me(()=>Ke(i.value).reduce((b,w)=>{const D=p(w);return D&&(b[w]=G(D.label||D.name)||""),b},{})),m=me(()=>Ke(i.value).reduce((b,w)=>{var D;const M=p(w);return M&&(b[w]=(D=M.bails)!==null&&D!==void 0?D:!0),b},{})),S=Object.assign({},(t==null?void 0:t.initialErrors)||{}),E=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:A,originalInitialValues:$,setInitialValues:C}=Q0(i,f,t==null?void 0:t.initialValues),N=J0(i,f,$,d),k=me(()=>[...r,...Ke(i.value)].reduce((b,w)=>{const D=Fe(f,w);return wn(b,w,D),b},{})),L=t==null?void 0:t.validationSchema,Y=sf(q,5),te=sf(q,5),j=hl(async b=>await b==="silent"?Y():te(),(b,[w])=>{const D=oe.fieldsByPath.value||{},M=Ke(oe.errorBag.value);return[...new Set([...Ke(b.results),...Ke(D),...M])].reduce((H,K)=>{const re=D[K],ce=(b.results[K]||{errors:[]}).errors,ve={errors:ce,valid:!ce.length};if(H.results[K]=ve,ve.valid||(H.errors[K]=ve.errors[0]),!re)return Qe(K,ce),H;if(le(re,At=>At.meta.valid=ve.valid),w==="silent")return H;const mt=Array.isArray(re)?re.some(At=>At.meta.validated):re.meta.validated;return w==="validated-only"&&!mt||le(re,At=>At.setState({errors:ve.errors})),H},{valid:b.valid,results:{},errors:{}})});function ee(b){return function(D,M){return function(H){return H instanceof Event&&(H.preventDefault(),H.stopPropagation()),F(Ke(i.value).reduce((K,re)=>(K[re]=!0,K),{})),o.value=!0,l.value++,y().then(K=>{const re=Ie(f);if(K.valid&&typeof D=="function"){const ce=Ie(k.value);return D(b?ce:re,{evt:H,controlledValues:ce,setErrors:Ne,setFieldError:Qe,setTouched:F,setFieldTouched:x,setValues:St,setFieldValue:$e,resetForm:z})}!K.valid&&typeof M=="function"&&M({values:re,evt:H,errors:K.errors,results:K.results})}).then(K=>(o.value=!1,K),K=>{throw o.value=!1,K})}}}const de=ee(!1);de.withControlled=ee(!0);const oe={formId:n,fieldsByPath:i,values:f,controlledValues:k,errorBag:h,errors:d,schema:L,submitCount:l,meta:N,isSubmitting:o,fieldArrays:u,keepValuesOnUnmount:E,validateSchema:G(L)?j:void 0,validate:y,register:ne,unregister:g,setFieldErrorBag:c,validateField:I,setFieldValue:$e,setValues:St,setErrors:Ne,setFieldError:Qe,setFieldTouched:x,setTouched:F,resetForm:z,handleSubmit:de,stageInitialValue:P,unsetInitialValue:O,setFieldInitialValue:V,useFieldModel:R};function ae(b){return Array.isArray(b)}function le(b,w){return Array.isArray(b)?b.forEach(w):w(b)}function Ge(b){Object.values(i.value).forEach(w=>{w&&le(w,b)})}function Qe(b,w){c(b,w)}function Ne(b){a(b)}function $e(b,w,{force:D}={force:!1}){var M;const B=i.value[b],H=Ie(w);if(!B){wn(f,b,H);return}if(ae(B)&&((M=B[0])===null||M===void 0?void 0:M.type)==="checkbox"&&!Array.isArray(w)){const re=Ie(dl(Fe(f,b)||[],w,void 0));wn(f,b,re);return}let K=H;!ae(B)&&B.type==="checkbox"&&!D&&!s&&(K=Ie(dl(Fe(f,b),w,G(B.uncheckedValue)))),wn(f,b,K)}function St(b){Ke(f).forEach(w=>{delete f[w]}),Ke(b).forEach(w=>{$e(w,b[w])}),u.forEach(w=>w&&w.reset())}function pt(b){const{value:w}=wp(b,void 0,oe);return Xe(w,()=>{_(G(b))||y({mode:"validated-only"})},{deep:!0}),r.add(G(b)),w}function R(b){return Array.isArray(b)?b.map(pt):pt(b)}function x(b,w){const D=i.value[b];D&&le(D,M=>M.setTouched(w))}function F(b){Ke(b).forEach(w=>{x(w,!!b[w])})}function z(b){s=!0,Ge(D=>D.resetField());const w=b!=null&&b.values?b.values:$.value;C(w),St(w),b!=null&&b.touched&&F(b.touched),Ne((b==null?void 0:b.errors)||{}),l.value=(b==null?void 0:b.submitCount)||0,Cn(()=>{s=!1})}function ue(b,w){const D=ur(b),M=w;if(!i.value[M]){i.value[M]=D;return}const B=i.value[M];B&&!Array.isArray(B)&&(i.value[M]=[B]),i.value[M]=[...i.value[M],D]}function _e(b,w){const D=w,M=i.value[D];if(M){if(!ae(M)&&b.id===M.id){delete i.value[D];return}if(ae(M)){const B=M.findIndex(H=>H.id===b.id);if(B===-1)return;M.splice(B,1),M.length||delete i.value[D]}}}function ne(b){const w=G(b.name);ue(b,w),Oe(b.name)&&Xe(b.name,async(M,B)=>{await Cn(),_e(b,B),ue(b,M),(d.value[B]||d.value[M])&&(Qe(B,void 0),I(M)),await Cn(),_(B)||Oi(f,B)});const D=G(b.errorMessage);D&&(S==null?void 0:S[w])!==D&&I(w),delete S[w]}function g(b){const w=G(b.name),D=i.value[w],M=!!D&&ae(D);_e(b,w),Cn(()=>{var B;const H=(B=G(b.keepValueOnUnmount))!==null&&B!==void 0?B:G(E),K=Fe(f,w);if(M&&(D===i.value[w]||!i.value[w])&&!H)if(Array.isArray(K)){const ce=K.findIndex(ve=>ze(ve,G(b.checkedValue)));if(ce>-1){const ve=[...K];ve.splice(ce,1),$e(w,ve,{force:!0})}}else K===G(b.checkedValue)&&Oi(f,w);if(!_(w)){if(Qe(w,void 0),H||M&&Array.isArray(K)&&!pp(K))return;Oi(f,w)}})}async function y(b){const w=(b==null?void 0:b.mode)||"force";if(w==="force"&&Ge(H=>H.meta.validated=!0),oe.validateSchema)return oe.validateSchema(w);const D=await Promise.all(Object.values(i.value).map(H=>{const K=Array.isArray(H)?H[0]:H;return K?K.validate(b).then(re=>({key:G(K.name),valid:re.valid,errors:re.errors})):Promise.resolve({key:"",valid:!0,errors:[]})})),M={},B={};for(const H of D)M[H.key]={valid:H.valid,errors:H.errors},H.errors.length&&(B[H.key]=H.errors[0]);return{valid:D.every(H=>H.valid),results:M,errors:B}}async function I(b){const w=i.value[b];return w?Array.isArray(w)?w.map(D=>D.validate())[0]:w.validate():Promise.resolve({errors:[],valid:!0})}function O(b){Oi(A.value,b)}function P(b,w,D=!1){wn(f,b,w),V(b,w),D&&!(t!=null&&t.initialValues)&&wn($.value,b,Ie(w))}function V(b,w){wn(A.value,b,Ie(w))}async function q(){const b=G(L);return b?As(b)?await D0(b,f):await M0(b,f,{names:v.value,bailsMap:m.value}):{valid:!0,results:{},errors:{}}}const U=de((b,{evt:w})=>{gp(w)&&w.target.submit()});return Mo(()=>{if(t!=null&&t.initialErrors&&Ne(t.initialErrors),t!=null&&t.initialTouched&&F(t.initialTouched),t!=null&&t.validateOnMount){y();return}oe.validateSchema&&oe.validateSchema("silent")}),Oe(L)&&Xe(L,()=>{var b;(b=oe.validateSchema)===null||b===void 0||b.call(oe,"validated-only")}),Dr(ni,oe),Object.assign(Object.assign({},oe),{handleReset:()=>z(),submitForm:U})}function J0(t,e,n,r){const s={touched:"some",pending:"some",valid:"every"},i=me(()=>!ze(e,G(n)));function o(){const u=Object.values(t.value).flat(1).filter(Boolean);return Ke(s).reduce((f,h)=>{const a=s[h];return f[h]=u[a](c=>c.meta[h]),f},{})}const l=dn(o());return Vv(()=>{const u=o();l.touched=u.touched,l.valid=u.valid,l.pending=u.pending}),me(()=>Object.assign(Object.assign({initialValues:G(n)},l),{valid:l.valid&&!Ke(r.value).length,dirty:i.value}))}function Q0(t,e,n){const r=xe(Ie(G(n))||{}),s=xe(Ie(G(n))||{});function i(o,l=!1){r.value=Ie(o),s.value=Ie(o),l&&Ke(t.value).forEach(u=>{const f=t.value[u],h=Array.isArray(f)?f.some(c=>c.meta.touched):f==null?void 0:f.meta.touched;if(!f||h)return;const a=Fe(r.value,u);wn(e,u,Ie(a))})}return Oe(n)&&Xe(n,o=>{i(o,!0)},{deep:!0}),{initialValues:r,originalInitialValues:s,setInitialValues:i}}function Z0(t){const e=xe({});function n(i){return Array.isArray(i)?i:i?[i]:[]}function r(i,o){if(!o){delete e.value[i];return}e.value[i]=n(o)}function s(i){e.value=Ke(i).reduce((o,l)=>{const u=i[l];return u&&(o[l]=n(u)),o},{})}return t&&s(t),{errorBag:e,setErrorBag:s,setFieldErrorBag:r}}const eb=Zr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=Ht(t,"initialValues"),r=Ht(t,"validationSchema"),s=Ht(t,"keepValues"),{errors:i,values:o,meta:l,isSubmitting:u,submitCount:f,controlledValues:h,validate:a,validateField:c,handleReset:d,resetForm:p,handleSubmit:_,setErrors:v,setFieldError:m,setFieldValue:S,setValues:E,setFieldTouched:A,setTouched:$}=X0({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:s}),C=_((te,{evt:j})=>{gp(j)&&j.target.submit()},t.onInvalidSubmit),N=t.onSubmit?_(t.onSubmit,t.onInvalidSubmit):C;function k(te){pu(te)&&te.preventDefault(),d(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function L(te,j){return _(typeof te=="function"&&!j?te:j,t.onInvalidSubmit)(te)}function Y(){return{meta:l.value,errors:i.value,values:o,isSubmitting:u.value,submitCount:f.value,controlledValues:h.value,validate:a,validateField:c,handleSubmit:L,handleReset:d,submitForm:C,setErrors:v,setFieldError:m,setFieldValue:S,setValues:E,setFieldTouched:A,setTouched:$,resetForm:p}}return e.expose({setFieldError:m,setErrors:v,setFieldValue:S,setValues:E,setFieldTouched:A,setTouched:$,resetForm:p,validate:a,validateField:c}),function(){const j=t.as==="form"?t.as:Lo(t.as),ee=Ko(j,e,Y);if(!t.as)return ee;const se=t.as==="form"?{novalidate:!0}:{};return cr(j,Object.assign(Object.assign(Object.assign({},se),e.attrs),{onSubmit:N,onReset:k}),ee)}}}),tb=eb;function nb(t){const e=gu(ni,void 0),n=xe([]),r=()=>{},s={fields:n,remove:r,push:r,swap:r,insert:r,update:r,replace:r,prepend:r,move:r};if(!e||!G(t))return s;const i=e.fieldArrays.find(E=>G(E.path)===G(t));if(i)return i;let o=0;function l(){const E=Fe(e==null?void 0:e.values,G(t),[])||[];n.value=E.map(f),u()}l();function u(){const E=n.value.length;for(let A=0;A<E;A++){const $=n.value[A];$.isFirst=A===0,$.isLast=A===E-1}}function f(E){const A=o++;return{key:A,value:S0({get(){const C=Fe(e==null?void 0:e.values,G(t),[])||[],N=n.value.findIndex(k=>k.key===A);return N===-1?E:C[N]},set(C){const N=n.value.findIndex(k=>k.key===A);N!==-1&&_(N,C)}}),isFirst:!1,isLast:!1}}function h(E){const A=G(t),$=Fe(e==null?void 0:e.values,A);if(!$||!Array.isArray($))return;const C=[...$];C.splice(E,1),e==null||e.unsetInitialValue(A+`[${E}]`),e==null||e.setFieldValue(A,C),n.value.splice(E,1),u()}function a(E){const A=G(t),$=Fe(e==null?void 0:e.values,A),C=Ss($)?[]:$;if(!Array.isArray(C))return;const N=[...C];N.push(E),e==null||e.stageInitialValue(A+`[${N.length-1}]`,E),e==null||e.setFieldValue(A,N),n.value.push(f(E)),u()}function c(E,A){const $=G(t),C=Fe(e==null?void 0:e.values,$);if(!Array.isArray(C)||!(E in C)||!(A in C))return;const N=[...C],k=[...n.value],L=N[E];N[E]=N[A],N[A]=L;const Y=k[E];k[E]=k[A],k[A]=Y,e==null||e.setFieldValue($,N),n.value=k,u()}function d(E,A){const $=G(t),C=Fe(e==null?void 0:e.values,$);if(!Array.isArray(C)||C.length<E)return;const N=[...C],k=[...n.value];N.splice(E,0,A),k.splice(E,0,f(A)),e==null||e.setFieldValue($,N),n.value=k,u()}function p(E){const A=G(t);e==null||e.setFieldValue(A,E),l()}function _(E,A){const $=G(t),C=Fe(e==null?void 0:e.values,$);!Array.isArray(C)||C.length-1<E||(e==null||e.setFieldValue(`${$}[${E}]`,A),e==null||e.validate({mode:"validated-only"}))}function v(E){const A=G(t),$=Fe(e==null?void 0:e.values,A),C=Ss($)?[]:$;if(!Array.isArray(C))return;const N=[E,...C];e==null||e.stageInitialValue(A+`[${N.length-1}]`,E),e==null||e.setFieldValue(A,N),n.value.unshift(f(E)),u()}function m(E,A){const $=G(t),C=Fe(e==null?void 0:e.values,$),N=Ss(C)?[]:[...C];if(!Array.isArray(C)||!(E in C)||!(A in C))return;const k=[...n.value],L=k[E];k.splice(E,1),k.splice(A,0,L);const Y=N[E];N.splice(E,1),N.splice(A,0,Y),e==null||e.setFieldValue($,N),n.value=k,u()}const S={fields:n,remove:h,push:a,swap:c,insert:d,update:_,replace:p,prepend:v,move:m};return e.fieldArrays.push(Object.assign({path:t,reset:l},S)),No(()=>{const E=e.fieldArrays.findIndex(A=>G(A.path)===G(t));E>=0&&e.fieldArrays.splice(E,1)}),S}Zr({name:"FieldArray",inheritAttrs:!1,props:{name:{type:String,required:!0}},setup(t,e){const{push:n,remove:r,swap:s,insert:i,replace:o,update:l,prepend:u,move:f,fields:h}=nb(Ht(t,"name"));function a(){return{fields:h.value,push:n,remove:r,swap:s,insert:i,update:l,replace:o,prepend:u,move:f}}return e.expose({push:n,remove:r,swap:s,insert:i,update:l,replace:o,prepend:u,move:f}),()=>Ko(void 0,e,a)}});const rb=Zr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=ft(ni,void 0),r=me(()=>n==null?void 0:n.errors.value[t.name]);function s(){return{message:r.value}}return()=>{if(!r.value)return;const i=t.as?Lo(t.as):t.as,o=Ko(i,e,s),l=Object.assign({role:"alert"},e.attrs);return!i&&(Array.isArray(o)||!o)&&(o!=null&&o.length)?o:(Array.isArray(o)||!o)&&!(o!=null&&o.length)?cr(i||"span",l,r.value):cr(i,l,o)}}}),sb=rb;var pl;try{pl=Map}catch{}var ml;try{ml=Set}catch{}function Tp(t,e,n){if(!t||typeof t!="object"||typeof t=="function")return t;if(t.nodeType&&"cloneNode"in t)return t.cloneNode(!0);if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp)return new RegExp(t);if(Array.isArray(t))return t.map(gl);if(pl&&t instanceof pl)return new Map(Array.from(t.entries()));if(ml&&t instanceof ml)return new Set(Array.from(t.values()));if(t instanceof Object){e.push(t);var r=Object.create(t);n.push(r);for(var s in t){var i=e.findIndex(function(o){return o===t[s]});r[s]=i>-1?n[i]:Tp(t[s],e,n)}return r}return t}function gl(t){return Tp(t,[],[])}const ib=Object.prototype.toString,ob=Error.prototype.toString,ab=RegExp.prototype.toString,lb=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",ub=/^Symbol\((.*)\)(.*)$/;function cb(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function cf(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return cb(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return lb.call(t).replace(ub,"Symbol($1)");const r=ib.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+ob.call(t)+"]":r==="RegExp"?ab.call(t):null}function js(t,e){let n=cf(t,e);return n!==null?n:JSON.stringify(t,function(r,s){let i=cf(this[r],e);return i!==null?i:s},2)}let Xn={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{let s=r!=null&&r!==n,i=`${t} must be a \`${e}\` type, but the final value was: \`${js(n,!0)}\``+(s?` (cast from the value \`${js(r,!0)}\`).`:".");return n===null&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},Ct={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},En={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},_l={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},fb={isValue:"${path} field must be ${value}"},vl={noUnknown:"${path} field has unspecified keys: ${unknown}"},db={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:Xn,string:Ct,number:En,date:_l,object:vl,array:db,boolean:fb});var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hb=Object.prototype,pb=hb.hasOwnProperty;function mb(t,e){return t!=null&&pb.call(t,e)}var gb=mb,_b=Array.isArray,Hn=_b,vb=typeof tn=="object"&&tn&&tn.Object===Object&&tn,Sp=vb,yb=Sp,bb=typeof self=="object"&&self&&self.Object===Object&&self,wb=yb||bb||Function("return this")(),pn=wb,Eb=pn,Tb=Eb.Symbol,Wo=Tb,ff=Wo,Ap=Object.prototype,Sb=Ap.hasOwnProperty,Ab=Ap.toString,ms=ff?ff.toStringTag:void 0;function Ib(t){var e=Sb.call(t,ms),n=t[ms];try{t[ms]=void 0;var r=!0}catch{}var s=Ab.call(t);return r&&(e?t[ms]=n:delete t[ms]),s}var xb=Ib,Ob=Object.prototype,kb=Ob.toString;function Cb(t){return kb.call(t)}var Rb=Cb,df=Wo,Pb=xb,$b=Rb,Fb="[object Null]",Db="[object Undefined]",hf=df?df.toStringTag:void 0;function Mb(t){return t==null?t===void 0?Db:Fb:hf&&hf in Object(t)?Pb(t):$b(t)}var ri=Mb;function Nb(t){return t!=null&&typeof t=="object"}var si=Nb,Lb=ri,Ub=si,Vb="[object Symbol]";function Bb(t){return typeof t=="symbol"||Ub(t)&&Lb(t)==Vb}var yu=Bb,jb=Hn,Hb=yu,qb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zb=/^\w*$/;function Gb(t,e){if(jb(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Hb(t)?!0:zb.test(t)||!qb.test(t)||e!=null&&t in Object(e)}var bu=Gb;function Kb(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var wu=Kb,Wb=ri,Yb=wu,Xb="[object AsyncFunction]",Jb="[object Function]",Qb="[object GeneratorFunction]",Zb="[object Proxy]";function ew(t){if(!Yb(t))return!1;var e=Wb(t);return e==Jb||e==Qb||e==Xb||e==Zb}var Ip=ew,tw=pn,nw=tw["__core-js_shared__"],rw=nw,Ra=rw,pf=function(){var t=/[^.]+$/.exec(Ra&&Ra.keys&&Ra.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function sw(t){return!!pf&&pf in t}var iw=sw,ow=Function.prototype,aw=ow.toString;function lw(t){if(t!=null){try{return aw.call(t)}catch{}try{return t+""}catch{}}return""}var xp=lw,uw=Ip,cw=iw,fw=wu,dw=xp,hw=/[\\^$.*+?()[\]{}|]/g,pw=/^\[object .+?Constructor\]$/,mw=Function.prototype,gw=Object.prototype,_w=mw.toString,vw=gw.hasOwnProperty,yw=RegExp("^"+_w.call(vw).replace(hw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function bw(t){if(!fw(t)||cw(t))return!1;var e=uw(t)?yw:pw;return e.test(dw(t))}var ww=bw;function Ew(t,e){return t==null?void 0:t[e]}var Tw=Ew,Sw=ww,Aw=Tw;function Iw(t,e){var n=Aw(t,e);return Sw(n)?n:void 0}var br=Iw,xw=br,Ow=xw(Object,"create"),Yo=Ow,mf=Yo;function kw(){this.__data__=mf?mf(null):{},this.size=0}var Cw=kw;function Rw(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Pw=Rw,$w=Yo,Fw="__lodash_hash_undefined__",Dw=Object.prototype,Mw=Dw.hasOwnProperty;function Nw(t){var e=this.__data__;if($w){var n=e[t];return n===Fw?void 0:n}return Mw.call(e,t)?e[t]:void 0}var Lw=Nw,Uw=Yo,Vw=Object.prototype,Bw=Vw.hasOwnProperty;function jw(t){var e=this.__data__;return Uw?e[t]!==void 0:Bw.call(e,t)}var Hw=jw,qw=Yo,zw="__lodash_hash_undefined__";function Gw(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qw&&e===void 0?zw:e,this}var Kw=Gw,Ww=Cw,Yw=Pw,Xw=Lw,Jw=Hw,Qw=Kw;function es(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}es.prototype.clear=Ww;es.prototype.delete=Yw;es.prototype.get=Xw;es.prototype.has=Jw;es.prototype.set=Qw;var Zw=es;function eE(){this.__data__=[],this.size=0}var tE=eE;function nE(t,e){return t===e||t!==t&&e!==e}var Op=nE,rE=Op;function sE(t,e){for(var n=t.length;n--;)if(rE(t[n][0],e))return n;return-1}var Xo=sE,iE=Xo,oE=Array.prototype,aE=oE.splice;function lE(t){var e=this.__data__,n=iE(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():aE.call(e,n,1),--this.size,!0}var uE=lE,cE=Xo;function fE(t){var e=this.__data__,n=cE(e,t);return n<0?void 0:e[n][1]}var dE=fE,hE=Xo;function pE(t){return hE(this.__data__,t)>-1}var mE=pE,gE=Xo;function _E(t,e){var n=this.__data__,r=gE(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var vE=_E,yE=tE,bE=uE,wE=dE,EE=mE,TE=vE;function ts(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ts.prototype.clear=yE;ts.prototype.delete=bE;ts.prototype.get=wE;ts.prototype.has=EE;ts.prototype.set=TE;var Jo=ts,SE=br,AE=pn,IE=SE(AE,"Map"),Eu=IE,gf=Zw,xE=Jo,OE=Eu;function kE(){this.size=0,this.__data__={hash:new gf,map:new(OE||xE),string:new gf}}var CE=kE;function RE(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var PE=RE,$E=PE;function FE(t,e){var n=t.__data__;return $E(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Qo=FE,DE=Qo;function ME(t){var e=DE(this,t).delete(t);return this.size-=e?1:0,e}var NE=ME,LE=Qo;function UE(t){return LE(this,t).get(t)}var VE=UE,BE=Qo;function jE(t){return BE(this,t).has(t)}var HE=jE,qE=Qo;function zE(t,e){var n=qE(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var GE=zE,KE=CE,WE=NE,YE=VE,XE=HE,JE=GE;function ns(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ns.prototype.clear=KE;ns.prototype.delete=WE;ns.prototype.get=YE;ns.prototype.has=XE;ns.prototype.set=JE;var Tu=ns,kp=Tu,QE="Expected a function";function Su(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(QE);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Su.Cache||kp),n}Su.Cache=kp;var ZE=Su,eT=ZE,tT=500;function nT(t){var e=eT(t,function(r){return n.size===tT&&n.clear(),r}),n=e.cache;return e}var rT=nT,sT=rT,iT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oT=/\\(\\)?/g,aT=sT(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(iT,function(n,r,s,i){e.push(s?i.replace(oT,"$1"):r||n)}),e}),lT=aT;function uT(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var cT=uT,_f=Wo,fT=cT,dT=Hn,hT=yu,pT=1/0,vf=_f?_f.prototype:void 0,yf=vf?vf.toString:void 0;function Cp(t){if(typeof t=="string")return t;if(dT(t))return fT(t,Cp)+"";if(hT(t))return yf?yf.call(t):"";var e=t+"";return e=="0"&&1/t==-pT?"-0":e}var mT=Cp,gT=mT;function _T(t){return t==null?"":gT(t)}var ii=_T,vT=Hn,yT=bu,bT=lT,wT=ii;function ET(t,e){return vT(t)?t:yT(t,e)?[t]:bT(wT(t))}var Rp=ET,TT=ri,ST=si,AT="[object Arguments]";function IT(t){return ST(t)&&TT(t)==AT}var xT=IT,bf=xT,OT=si,Pp=Object.prototype,kT=Pp.hasOwnProperty,CT=Pp.propertyIsEnumerable,RT=bf(function(){return arguments}())?bf:function(t){return OT(t)&&kT.call(t,"callee")&&!CT.call(t,"callee")},$p=RT,PT=9007199254740991,$T=/^(?:0|[1-9]\d*)$/;function FT(t,e){var n=typeof t;return e=e??PT,!!e&&(n=="number"||n!="symbol"&&$T.test(t))&&t>-1&&t%1==0&&t<e}var Fp=FT,DT=9007199254740991;function MT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=DT}var Au=MT,NT=yu,LT=1/0;function UT(t){if(typeof t=="string"||NT(t))return t;var e=t+"";return e=="0"&&1/t==-LT?"-0":e}var Zo=UT,VT=Rp,BT=$p,jT=Hn,HT=Fp,qT=Au,zT=Zo;function GT(t,e,n){e=VT(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=zT(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&qT(s)&&HT(o,s)&&(jT(t)||BT(t)))}var Dp=GT,KT=gb,WT=Dp;function YT(t,e){return t!=null&&WT(t,e,KT)}var Qi=YT;const Mp=t=>t&&t.__isYupSchema__;class XT{constructor(e,n){if(this.fn=void 0,this.refs=e,this.refs=e,typeof n=="function"){this.fn=n;return}if(!Qi(n,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:s,otherwise:i}=n,o=typeof r=="function"?r:(...l)=>l.every(u=>u===r);this.fn=function(...l){let u=l.pop(),f=l.pop(),h=o(...l)?s:i;if(h)return typeof h=="function"?h(f):f.concat(h.resolve(u))}}resolve(e,n){let r=this.refs.map(i=>i.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),s=this.fn.apply(e,r.concat(e,n));if(s===void 0||s===e)return e;if(!Mp(s))throw new TypeError("conditions must return a schema object");return s.resolve(n)}}function Np(t){return t==null?[]:[].concat(t)}function yl(){return yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}let JT=/\$\{\s*(\w+)\s*\}/g;class wt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=yl({},n,{path:r})),typeof e=="string"?e.replace(JT,(s,i)=>js(n[i])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=n,this.path=r,this.type=s,this.errors=[],this.inner=[],Np(e).forEach(i=>{wt.isError(i)?(this.errors.push(...i.errors),this.inner=this.inner.concat(i.inner.length?i.inner:i)):this.errors.push(i)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,wt)}}const QT=t=>{let e=!1;return(...n)=>{e||(e=!0,t(...n))}};function bl(t,e){let{endEarly:n,tests:r,args:s,value:i,errors:o,sort:l,path:u}=t,f=QT(e),h=r.length;const a=[];if(o=o||[],!h)return o.length?f(new wt(o,i,u)):f(null,i);for(let c=0;c<r.length;c++){const d=r[c];d(s,function(_){if(_){if(!wt.isError(_))return f(_,i);if(n)return _.value=i,f(_,i);a.push(_)}if(--h<=0){if(a.length&&(l&&a.sort(l),o.length&&a.push(...o),o=a),o.length){f(new wt(o,i,u),i);return}f(null,i)}})}}var ZT=br,e1=function(){try{var t=ZT(Object,"defineProperty");return t({},"",{}),t}catch{}}(),t1=e1,wf=t1;function n1(t,e,n){e=="__proto__"&&wf?wf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Lp=n1;function r1(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var u=o[t?l:++s];if(n(i[u],u,i)===!1)break}return e}}var s1=r1,i1=s1,o1=i1(),a1=o1;function l1(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var u1=l1,Hs={},c1={get exports(){return Hs},set exports(t){Hs=t}};function f1(){return!1}var d1=f1;(function(t,e){var n=pn,r=d1,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,u=l?l.isBuffer:void 0,f=u||r;t.exports=f})(c1,Hs);var h1=ri,p1=Au,m1=si,g1="[object Arguments]",_1="[object Array]",v1="[object Boolean]",y1="[object Date]",b1="[object Error]",w1="[object Function]",E1="[object Map]",T1="[object Number]",S1="[object Object]",A1="[object RegExp]",I1="[object Set]",x1="[object String]",O1="[object WeakMap]",k1="[object ArrayBuffer]",C1="[object DataView]",R1="[object Float32Array]",P1="[object Float64Array]",$1="[object Int8Array]",F1="[object Int16Array]",D1="[object Int32Array]",M1="[object Uint8Array]",N1="[object Uint8ClampedArray]",L1="[object Uint16Array]",U1="[object Uint32Array]",Se={};Se[R1]=Se[P1]=Se[$1]=Se[F1]=Se[D1]=Se[M1]=Se[N1]=Se[L1]=Se[U1]=!0;Se[g1]=Se[_1]=Se[k1]=Se[v1]=Se[C1]=Se[y1]=Se[b1]=Se[w1]=Se[E1]=Se[T1]=Se[S1]=Se[A1]=Se[I1]=Se[x1]=Se[O1]=!1;function V1(t){return m1(t)&&p1(t.length)&&!!Se[h1(t)]}var B1=V1;function j1(t){return function(e){return t(e)}}var H1=j1,Zi={},q1={get exports(){return Zi},set exports(t){Zi=t}};(function(t,e){var n=Sp,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var u=s&&s.require&&s.require("util").types;return u||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(q1,Zi);var z1=B1,G1=H1,Ef=Zi,Tf=Ef&&Ef.isTypedArray,K1=Tf?G1(Tf):z1,Up=K1,W1=u1,Y1=$p,X1=Hn,J1=Hs,Q1=Fp,Z1=Up,eS=Object.prototype,tS=eS.hasOwnProperty;function nS(t,e){var n=X1(t),r=!n&&Y1(t),s=!n&&!r&&J1(t),i=!n&&!r&&!s&&Z1(t),o=n||r||s||i,l=o?W1(t.length,String):[],u=l.length;for(var f in t)(e||tS.call(t,f))&&!(o&&(f=="length"||s&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||Q1(f,u)))&&l.push(f);return l}var rS=nS,sS=Object.prototype;function iS(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||sS;return t===n}var oS=iS;function aS(t,e){return function(n){return t(e(n))}}var lS=aS,uS=lS,cS=uS(Object.keys,Object),fS=cS,dS=oS,hS=fS,pS=Object.prototype,mS=pS.hasOwnProperty;function gS(t){if(!dS(t))return hS(t);var e=[];for(var n in Object(t))mS.call(t,n)&&n!="constructor"&&e.push(n);return e}var _S=gS,vS=Ip,yS=Au;function bS(t){return t!=null&&yS(t.length)&&!vS(t)}var wS=bS,ES=rS,TS=_S,SS=wS;function AS(t){return SS(t)?ES(t):TS(t)}var Iu=AS,IS=a1,xS=Iu;function OS(t,e){return t&&IS(t,e,xS)}var Vp=OS,kS=Jo;function CS(){this.__data__=new kS,this.size=0}var RS=CS;function PS(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var $S=PS;function FS(t){return this.__data__.get(t)}var DS=FS;function MS(t){return this.__data__.has(t)}var NS=MS,LS=Jo,US=Eu,VS=Tu,BS=200;function jS(t,e){var n=this.__data__;if(n instanceof LS){var r=n.__data__;if(!US||r.length<BS-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new VS(r)}return n.set(t,e),this.size=n.size,this}var HS=jS,qS=Jo,zS=RS,GS=$S,KS=DS,WS=NS,YS=HS;function rs(t){var e=this.__data__=new qS(t);this.size=e.size}rs.prototype.clear=zS;rs.prototype.delete=GS;rs.prototype.get=KS;rs.prototype.has=WS;rs.prototype.set=YS;var Bp=rs,XS="__lodash_hash_undefined__";function JS(t){return this.__data__.set(t,XS),this}var QS=JS;function ZS(t){return this.__data__.has(t)}var eA=ZS,tA=Tu,nA=QS,rA=eA;function eo(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new tA;++e<n;)this.add(t[e])}eo.prototype.add=eo.prototype.push=nA;eo.prototype.has=rA;var sA=eo;function iA(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var oA=iA;function aA(t,e){return t.has(e)}var lA=aA,uA=sA,cA=oA,fA=lA,dA=1,hA=2;function pA(t,e,n,r,s,i){var o=n&dA,l=t.length,u=e.length;if(l!=u&&!(o&&u>l))return!1;var f=i.get(t),h=i.get(e);if(f&&h)return f==e&&h==t;var a=-1,c=!0,d=n&hA?new uA:void 0;for(i.set(t,e),i.set(e,t);++a<l;){var p=t[a],_=e[a];if(r)var v=o?r(_,p,a,e,t,i):r(p,_,a,t,e,i);if(v!==void 0){if(v)continue;c=!1;break}if(d){if(!cA(e,function(m,S){if(!fA(d,S)&&(p===m||s(p,m,n,r,i)))return d.push(S)})){c=!1;break}}else if(!(p===_||s(p,_,n,r,i))){c=!1;break}}return i.delete(t),i.delete(e),c}var jp=pA,mA=pn,gA=mA.Uint8Array,_A=gA;function vA(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var yA=vA;function bA(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var wA=bA,Sf=Wo,Af=_A,EA=Op,TA=jp,SA=yA,AA=wA,IA=1,xA=2,OA="[object Boolean]",kA="[object Date]",CA="[object Error]",RA="[object Map]",PA="[object Number]",$A="[object RegExp]",FA="[object Set]",DA="[object String]",MA="[object Symbol]",NA="[object ArrayBuffer]",LA="[object DataView]",If=Sf?Sf.prototype:void 0,Pa=If?If.valueOf:void 0;function UA(t,e,n,r,s,i,o){switch(n){case LA:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case NA:return!(t.byteLength!=e.byteLength||!i(new Af(t),new Af(e)));case OA:case kA:case PA:return EA(+t,+e);case CA:return t.name==e.name&&t.message==e.message;case $A:case DA:return t==e+"";case RA:var l=SA;case FA:var u=r&IA;if(l||(l=AA),t.size!=e.size&&!u)return!1;var f=o.get(t);if(f)return f==e;r|=xA,o.set(t,e);var h=TA(l(t),l(e),r,s,i,o);return o.delete(t),h;case MA:if(Pa)return Pa.call(t)==Pa.call(e)}return!1}var VA=UA;function BA(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var jA=BA,HA=jA,qA=Hn;function zA(t,e,n){var r=e(t);return qA(t)?r:HA(r,n(t))}var GA=zA;function KA(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var WA=KA;function YA(){return[]}var XA=YA,JA=WA,QA=XA,ZA=Object.prototype,eI=ZA.propertyIsEnumerable,xf=Object.getOwnPropertySymbols,tI=xf?function(t){return t==null?[]:(t=Object(t),JA(xf(t),function(e){return eI.call(t,e)}))}:QA,nI=tI,rI=GA,sI=nI,iI=Iu;function oI(t){return rI(t,iI,sI)}var aI=oI,Of=aI,lI=1,uI=Object.prototype,cI=uI.hasOwnProperty;function fI(t,e,n,r,s,i){var o=n&lI,l=Of(t),u=l.length,f=Of(e),h=f.length;if(u!=h&&!o)return!1;for(var a=u;a--;){var c=l[a];if(!(o?c in e:cI.call(e,c)))return!1}var d=i.get(t),p=i.get(e);if(d&&p)return d==e&&p==t;var _=!0;i.set(t,e),i.set(e,t);for(var v=o;++a<u;){c=l[a];var m=t[c],S=e[c];if(r)var E=o?r(S,m,c,e,t,i):r(m,S,c,t,e,i);if(!(E===void 0?m===S||s(m,S,n,r,i):E)){_=!1;break}v||(v=c=="constructor")}if(_&&!v){var A=t.constructor,$=e.constructor;A!=$&&"constructor"in t&&"constructor"in e&&!(typeof A=="function"&&A instanceof A&&typeof $=="function"&&$ instanceof $)&&(_=!1)}return i.delete(t),i.delete(e),_}var dI=fI,hI=br,pI=pn,mI=hI(pI,"DataView"),gI=mI,_I=br,vI=pn,yI=_I(vI,"Promise"),bI=yI,wI=br,EI=pn,TI=wI(EI,"Set"),SI=TI,AI=br,II=pn,xI=AI(II,"WeakMap"),OI=xI,wl=gI,El=Eu,Tl=bI,Sl=SI,Al=OI,Hp=ri,ss=xp,kf="[object Map]",kI="[object Object]",Cf="[object Promise]",Rf="[object Set]",Pf="[object WeakMap]",$f="[object DataView]",CI=ss(wl),RI=ss(El),PI=ss(Tl),$I=ss(Sl),FI=ss(Al),Jn=Hp;(wl&&Jn(new wl(new ArrayBuffer(1)))!=$f||El&&Jn(new El)!=kf||Tl&&Jn(Tl.resolve())!=Cf||Sl&&Jn(new Sl)!=Rf||Al&&Jn(new Al)!=Pf)&&(Jn=function(t){var e=Hp(t),n=e==kI?t.constructor:void 0,r=n?ss(n):"";if(r)switch(r){case CI:return $f;case RI:return kf;case PI:return Cf;case $I:return Rf;case FI:return Pf}return e});var DI=Jn,$a=Bp,MI=jp,NI=VA,LI=dI,Ff=DI,Df=Hn,Mf=Hs,UI=Up,VI=1,Nf="[object Arguments]",Lf="[object Array]",ki="[object Object]",BI=Object.prototype,Uf=BI.hasOwnProperty;function jI(t,e,n,r,s,i){var o=Df(t),l=Df(e),u=o?Lf:Ff(t),f=l?Lf:Ff(e);u=u==Nf?ki:u,f=f==Nf?ki:f;var h=u==ki,a=f==ki,c=u==f;if(c&&Mf(t)){if(!Mf(e))return!1;o=!0,h=!1}if(c&&!h)return i||(i=new $a),o||UI(t)?MI(t,e,n,r,s,i):NI(t,e,u,n,r,s,i);if(!(n&VI)){var d=h&&Uf.call(t,"__wrapped__"),p=a&&Uf.call(e,"__wrapped__");if(d||p){var _=d?t.value():t,v=p?e.value():e;return i||(i=new $a),s(_,v,n,r,i)}}return c?(i||(i=new $a),LI(t,e,n,r,s,i)):!1}var HI=jI,qI=HI,Vf=si;function qp(t,e,n,r,s){return t===e?!0:t==null||e==null||!Vf(t)&&!Vf(e)?t!==t&&e!==e:qI(t,e,n,r,qp,s)}var zp=qp,zI=Bp,GI=zp,KI=1,WI=2;function YI(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=n[s];var u=l[0],f=t[u],h=l[1];if(o&&l[2]){if(f===void 0&&!(u in t))return!1}else{var a=new zI;if(r)var c=r(f,h,u,t,e,a);if(!(c===void 0?GI(h,f,KI|WI,r,a):c))return!1}}return!0}var XI=YI,JI=wu;function QI(t){return t===t&&!JI(t)}var Gp=QI,ZI=Gp,ex=Iu;function tx(t){for(var e=ex(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,ZI(s)]}return e}var nx=tx;function rx(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Kp=rx,sx=XI,ix=nx,ox=Kp;function ax(t){var e=ix(t);return e.length==1&&e[0][2]?ox(e[0][0],e[0][1]):function(n){return n===t||sx(n,t,e)}}var lx=ax,ux=Rp,cx=Zo;function fx(t,e){e=ux(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[cx(e[n++])];return n&&n==r?t:void 0}var Wp=fx,dx=Wp;function hx(t,e,n){var r=t==null?void 0:dx(t,e);return r===void 0?n:r}var px=hx;function mx(t,e){return t!=null&&e in Object(t)}var gx=mx,_x=gx,vx=Dp;function yx(t,e){return t!=null&&vx(t,e,_x)}var bx=yx,wx=zp,Ex=px,Tx=bx,Sx=bu,Ax=Gp,Ix=Kp,xx=Zo,Ox=1,kx=2;function Cx(t,e){return Sx(t)&&Ax(e)?Ix(xx(t),e):function(n){var r=Ex(n,t);return r===void 0&&r===e?Tx(n,t):wx(e,r,Ox|kx)}}var Rx=Cx;function Px(t){return t}var $x=Px;function Fx(t){return function(e){return e==null?void 0:e[t]}}var Dx=Fx,Mx=Wp;function Nx(t){return function(e){return Mx(e,t)}}var Lx=Nx,Ux=Dx,Vx=Lx,Bx=bu,jx=Zo;function Hx(t){return Bx(t)?Ux(jx(t)):Vx(t)}var qx=Hx,zx=lx,Gx=Rx,Kx=$x,Wx=Hn,Yx=qx;function Xx(t){return typeof t=="function"?t:t==null?Kx:typeof t=="object"?Wx(t)?Gx(t[0],t[1]):zx(t):Yx(t)}var Yp=Xx,Jx=Lp,Qx=Vp,Zx=Yp;function eO(t,e){var n={};return e=Zx(e),Qx(t,function(r,s,i){Jx(n,s,e(r,s,i))}),n}var Xp=eO;function wr(t){this._maxSize=t,this.clear()}wr.prototype.clear=function(){this._size=0,this._values=Object.create(null)};wr.prototype.get=function(t){return this._values[t]};wr.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var tO=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Jp=/^\d+$/,nO=/^\d/,rO=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,sO=/^\s*(['"]?)(.*?)(\1)\s*$/,xu=512,Bf=new wr(xu),jf=new wr(xu),Hf=new wr(xu),ea={Cache:wr,split:Il,normalizePath:Fa,setter:function(t){var e=Fa(t);return jf.get(t)||jf.set(t,function(r,s){for(var i=0,o=e.length,l=r;i<o-1;){var u=e[i];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;l=l[e[i++]]}l[e[i]]=s})},getter:function(t,e){var n=Fa(t);return Hf.get(t)||Hf.set(t,function(s){for(var i=0,o=n.length;i<o;)if(s!=null||!e)s=s[n[i++]];else return;return s})},join:function(t){return t.reduce(function(e,n){return e+(Ou(n)||Jp.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){iO(Array.isArray(t)?t:Il(t),e,n)}};function Fa(t){return Bf.get(t)||Bf.set(t,Il(t).map(function(e){return e.replace(sO,"$2")}))}function Il(t){return t.match(tO)||[""]}function iO(t,e,n){var r=t.length,s,i,o,l;for(i=0;i<r;i++)s=t[i],s&&(lO(s)&&(s='"'+s+'"'),l=Ou(s),o=!l&&/^\d+$/.test(s),e.call(n,s,l,o,i,t))}function Ou(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function oO(t){return t.match(nO)&&!t.match(Jp)}function aO(t){return rO.test(t)}function lO(t){return!Ou(t)&&(oO(t)||aO(t))}const Ci={context:"$",value:"."};let Dn=class{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Ci.context,this.isValue=this.key[0]===Ci.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Ci.context:this.isValue?Ci.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ea.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let s=this.isContext?r:this.isValue?e:n;return this.getter&&(s=this.getter(s||{})),this.map&&(s=this.map(s)),s}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}};Dn.prototype.__isYupRef=!0;function to(){return to=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},to.apply(this,arguments)}function uO(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Ri(t){function e(n,r){let{value:s,path:i="",label:o,options:l,originalValue:u,sync:f}=n,h=uO(n,["value","path","label","options","originalValue","sync"]);const{name:a,test:c,params:d,message:p}=t;let{parent:_,context:v}=l;function m(C){return Dn.isRef(C)?C.getValue(s,_,v):C}function S(C={}){const N=Xp(to({value:s,originalValue:u,label:o,path:C.path||i},d,C.params),m),k=new wt(wt.formatError(C.message||p,N),s,N.path,C.type||a);return k.params=N,k}let E=to({path:i,parent:_,type:a,createError:S,resolve:m,options:l,originalValue:u},h);if(!f){try{Promise.resolve(c.call(E,s,E)).then(C=>{wt.isError(C)?r(C):C?r(null,C):r(S())}).catch(r)}catch(C){r(C)}return}let A;try{var $;if(A=c.call(E,s,E),typeof(($=A)==null?void 0:$.then)=="function")throw new Error(`Validation test of type: "${E.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(C){r(C);return}wt.isError(A)?r(A):A?r(null,A):r(S())}return e.OPTIONS=t,e}let cO=t=>t.substr(0,t.length-1).substr(1);function fO(t,e,n,r=n){let s,i,o;return e?(ea.forEach(e,(l,u,f)=>{let h=u?cO(l):l;if(t=t.resolve({context:r,parent:s,value:n}),t.innerType){let a=f?parseInt(h,10):0;if(n&&a>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${l}, in the path: ${e}. because there is no value at that index. `);s=n,n=n&&n[a],t=t.innerType}if(!f){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t._type}")`);s=n,n=n&&n[h],t=t.fields[h]}i=h,o=u?"["+l+"]":"."+l}),{schema:t,parent:s,parentPath:i}):{parent:s,parentPath:e,schema:t}}class no{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const n of this.list)e.push(n);for(const[,n]of this.refs)e.push(n.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce((n,r)=>n.concat(Dn.isRef(r)?e(r):r),[])}add(e){Dn.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){Dn.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new no;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,n){const r=this.clone();return e.list.forEach(s=>r.add(s)),e.refs.forEach(s=>r.add(s)),n.list.forEach(s=>r.delete(s)),n.refs.forEach(s=>r.delete(s)),r}}function xt(){return xt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xt.apply(this,arguments)}class ot{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new no,this._blacklist=new no,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Xn.notType)}),this.type=(e==null?void 0:e.type)||"mixed",this.spec=xt({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},e==null?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeError=this._typeError,n._whitelistError=this._whitelistError,n._blacklistError=this._blacklistError,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.exclusiveTests=xt({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=gl(xt({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const s=xt({},n.spec,r.spec);return r.spec=s,r._typeError||(r._typeError=n._typeError),r._whitelistError||(r._whitelistError=n._whitelistError),r._blacklistError||(r._blacklistError=n._blacklistError),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(i=>{e.tests.forEach(o=>{i.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return this.spec.nullable&&e===null?!0:this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((s,i)=>i.resolve(s,e),n),n=n.resolve(e)}return n}cast(e,n={}){let r=this.resolve(xt({value:e},n)),s=r._cast(e,n);if(e!==void 0&&n.assert!==!1&&r.isType(s)!==!0){let i=js(e),o=js(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r._type}". 

attempted value: ${i} 
`+(o!==i?`result of cast: ${o}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((s,i)=>i.call(this,s,e,this),e);return r===void 0&&(r=this.getDefault()),r}_validate(e,n={},r){let{sync:s,path:i,from:o=[],originalValue:l=e,strict:u=this.spec.strict,abortEarly:f=this.spec.abortEarly}=n,h=e;u||(h=this._cast(h,xt({assert:!1},n)));let a={value:h,path:i,options:n,originalValue:l,schema:this,label:this.spec.label,sync:s,from:o},c=[];this._typeError&&c.push(this._typeError);let d=[];this._whitelistError&&d.push(this._whitelistError),this._blacklistError&&d.push(this._blacklistError),bl({args:a,value:h,path:i,sync:s,tests:c,endEarly:f},p=>{if(p)return void r(p,h);bl({tests:this.tests.concat(d),args:a,path:i,sync:s,value:h,endEarly:f},r)})}validate(e,n,r){let s=this.resolve(xt({},n,{value:e}));return typeof r=="function"?s._validate(e,n,r):new Promise((i,o)=>s._validate(e,n,(l,u)=>{l?o(l):i(u)}))}validateSync(e,n){let r=this.resolve(xt({},n,{value:e})),s;return r._validate(e,xt({},n,{sync:!0}),(i,o)=>{if(i)throw i;s=o}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(wt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(wt.isError(r))return!1;throw r}}_getDefault(){let e=this.spec.default;return e==null?e:typeof e=="function"?e.call(this):gl(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){let n=this.clone();return n.spec.strict=e,n}_isPresent(e){return e!=null}defined(e=Xn.defined){return this.test({message:e,name:"defined",exclusive:!0,test(n){return n!==void 0}})}required(e=Xn.required){return this.clone({presence:"required"}).withMutation(n=>n.test({message:e,name:"required",exclusive:!0,test(r){return this.schema._isPresent(r)}}))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e}nullable(e=!0){return this.clone({nullable:e!==!1})}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Xn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),s=Ri(n),i=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(i||o.OPTIONS.test===s.OPTIONS.test))),r.tests.push(s),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),s=Np(e).map(i=>new Dn(i));return s.forEach(i=>{i.isSibling&&r.deps.push(i.key)}),r.conditions.push(new XT(s,n)),r}typeError(e){let n=this.clone();return n._typeError=Ri({message:e,name:"typeError",test(r){return r!==void 0&&!this.schema.isType(r)?this.createError({params:{type:this.schema._type}}):!0}}),n}oneOf(e,n=Xn.oneOf){let r=this.clone();return e.forEach(s=>{r._whitelist.add(s),r._blacklist.delete(s)}),r._whitelistError=Ri({message:n,name:"oneOf",test(s){if(s===void 0)return!0;let i=this.schema._whitelist,o=i.resolveAll(this.resolve);return o.includes(s)?!0:this.createError({params:{values:i.toArray().join(", "),resolved:o}})}}),r}notOneOf(e,n=Xn.notOneOf){let r=this.clone();return e.forEach(s=>{r._blacklist.add(s),r._whitelist.delete(s)}),r._blacklistError=Ri({message:n,name:"notOneOf",test(s){let i=this.schema._blacklist,o=i.resolveAll(this.resolve);return o.includes(s)?this.createError({params:{values:i.toArray().join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(){const e=this.clone(),{label:n,meta:r}=e.spec;return{meta:r,label:n,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map(i=>({name:i.OPTIONS.name,params:i.OPTIONS.params})).filter((i,o,l)=>l.findIndex(u=>u.name===i.name)===o)}}}ot.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])ot.prototype[`${t}At`]=function(e,n,r={}){const{parent:s,parentPath:i,schema:o}=fO(this,e,n,r.context);return o[t](s&&s[i],xt({},r,{parent:s,path:e}))};for(const t of["equals","is"])ot.prototype[t]=ot.prototype.oneOf;for(const t of["not","nope"])ot.prototype[t]=ot.prototype.notOneOf;ot.prototype.optional=ot.prototype.notRequired;const dO=ot;dO.prototype;const je=t=>t==null;let hO=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,pO=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,mO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,gO=t=>je(t)||t===t.trim(),_O={}.toString();function Pt(){return new Qp}class Qp extends ot{constructor(){super({type:"string"}),this.withMutation(()=>{this.transform(function(e){if(this.isType(e)||Array.isArray(e))return e;const n=e!=null&&e.toString?e.toString():e;return n===_O?e:n})})}_typeCheck(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}_isPresent(e){return super._isPresent(e)&&!!e.length}length(e,n=Ct.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},test(r){return je(r)||r.length===this.resolve(e)}})}min(e,n=Ct.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return je(r)||r.length>=this.resolve(e)}})}max(e,n=Ct.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},test(r){return je(r)||r.length<=this.resolve(e)}})}matches(e,n){let r=!1,s,i;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:s,name:i}=n:s=n),this.test({name:i||"matches",message:s||Ct.matches,params:{regex:e},test:o=>je(o)||o===""&&r||o.search(e)!==-1})}email(e=Ct.email){return this.matches(hO,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ct.url){return this.matches(pO,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ct.uuid){return this.matches(mO,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ct.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:gO})}lowercase(e=Ct.lowercase){return this.transform(n=>je(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>je(n)||n===n.toLowerCase()})}uppercase(e=Ct.uppercase){return this.transform(n=>je(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,test:n=>je(n)||n===n.toUpperCase()})}}Pt.prototype=Qp.prototype;let vO=t=>t!=+t;function Zp(){return new em}class em extends ot{constructor(){super({type:"number"}),this.withMutation(()=>{this.transform(function(e){let n=e;if(typeof n=="string"){if(n=n.replace(/\s/g,""),n==="")return NaN;n=+n}return this.isType(n)?n:parseFloat(n)})})}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!vO(e)}min(e,n=En.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(r){return je(r)||r>=this.resolve(e)}})}max(e,n=En.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(r){return je(r)||r<=this.resolve(e)}})}lessThan(e,n=En.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},test(r){return je(r)||r<this.resolve(e)}})}moreThan(e,n=En.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},test(r){return je(r)||r>this.resolve(e)}})}positive(e=En.positive){return this.moreThan(0,e)}negative(e=En.negative){return this.lessThan(0,e)}integer(e=En.integer){return this.test({name:"integer",message:e,test:n=>je(n)||Number.isInteger(n)})}truncate(){return this.transform(e=>je(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(s=>je(s)?s:Math[e](s))}}Zp.prototype=em.prototype;var yO=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;function bO(t){var e=[1,4,5,6,7,10,11],n=0,r,s;if(s=yO.exec(t)){for(var i=0,o;o=e[i];++i)s[o]=+s[o]||0;s[2]=(+s[2]||1)-1,s[3]=+s[3]||1,s[7]=s[7]?String(s[7]).substr(0,3):0,(s[8]===void 0||s[8]==="")&&(s[9]===void 0||s[9]==="")?r=+new Date(s[1],s[2],s[3],s[4],s[5],s[6],s[7]):(s[8]!=="Z"&&s[9]!==void 0&&(n=s[10]*60+s[11],s[9]==="+"&&(n=0-n)),r=Date.UTC(s[1],s[2],s[3],s[4],s[5]+n,s[6],s[7]))}else r=Date.parse?Date.parse(t):NaN;return r}let tm=new Date(""),wO=t=>Object.prototype.toString.call(t)==="[object Date]";class nm extends ot{constructor(){super({type:"date"}),this.withMutation(()=>{this.transform(function(e){return this.isType(e)?e:(e=bO(e),isNaN(e)?tm:new Date(e))})})}_typeCheck(e){return wO(e)&&!isNaN(e.getTime())}prepareParam(e,n){let r;if(Dn.isRef(e))r=e;else{let s=this.cast(e);if(!this._typeCheck(s))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=s}return r}min(e,n=_l.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},test(s){return je(s)||s>=this.resolve(r)}})}max(e,n=_l.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},test(s){return je(s)||s<=this.resolve(r)}})}}nm.INVALID_DATE=tm;nm.prototype;function EO(t,e,n,r){var s=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++s]);++s<i;)n=e(n,t[s],s,t);return n}var TO=EO;function SO(t){return function(e){return t==null?void 0:t[e]}}var AO=SO,IO=AO,xO={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},OO=IO(xO),kO=OO,CO=kO,RO=ii,PO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$O="\\u0300-\\u036f",FO="\\ufe20-\\ufe2f",DO="\\u20d0-\\u20ff",MO=$O+FO+DO,NO="["+MO+"]",LO=RegExp(NO,"g");function UO(t){return t=RO(t),t&&t.replace(PO,CO).replace(LO,"")}var VO=UO,BO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function jO(t){return t.match(BO)||[]}var HO=jO,qO=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function zO(t){return qO.test(t)}var GO=zO,rm="\\ud800-\\udfff",KO="\\u0300-\\u036f",WO="\\ufe20-\\ufe2f",YO="\\u20d0-\\u20ff",XO=KO+WO+YO,sm="\\u2700-\\u27bf",im="a-z\\xdf-\\xf6\\xf8-\\xff",JO="\\xac\\xb1\\xd7\\xf7",QO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ZO="\\u2000-\\u206f",ek=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",om="A-Z\\xc0-\\xd6\\xd8-\\xde",tk="\\ufe0e\\ufe0f",am=JO+QO+ZO+ek,lm="['’]",qf="["+am+"]",nk="["+XO+"]",um="\\d+",rk="["+sm+"]",cm="["+im+"]",fm="[^"+rm+am+um+sm+im+om+"]",sk="\\ud83c[\\udffb-\\udfff]",ik="(?:"+nk+"|"+sk+")",ok="[^"+rm+"]",dm="(?:\\ud83c[\\udde6-\\uddff]){2}",hm="[\\ud800-\\udbff][\\udc00-\\udfff]",Or="["+om+"]",ak="\\u200d",zf="(?:"+cm+"|"+fm+")",lk="(?:"+Or+"|"+fm+")",Gf="(?:"+lm+"(?:d|ll|m|re|s|t|ve))?",Kf="(?:"+lm+"(?:D|LL|M|RE|S|T|VE))?",pm=ik+"?",mm="["+tk+"]?",uk="(?:"+ak+"(?:"+[ok,dm,hm].join("|")+")"+mm+pm+")*",ck="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fk="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dk=mm+pm+uk,hk="(?:"+[rk,dm,hm].join("|")+")"+dk,pk=RegExp([Or+"?"+cm+"+"+Gf+"(?="+[qf,Or,"$"].join("|")+")",lk+"+"+Kf+"(?="+[qf,Or+zf,"$"].join("|")+")",Or+"?"+zf+"+"+Gf,Or+"+"+Kf,fk,ck,um,hk].join("|"),"g");function mk(t){return t.match(pk)||[]}var gk=mk,_k=HO,vk=GO,yk=ii,bk=gk;function wk(t,e,n){return t=yk(t),e=n?void 0:e,e===void 0?vk(t)?bk(t):_k(t):t.match(e)||[]}var Ek=wk,Tk=TO,Sk=VO,Ak=Ek,Ik="['’]",xk=RegExp(Ik,"g");function Ok(t){return function(e){return Tk(Ak(Sk(e).replace(xk,"")),t,"")}}var gm=Ok,kk=gm,Ck=kk(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Wf=Ck;function Rk(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}var Pk=Rk,$k=Pk;function Fk(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:$k(t,e,n)}var Dk=Fk,Mk="\\ud800-\\udfff",Nk="\\u0300-\\u036f",Lk="\\ufe20-\\ufe2f",Uk="\\u20d0-\\u20ff",Vk=Nk+Lk+Uk,Bk="\\ufe0e\\ufe0f",jk="\\u200d",Hk=RegExp("["+jk+Mk+Vk+Bk+"]");function qk(t){return Hk.test(t)}var _m=qk;function zk(t){return t.split("")}var Gk=zk,vm="\\ud800-\\udfff",Kk="\\u0300-\\u036f",Wk="\\ufe20-\\ufe2f",Yk="\\u20d0-\\u20ff",Xk=Kk+Wk+Yk,Jk="\\ufe0e\\ufe0f",Qk="["+vm+"]",xl="["+Xk+"]",Ol="\\ud83c[\\udffb-\\udfff]",Zk="(?:"+xl+"|"+Ol+")",ym="[^"+vm+"]",bm="(?:\\ud83c[\\udde6-\\uddff]){2}",wm="[\\ud800-\\udbff][\\udc00-\\udfff]",eC="\\u200d",Em=Zk+"?",Tm="["+Jk+"]?",tC="(?:"+eC+"(?:"+[ym,bm,wm].join("|")+")"+Tm+Em+")*",nC=Tm+Em+tC,rC="(?:"+[ym+xl+"?",xl,bm,wm,Qk].join("|")+")",sC=RegExp(Ol+"(?="+Ol+")|"+rC+nC,"g");function iC(t){return t.match(sC)||[]}var oC=iC,aC=Gk,lC=_m,uC=oC;function cC(t){return lC(t)?uC(t):aC(t)}var fC=cC,dC=Dk,hC=_m,pC=fC,mC=ii;function gC(t){return function(e){e=mC(e);var n=hC(e)?pC(e):void 0,r=n?n[0]:e.charAt(0),s=n?dC(n,1).join(""):e.slice(1);return r[t]()+s}}var _C=gC,vC=_C,yC=vC("toUpperCase"),bC=yC,wC=ii,EC=bC;function TC(t){return EC(wC(t).toLowerCase())}var SC=TC,AC=SC,IC=gm,xC=IC(function(t,e,n){return e=e.toLowerCase(),t+(n?AC(e):e)}),OC=xC,kC=Lp,CC=Vp,RC=Yp;function PC(t,e){var n={};return e=RC(e),CC(t,function(r,s,i){kC(n,e(r,s,i),r)}),n}var $C=PC,ro={},FC={get exports(){return ro},set exports(t){ro=t}};FC.exports=function(t){return Sm(DC(t),t)};ro.array=Sm;function Sm(t,e){var n=t.length,r=new Array(n),s={},i=n,o=MC(e),l=NC(t);for(e.forEach(function(f){if(!l.has(f[0])||!l.has(f[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});i--;)s[i]||u(t[i],i,new Set);return r;function u(f,h,a){if(a.has(f)){var c;try{c=", node was:"+JSON.stringify(f)}catch{c=""}throw new Error("Cyclic dependency"+c)}if(!l.has(f))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(f));if(!s[h]){s[h]=!0;var d=o.get(f)||new Set;if(d=Array.from(d),h=d.length){a.add(f);do{var p=d[--h];u(p,l.get(p),a)}while(h);a.delete(f)}r[--n]=f}}}function DC(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var s=t[n];e.add(s[0]),e.add(s[1])}return Array.from(e)}function MC(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var s=t[n];e.has(s[0])||e.set(s[0],new Set),e.has(s[1])||e.set(s[1],new Set),e.get(s[0]).add(s[1])}return e}function NC(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}function LC(t,e=[]){let n=[],r=new Set,s=new Set(e.map(([o,l])=>`${o}-${l}`));function i(o,l){let u=ea.split(o)[0];r.add(u),s.has(`${l}-${u}`)||n.push([l,u])}for(const o in t)if(Qi(t,o)){let l=t[o];r.add(o),Dn.isRef(l)&&l.isSibling?i(l.path,o):Mp(l)&&"deps"in l&&l.deps.forEach(u=>i(u,o))}return ro.array(Array.from(r),n).reverse()}function Yf(t,e){let n=1/0;return t.some((r,s)=>{var i;if(((i=e.path)==null?void 0:i.indexOf(r))!==-1)return n=s,!0}),n}function Am(t){return(e,n)=>Yf(t,e)-Yf(t,n)}function Rr(){return Rr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rr.apply(this,arguments)}let Xf=t=>Object.prototype.toString.call(t)==="[object Object]";function UC(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const VC=Am([]);class Im extends ot{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=VC,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{this.transform(function(r){if(typeof r=="string")try{r=JSON.parse(r)}catch{r=null}return this.isType(r)?r:null}),e&&this.shape(e)})}_typeCheck(e){return Xf(e)||typeof e=="function"}_cast(e,n={}){var r;let s=super._cast(e,n);if(s===void 0)return this.getDefault();if(!this._typeCheck(s))return s;let i=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,l=this._nodes.concat(Object.keys(s).filter(a=>this._nodes.indexOf(a)===-1)),u={},f=Rr({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const a of l){let c=i[a],d=Qi(s,a);if(c){let p,_=s[a];f.path=(n.path?`${n.path}.`:"")+a,c=c.resolve({value:_,context:n.context,parent:u});let v="spec"in c?c.spec:void 0,m=v==null?void 0:v.strict;if(v!=null&&v.strip){h=h||a in s;continue}p=!n.__validating||!m?c.cast(s[a],f):s[a],p!==void 0&&(u[a]=p)}else d&&!o&&(u[a]=s[a]);u[a]!==s[a]&&(h=!0)}return h?u:s}_validate(e,n={},r){let s=[],{sync:i,from:o=[],originalValue:l=e,abortEarly:u=this.spec.abortEarly,recursive:f=this.spec.recursive}=n;o=[{schema:this,value:l},...o],n.__validating=!0,n.originalValue=l,n.from=o,super._validate(e,n,(h,a)=>{if(h){if(!wt.isError(h)||u)return void r(h,a);s.push(h)}if(!f||!Xf(a)){r(s[0]||null,a);return}l=l||a;let c=this._nodes.map(d=>(p,_)=>{let v=d.indexOf(".")===-1?(n.path?`${n.path}.`:"")+d:`${n.path||""}["${d}"]`,m=this.fields[d];if(m&&"validate"in m){m.validate(a[d],Rr({},n,{path:v,from:o,strict:!0,parent:a,originalValue:l[d]}),_);return}_(null)});bl({sync:i,tests:c,value:a,errors:s,endEarly:u,sort:this._sortErrors,path:n.path},r)})}clone(e){const n=super.clone(e);return n.fields=Rr({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[s,i]of Object.entries(this.fields)){const o=r[s];o===void 0?r[s]=i:o instanceof ot&&i instanceof ot&&(r[s]=i.concat(o))}return n.withMutation(()=>n.shape(r,this._excludedEdges))}getDefaultFromShape(){let e={};return this._nodes.forEach(n=>{const r=this.fields[n];e[n]="default"in r?r.getDefault():void 0}),e}_getDefault(){if("default"in this.spec)return super._getDefault();if(this._nodes.length)return this.getDefaultFromShape()}shape(e,n=[]){let r=this.clone(),s=Object.assign(r.fields,e);return r.fields=s,r._sortErrors=Am(Object.keys(s)),n.length&&(Array.isArray(n[0])||(n=[n]),r._excludedEdges=[...r._excludedEdges,...n]),r._nodes=LC(s,r._excludedEdges),r}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.clone().withMutation(r=>(r.fields={},r.shape(n)))}omit(e){const n=this.clone(),r=n.fields;n.fields={};for(const s of e)delete r[s];return n.withMutation(()=>n.shape(r))}from(e,n,r){let s=ea.getter(e,!0);return this.transform(i=>{if(i==null)return i;let o=i;return Qi(i,e)&&(o=Rr({},i),r||delete o[e],o[n]=s(i)),o})}noUnknown(e=!0,n=vl.noUnknown){typeof e=="string"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(s){if(s==null)return!0;const i=UC(this.schema,s);return!e||i.length===0||this.createError({params:{unknown:i.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=vl.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>n&&$C(n,(r,s)=>e(s)))}camelCase(){return this.transformKeys(OC)}snakeCase(){return this.transformKeys(Wf)}constantCase(){return this.transformKeys(e=>Wf(e).toUpperCase())}describe(){let e=super.describe();return e.fields=Xp(this.fields,n=>n.describe()),e}}function oi(t){return new Im(t)}oi.prototype=Im.prototype;const BC=oi({name:Pt().min(3,"Min length 3").max(20,"Max length 20").required("Enter name"),email:Pt().required().email("Enter valid email"),age:Zp().required("Enter age"),password:Pt().required("Enter password").min(6,"Min length 6"),country:Pt().required(),tos:Pt().required("You need to agree with terms")}),jC=oi({email:Pt().required().email("Enter valid email"),password:Pt().required("Enter password").min(6,"Min length 6")}),HC=oi({modifiedName:Pt().required("Enter song name").min(5,"Min length 5"),genre:Pt().required("Enter genre").min(2,"Min length 2")}),xm=oi({commentText:Pt().required("Enter comment text").min(5,"Min length 5").max(250,"Max length 250")}),qC={install(t,e){t.component("VeeForm",tb),t.component("VeeField",W0),t.component("ErrorMessage",sb)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},km={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,f=u?t[s+2]:0,h=i>>2,a=(i&3)<<4|l>>4;let c=(l&15)<<2|f>>6,d=f&63;u||(d=64,o||(c=64)),r.push(n[h],n[a],n[c],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Om(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):zC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const f=s<t.length?n[t.charAt(s)]:64;++s;const a=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||f==null||a==null)throw Error();const c=i<<2|l>>4;if(r.push(c),f!==64){const d=l<<4&240|f>>2;if(r.push(d),a!==64){const p=f<<6&192|a;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},GC=function(t){const e=Om(t);return km.encodeByteArray(e,!0)},so=function(t){return GC(t).replace(/\./g,"")},Cm=function(t){try{return km.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function WC(){try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JC(){const t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QC(){try{return typeof indexedDB=="object"}catch{return!1}}function ZC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},rR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cm(t[1]);return e&&JSON.parse(e)},ku=()=>{try{return tR()||nR()||rR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Rm=t=>{var e,n;return(n=(e=ku())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Pm=t=>{const e=Rm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sR=()=>{var t;return(t=ku())===null||t===void 0?void 0:t.config},$m=t=>{var e;return(e=ku())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[so(JSON.stringify(n)),so(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="FirebaseError";class Qt extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oR,Object.setPrototypeOf(this,Qt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ai.prototype.create)}}class ai{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aR(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Qt(s,l,r)}}function aR(t,e){return t.replace(lR,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lR=/\{\$([^}]+)}/g;function uR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function io(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Jf(i)&&Jf(o)){if(!io(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Jf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ys(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function bs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cR(t,e){const n=new fR(t,e);return n.subscribe.bind(n)}class fR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");dR(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Da),s.error===void 0&&(s.error=Da),s.complete===void 0&&(s.complete=Da);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Da(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t){return t&&t._delegate?t._delegate:t}class jn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new iR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mR(e))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qn){return this.instances.has(e)}getOptions(e=Qn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qn){return this.component?this.component.multipleInstances?e:Qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pR(t){return t===Qn?void 0:t}function mR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const _R={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},vR=we.INFO,yR={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},bR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=yR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cu{constructor(e){this.name=e,this._logLevel=vR,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const wR=(t,e)=>e.some(n=>t instanceof n);let Qf,Zf;function ER(){return Qf||(Qf=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TR(){return Zf||(Zf=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Dm=new WeakMap,kl=new WeakMap,Mm=new WeakMap,Ma=new WeakMap,Ru=new WeakMap;function SR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Mn(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Dm.set(n,t)}).catch(()=>{}),Ru.set(e,t),e}function AR(t){if(kl.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});kl.set(t,e)}let Cl={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kl.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Mm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function IR(t){Cl=t(Cl)}function xR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Na(this),e,...n);return Mm.set(r,e.sort?e.sort():[e]),Mn(r)}:TR().includes(t)?function(...e){return t.apply(Na(this),e),Mn(Dm.get(this))}:function(...e){return Mn(t.apply(Na(this),e))}}function OR(t){return typeof t=="function"?xR(t):(t instanceof IDBTransaction&&AR(t),wR(t,ER())?new Proxy(t,Cl):t)}function Mn(t){if(t instanceof IDBRequest)return SR(t);if(Ma.has(t))return Ma.get(t);const e=OR(t);return e!==t&&(Ma.set(t,e),Ru.set(e,t)),e}const Na=t=>Ru.get(t);function kR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Mn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mn(o.result),u.oldVersion,u.newVersion,Mn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",()=>s())}).catch(()=>{}),l}const CR=["get","getKey","getAll","getAllKeys","count"],RR=["put","add","delete","clear"],La=new Map;function ed(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(La.get(e))return La.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=RR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||CR.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let f=u.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),s&&u.done]))[0]};return La.set(e,i),i}IR(t=>({...t,get:(e,n,r)=>ed(e,n)||t.get(e,n,r),has:(e,n)=>!!ed(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($R(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $R(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rl="@firebase/app",td="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Cu("@firebase/app"),FR="@firebase/app-compat",DR="@firebase/analytics-compat",MR="@firebase/analytics",NR="@firebase/app-check-compat",LR="@firebase/app-check",UR="@firebase/auth",VR="@firebase/auth-compat",BR="@firebase/database",jR="@firebase/database-compat",HR="@firebase/functions",qR="@firebase/functions-compat",zR="@firebase/installations",GR="@firebase/installations-compat",KR="@firebase/messaging",WR="@firebase/messaging-compat",YR="@firebase/performance",XR="@firebase/performance-compat",JR="@firebase/remote-config",QR="@firebase/remote-config-compat",ZR="@firebase/storage",eP="@firebase/storage-compat",tP="@firebase/firestore",nP="@firebase/firestore-compat",rP="firebase",sP="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pl="[DEFAULT]",iP={[Rl]:"fire-core",[FR]:"fire-core-compat",[MR]:"fire-analytics",[DR]:"fire-analytics-compat",[LR]:"fire-app-check",[NR]:"fire-app-check-compat",[UR]:"fire-auth",[VR]:"fire-auth-compat",[BR]:"fire-rtdb",[jR]:"fire-rtdb-compat",[HR]:"fire-fn",[qR]:"fire-fn-compat",[zR]:"fire-iid",[GR]:"fire-iid-compat",[KR]:"fire-fcm",[WR]:"fire-fcm-compat",[YR]:"fire-perf",[XR]:"fire-perf-compat",[JR]:"fire-rc",[QR]:"fire-rc-compat",[ZR]:"fire-gcs",[eP]:"fire-gcs-compat",[tP]:"fire-fst",[nP]:"fire-fst-compat","fire-js":"fire-js",[rP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs=new Map,$l=new Map;function oP(t,e){try{t.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hr(t){const e=t.name;if($l.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;$l.set(e,t);for(const n of qs.values())oP(n,t);return!0}function ta(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Nn=new ai("app","Firebase",aP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=sP;function Nm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Pl,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Nn.create("bad-app-name",{appName:String(s)});if(n||(n=sR()),!n)throw Nn.create("no-options");const i=qs.get(s);if(i){if(io(n,i.options)&&io(r,i.config))return i;throw Nn.create("duplicate-app",{appName:s})}const o=new gR(s);for(const u of $l.values())o.addComponent(u);const l=new lP(n,r,o);return qs.set(s,l),l}function na(t=Pl){const e=qs.get(t);if(!e&&t===Pl)return Nm();if(!e)throw Nn.create("no-app",{appName:t});return e}function uP(){return Array.from(qs.values())}function Wt(t,e,n){var r;let s=(r=iP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(l.join(" "));return}hr(new jn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="firebase-heartbeat-database",fP=1,zs="firebase-heartbeat-store";let Ua=null;function Lm(){return Ua||(Ua=kR(cP,fP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(zs)}}}).catch(t=>{throw Nn.create("idb-open",{originalErrorMessage:t.message})})),Ua}async function dP(t){try{return(await Lm()).transaction(zs).objectStore(zs).get(Um(t))}catch(e){if(e instanceof Qt)dr.warn(e.message);else{const n=Nn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function nd(t,e){try{const r=(await Lm()).transaction(zs,"readwrite");return await r.objectStore(zs).put(e,Um(t)),r.done}catch(n){if(n instanceof Qt)dr.warn(n.message);else{const r=Nn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(r.message)}}}function Um(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=1024,pP=30*24*60*60*1e3;class mP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _P(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rd();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=pP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rd(),{heartbeatsToSend:n,unsentEntries:r}=gP(this._heartbeatsCache.heartbeats),s=so(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function rd(){return new Date().toISOString().substring(0,10)}function gP(t,e=hP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _P{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QC()?ZC().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await dP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sd(t){return so(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){hr(new jn("platform-logger",e=>new PR(e),"PRIVATE")),hr(new jn("heartbeat",e=>new mP(e),"PRIVATE")),Wt(Rl,td,t),Wt(Rl,td,"esm2017"),Wt("fire-js","")}vP("");var yP="firebase",bP="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt(yP,bP,"app");function Pu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Vm(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wP=Vm,Bm=new ai("auth","Firebase",Vm());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Cu("@firebase/auth");function Bi(t,...e){id.logLevel<=we.ERROR&&id.error(`Auth (${is}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t,...e){throw $u(t,...e)}function Yt(t,...e){return $u(t,...e)}function jm(t,e,n){const r=Object.assign(Object.assign({},wP()),{[e]:n});return new ai("auth","Firebase",r).create(e,{appName:t.name})}function EP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&kt(t,"argument-error"),jm(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $u(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Bm.create(t,...e)}function Z(t,e,...n){if(!t)throw $u(e,...n)}function rn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bi(e),new Error(e)}function un(t,e){t||rn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=new Map;function sn(t){un(t instanceof Function,"Expected a class definition");let e=od.get(t);return e?(un(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,od.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){const n=ta(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(io(i,e??{}))return s;kt(s,"already-initialized")}return n.initialize({options:e})}function SP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(sn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AP(){return ad()==="http:"||ad()==="https:"}function ad(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AP()||YC()||"connection"in navigator)?navigator.onLine:!0}function xP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.shortDelay=e,this.longDelay=n,un(n>e,"Short delay should be less than long delay!"),this.isMobile=KC()||XC()}get(){return IP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(t,e){un(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;rn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;rn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;rn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new ui(3e4,6e4);function ci(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function os(t,e,n,r,s={}){return qm(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=li(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),Hm.fetch()(zm(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},i))})}async function qm(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},OP),e);try{const s=new CP(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Pi(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,f]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pi(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Pi(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Pi(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw jm(t,h,f);kt(t,h)}}catch(s){if(s instanceof Qt)throw s;kt(t,"network-request-failed")}}async function fi(t,e,n,r,s={}){const i=await os(t,e,n,r,s);return"mfaPendingCredential"in i&&kt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function zm(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Fu(t.config,s):`${t.config.apiScheme}://${s}`}class CP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yt(this.auth,"network-request-failed")),kP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Pi(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Yt(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){return os(t,"POST","/v1/accounts:delete",e)}async function PP(t,e){return os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $P(t,e=!1){const n=ke(t),r=await n.getIdToken(e),s=Du(r);Z(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Is(Va(s.auth_time)),issuedAtTime:Is(Va(s.iat)),expirationTime:Is(Va(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Va(t){return Number(t)*1e3}function Du(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bi("JWT malformed, contained fewer than 3 sections"),null;try{const s=Cm(n);return s?JSON.parse(s):(Bi("Failed to decode base64 JWT payload"),null)}catch(s){return Bi("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function FP(t){const e=Du(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hr(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Qt&&DP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function DP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Is(this.lastLoginAt),this.creationTime=Is(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Hr(t,PP(n,{idToken:r}));Z(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?UP(i.providerUserInfo):[],l=LP(t.providerData,o),u=t.isAnonymous,f=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=u?f:!1,a={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Gm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,a)}async function NP(t){const e=ke(t);await oo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LP(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function UP(t){return t.map(e=>{var{providerId:n}=e,r=Pu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){const n=await qm(t,{},async()=>{const r=li({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=zm(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Hm.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Z(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await VP(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Gs;return r&&(Z(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Z(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Z(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gs,this.toJSON())}_performRefresh(){return rn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Pu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hr(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $P(this,e)}reload(){return NP(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Hr(this,RP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,u,f,h;const a=(r=n.displayName)!==null&&r!==void 0?r:void 0,c=(s=n.email)!==null&&s!==void 0?s:void 0,d=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(l=n.tenantId)!==null&&l!==void 0?l:void 0,v=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(f=n.createdAt)!==null&&f!==void 0?f:void 0,S=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:A,isAnonymous:$,providerData:C,stsTokenManager:N}=n;Z(E&&N,e,"internal-error");const k=Gs.fromJSON(this.name,N);Z(typeof E=="string",e,"internal-error"),yn(a,e.name),yn(c,e.name),Z(typeof A=="boolean",e,"internal-error"),Z(typeof $=="boolean",e,"internal-error"),yn(d,e.name),yn(p,e.name),yn(_,e.name),yn(v,e.name),yn(m,e.name),yn(S,e.name);const L=new ar({uid:E,auth:e,email:c,emailVerified:A,displayName:a,isAnonymous:$,photoURL:p,phoneNumber:d,tenantId:_,stsTokenManager:k,createdAt:m,lastLoginAt:S});return C&&Array.isArray(C)&&(L.providerData=C.map(Y=>Object.assign({},Y))),v&&(L._redirectEventId=v),L}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gs;s.updateFromServerResponse(n);const i=new ar({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await oo(i),i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Km.type="NONE";const ld=Km;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,e,n){return`firebase:${t}:${e}:${n}`}class Mr{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ji(this.userKey,s.apiKey,i),this.fullPersistenceKey=ji("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mr(sn(ld),e,r);const s=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let i=s[0]||sn(ld);const o=ji(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(o);if(h){const a=ar._fromJSON(e,h);f!==i&&(l=a),i=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Mr(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==i)try{await f._remove(o)}catch{}})),new Mr(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xm(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wm(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Qm(e))return"Blackberry";if(Zm(e))return"Webos";if(Mu(e))return"Safari";if((e.includes("chrome/")||Ym(e))&&!e.includes("edge/"))return"Chrome";if(Jm(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wm(t=tt()){return/firefox\//i.test(t)}function Mu(t=tt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ym(t=tt()){return/crios\//i.test(t)}function Xm(t=tt()){return/iemobile/i.test(t)}function Jm(t=tt()){return/android/i.test(t)}function Qm(t=tt()){return/blackberry/i.test(t)}function Zm(t=tt()){return/webos/i.test(t)}function ra(t=tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BP(t=tt()){var e;return ra(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jP(){return JC()&&document.documentMode===10}function eg(t=tt()){return ra(t)||Jm(t)||Zm(t)||Qm(t)||/windows phone/i.test(t)||Xm(t)}function HP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e=[]){let n;switch(t){case"Browser":n=ud(tt());break;case"Worker":n=`${ud(tt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${is}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cd(this),this.idTokenSubscription=new cd(this),this.beforeStateQueue=new qP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bm,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Mr.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?ke(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(sn(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ai("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sn(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=await Mr.create(this,[sn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Z(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function as(t){return ke(t)}class cd{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function GP(t,e,n){const r=as(t);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=ng(e),{host:o,port:l}=KP(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||WP()}function ng(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KP(t){const e=ng(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:fd(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:fd(o)}}}function fd(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function WP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rn("not implemented")}_getIdTokenResponse(e){return rn("not implemented")}_linkToIdToken(e,n){return rn("not implemented")}_getReauthenticationResolver(e){return rn("not implemented")}}async function YP(t,e){return os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,e){return fi(t,"POST","/v1/accounts:signInWithPassword",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(t,e){return fi(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}async function QP(t,e){return fi(t,"POST","/v1/accounts:signInWithEmailLink",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Nu{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Ks(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ks(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return XP(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return JP(e,{email:this._email,oobCode:this._password});default:kt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return YP(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return QP(e,{idToken:n,email:this._email,oobCode:this._password});default:kt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nr(t,e){return fi(t,"POST","/v1/accounts:signInWithIdp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class pr extends Nu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):kt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Pu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new pr(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Nr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Nr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Nr(e,n)}buildRequest(){const e={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=li(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function t$(t){const e=ys(bs(t)).link,n=e?ys(bs(e)).deep_link_id:null,r=ys(bs(t)).deep_link_id;return(r?ys(bs(r)).link:null)||r||n||e||t}class Lu{constructor(e){var n,r,s,i,o,l;const u=ys(bs(e)),f=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,a=e$((s=u.mode)!==null&&s!==void 0?s:null);Z(f&&h&&a,"argument-error"),this.apiKey=f,this.operation=a,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=t$(e);try{return new Lu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(){this.providerId=ls.PROVIDER_ID}static credential(e,n){return Ks._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lu.parseLink(n);return Z(r,"argument-error"),Ks._fromEmailAndCode(e,r.code,r.tenantId)}}ls.PROVIDER_ID="password";ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Uu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In extends di{constructor(){super("facebook.com")}static credential(e){return pr._fromParams({providerId:In.PROVIDER_ID,signInMethod:In.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return In.credentialFromTaggedObject(e)}static credentialFromError(e){return In.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return In.credential(e.oauthAccessToken)}catch{return null}}}In.FACEBOOK_SIGN_IN_METHOD="facebook.com";In.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn extends di{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pr._fromParams({providerId:nn.PROVIDER_ID,signInMethod:nn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nn.credentialFromTaggedObject(e)}static credentialFromError(e){return nn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nn.credential(n,r)}catch{return null}}}nn.GOOGLE_SIGN_IN_METHOD="google.com";nn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends di{constructor(){super("github.com")}static credential(e){return pr._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xn.credential(e.oauthAccessToken)}catch{return null}}}xn.GITHUB_SIGN_IN_METHOD="github.com";xn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On extends di{constructor(){super("twitter.com")}static credential(e,n){return pr._fromParams({providerId:On.PROVIDER_ID,signInMethod:On.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return On.credentialFromTaggedObject(e)}static credentialFromError(e){return On.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return On.credential(n,r)}catch{return null}}}On.TWITTER_SIGN_IN_METHOD="twitter.com";On.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e){return fi(t,"POST","/v1/accounts:signUp",ci(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ar._fromIdTokenResponse(e,r,s),o=dd(r);return new mr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dd(r);return new mr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dd(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Qt{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ao(e,n,r,s)}}function rg(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ao._fromErrorAndOperation(t,i,e,r):i})}async function r$(t,e,n=!1){const r=await Hr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return mr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await Hr(t,rg(r,s,e,t),n);Z(i.idToken,r,"internal-error");const o=Du(i.idToken);Z(o,r,"internal-error");const{sub:l}=o;return Z(t.uid===l,r,"user-mismatch"),mr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&kt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(t,e,n=!1){const r="signIn",s=await rg(t,r,e),i=await mr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function i$(t,e){return sg(as(t),e)}async function o$(t,e,n){const r=as(t),s=await n$(r,{returnSecureToken:!0,email:e,password:n}),i=await mr._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function a$(t,e,n){return i$(ke(t),ls.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){return os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ke(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Hr(r,l$(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:u})=>u==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function c$(t,e,n,r){return ke(t).onIdTokenChanged(e,n,r)}function f$(t,e,n){return ke(t).beforeAuthStateChanged(e,n)}function d$(t,e,n,r){return ke(t).onAuthStateChanged(e,n,r)}function h$(t){return ke(t).signOut()}const lo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lo,"1"),this.storage.removeItem(lo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p$(){const t=tt();return Mu(t)||ra(t)}const m$=1e3,g$=10;class og extends ig{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=p$()&&HP(),this.fallbackToPolling=eg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);jP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,g$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},m$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}og.type="LOCAL";const _$=og;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ig{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ag.type="SESSION";const lg=ag;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new sa(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async f=>f(n.origin,i)),u=await v$(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sa.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const f=Vu("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(a){const c=a;if(c.data.eventId===f)switch(c.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(c.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return window}function b$(t){Xt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(){return typeof Xt().WorkerGlobalScope<"u"&&typeof Xt().importScripts=="function"}async function w$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function T$(){return ug()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="firebaseLocalStorageDb",S$=1,uo="firebaseLocalStorage",fg="fbase_key";class hi{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ia(t,e){return t.transaction([uo],e?"readwrite":"readonly").objectStore(uo)}function A$(){const t=indexedDB.deleteDatabase(cg);return new hi(t).toPromise()}function Dl(){const t=indexedDB.open(cg,S$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uo,{keyPath:fg})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uo)?e(r):(r.close(),await A$(),e(await Dl()))})})}async function hd(t,e,n){const r=ia(t,!0).put({[fg]:e,value:n});return new hi(r).toPromise()}async function I$(t,e){const n=ia(t,!1).get(e),r=await new hi(n).toPromise();return r===void 0?null:r.value}function pd(t,e){const n=ia(t,!0).delete(e);return new hi(n).toPromise()}const x$=800,O$=3;class dg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dl(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>O$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ug()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sa._getInstance(T$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await w$(),!this.activeServiceWorker)return;this.sender=new y$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dl();return await hd(e,lo,"1"),await pd(e,lo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hd(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>I$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pd(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ia(s,!1).getAll();return new hi(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dg.type="LOCAL";const k$=dg;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function R$(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Yt("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",C$().appendChild(r)})}function P$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ui(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(t,e){return e?sn(e):(Z(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends Nu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Nr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Nr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $$(t){return sg(t.auth,new Bu(t),t.bypassAuthState)}function F$(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),s$(n,new Bu(t),t.bypassAuthState)}async function D$(t){const{auth:e,user:n}=t;return Z(n,e,"internal-error"),r$(n,new Bu(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $$;case"linkViaPopup":case"linkViaRedirect":return D$;case"reauthViaPopup":case"reauthViaRedirect":return F$;default:kt(this.auth,"internal-error")}}resolve(e){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=new ui(2e3,1e4);async function N$(t,e,n){const r=as(t);EP(t,e,Uu);const s=hg(r,n);return new sr(r,"signInViaPopup",e,s).executeNotNull()}class sr extends pg{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,sr.currentPopupAction&&sr.currentPopupAction.cancel(),sr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Z(e,this.auth,"internal-error"),e}async onExecution(){un(this.filter.length===1,"Popup operations only handle one event");const e=Vu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yt(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,M$.get())};e()}}sr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="pendingRedirect",Hi=new Map;class U$ extends pg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hi.get(this.auth._key());if(!e){try{const r=await V$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hi.set(this.auth._key(),e)}return this.bypassAuthState||Hi.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V$(t,e){const n=H$(e),r=j$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function B$(t,e){Hi.set(t._key(),e)}function j$(t){return sn(t._redirectPersistence)}function H$(t){return ji(L$,t.config.apiKey,t.name)}async function q$(t,e,n=!1){const r=as(t),s=hg(r,e),o=await new U$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=10*60*1e3;class G${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mg(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yt(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z$&&this.cachedEventUids.clear(),this.cachedEventUids.has(md(e))}saveEventToCache(e){this.cachedEventUids.add(md(e)),this.lastProcessedEventTime=Date.now()}}function md(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mg({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function K$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mg(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(t,e={}){return os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X$=/^https?/;async function J$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await W$(t);for(const n of e)try{if(Q$(n))return}catch{}kt(t,"unauthorized-domain")}function Q$(t){const e=Fl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!X$.test(n))return!1;if(Y$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$=new ui(3e4,6e4);function gd(){const t=Xt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eF(t){return new Promise((e,n)=>{var r,s,i;function o(){gd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gd(),n(Yt(t,"network-request-failed"))},timeout:Z$.get()})}if(!((s=(r=Xt().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Xt().gapi)===null||i===void 0)&&i.load)o();else{const l=P$("iframefcb");return Xt()[l]=()=>{gapi.load?o():n(Yt(t,"network-request-failed"))},R$(`https://apis.google.com/js/api.js?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw qi=null,e})}let qi=null;function tF(t){return qi=qi||eF(t),qi}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF=new ui(5e3,15e3),rF="__/auth/iframe",sF="emulator/auth/iframe",iF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aF(t){const e=t.config;Z(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fu(e,sF):`https://${t.config.authDomain}/${rF}`,r={apiKey:e.apiKey,appName:t.name,v:is},s=oF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${li(r).slice(1)}`}async function lF(t){const e=await tF(t),n=Xt().gapi;return Z(n,t,"internal-error"),e.open({where:document.body,url:aF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Yt(t,"network-request-failed"),l=Xt().setTimeout(()=>{i(o)},nF.get());function u(){Xt().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cF=500,fF=600,dF="_blank",hF="http://localhost";class _d{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pF(t,e,n,r=cF,s=fF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},uF),{width:r.toString(),height:s.toString(),top:i,left:o}),f=tt().toLowerCase();n&&(l=Ym(f)?dF:n),Wm(f)&&(e=e||hF,u.scrollbars="yes");const h=Object.entries(u).reduce((c,[d,p])=>`${c}${d}=${p},`,"");if(BP(f)&&l!=="_self")return mF(e||"",l),new _d(null);const a=window.open(e||"",l,h);Z(a,t,"popup-blocked");try{a.focus()}catch{}return new _d(a)}function mF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="__/auth/handler",_F="emulator/auth/handler";function vd(t,e,n,r,s,i){Z(t.config.authDomain,t,"auth-domain-config-required"),Z(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:is,eventId:s};if(e instanceof Uu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uR(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(i||{}))o[u]=f}if(e instanceof di){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];return`${vF(t)}?${li(l).slice(1)}`}function vF({config:t}){return t.emulator?Fu(t,_F):`https://${t.authDomain}/${gF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="webStorageSupport";class yF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lg,this._completeRedirectFn=q$,this._overrideRedirectResult=B$}async _openPopup(e,n,r,s){var i;un((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=vd(e,n,r,Fl(),s);return pF(e,o,Vu())}async _openRedirect(e,n,r,s){return await this._originValidation(e),b$(vd(e,n,r,Fl(),s)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(un(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lF(e),r=new G$(e);return n.register("authEvent",s=>(Z(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ba,{type:Ba},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Ba];o!==void 0&&n(!!o),kt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=J$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eg()||Mu()||ra()}}const bF=yF;var yd="@firebase/auth",bd="0.21.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function TF(t){hr(new jn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=r.options;return((l,u)=>{Z(i&&!i.includes(":"),"invalid-api-key",{appName:l.name}),Z(!(o!=null&&o.includes(":")),"argument-error",{appName:l.name});const f={apiKey:i,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tg(t)},h=new zP(l,u,f);return SP(h,n),h})(r,s)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hr(new jn("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new wF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(yd,bd,EF(t)),Wt(yd,bd,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF=5*60,AF=$m("authIdTokenMaxAge")||SF;let wd=null;const IF=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>AF)return;const s=n==null?void 0:n.token;wd!==s&&(wd=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function xF(t=na()){const e=ta(t,"auth");if(e.isInitialized())return e.getImmediate();const n=TP(t,{popupRedirectResolver:bF,persistence:[k$,_$,lg]}),r=$m("authTokenSyncURL");if(r){const i=IF(r);f$(n,i,()=>i(n.currentUser)),c$(n,o=>i(o))}const s=Rm("auth");return s&&GP(n,`http://${s}`),n}TF("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let us="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Cu("@firebase/firestore");function co(t,...e){if(qr.logLevel<=we.DEBUG){const n=e.map(Hu);qr.debug(`Firestore (${us}): ${t}`,...n)}}function ju(t,...e){if(qr.logLevel<=we.ERROR){const n=e.map(Hu);qr.error(`Firestore (${us}): ${t}`,...n)}}function gg(t,...e){if(qr.logLevel<=we.WARN){const n=e.map(Hu);qr.warn(`Firestore (${us}): ${t}`,...n)}}function Hu(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t="Unexpected state"){const e=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: `+t;throw ju(e),new Error(e)}function dt(t,e){t||Re()}function pi(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="ok",OF="cancelled",xs="unknown",J="invalid-argument",kF="deadline-exceeded",_g="not-found",CF="permission-denied",Ml="unauthenticated",RF="resource-exhausted",zr="failed-precondition",PF="aborted",$F="out-of-range",vg="unimplemented",FF="internal",DF="unavailable";class W extends Qt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class NF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LF{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(dt(typeof e.accessToken=="string"),new yg(e.accessToken,new ut(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class UF{constructor(e,n,r,s){this.t=e,this.i=n,this.o=r,this.u=s,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.h=new Map}l(){return this.u?this.u():(dt(!(typeof this.t!="object"||this.t===null||!this.t.auth||!this.t.auth.getAuthHeaderValueForFirstParty)),this.t.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.h.set("X-Goog-AuthUser",this.i);const e=this.l();return e&&this.h.set("Authorization",e),this.o&&this.h.set("X-Goog-Iam-Authorization-Token",this.o),this.h}}class VF{constructor(e,n,r,s){this.t=e,this.i=n,this.o=r,this.u=s}getToken(){return Promise.resolve(new UF(this.t,this.i,this.o,this.u))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jF{constructor(e){this.m=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(dt(typeof e.token=="string"),new BF(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e,n,r,s,i,o,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=u}}class Ws{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ws("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ws&&e.projectId===this.projectId&&e.database===this.database}}class Ys{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(),r===void 0?r=e.length-n:r>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ys.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ys?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class De extends Ys{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(J,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const qF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends Ys{construct(e,n,r){return new vt(e,n,r)}static isValidIdentifier(e){return qF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(J,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new W(J,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(J,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new W(J,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(De.fromString(e))}static fromName(e){return new Ve(De.fromString(e).popFirst(5))}static empty(){return new Ve(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e,n){if(!n)throw new W(J,`Function ${t}() cannot be called with an empty ${e}.`)}function Td(t){if(!Ve.isDocumentKey(t))throw new W(J,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Sd(t){if(Ve.isDocumentKey(t))throw new W(J,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oa(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re()}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(J,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oa(t);throw new W(J,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zF(t,e){if(e<=0)throw new W(J,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GF(t){return t==null}function fo(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ad,he;function Id(t){if(t===void 0)return ju("RPC_ERROR","HTTP error has no status"),xs;switch(t){case 200:return Ed;case 400:return zr;case 401:return Ml;case 403:return CF;case 404:return _g;case 409:return PF;case 416:return $F;case 429:return RF;case 499:return OF;case 500:return xs;case 501:return vg;case 503:return DF;case 504:return kF;default:return t>=200&&t<300?Ed:t>=400&&t<500?zr:t>=500&&t<600?FF:xs}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(he=Ad||(Ad={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";class WF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.p=n+"://"+e.host,this.g="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get v(){return!1}I(e,n,r,s,i){const o=this.T(e,n);co("RestConnection","Sending: ",o,r);const l={};return this.A(l,s,i),this.R(e,o,l,r).then(u=>(co("RestConnection","Received: ",u),u),u=>{throw gg("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}P(e,n,r,s,i,o){return this.I(e,n,r,s,i)}A(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+us,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}T(e,n){const r=KF[e];return`${this.p}/v1/${n}:${r}`}}{constructor(e,n){super(e),this.V=n}$(e,n){throw new Error("Not supported by FetchConnection")}async R(e,n,r,s){var i;const o=JSON.stringify(s);let l;try{l=await this.V(n,{method:"POST",headers:r,body:o})}catch(u){const f=u;throw new W(Id(f.status),"Request failed with error: "+f.statusText)}if(!l.ok){let u=await l.json();Array.isArray(u)&&(u=u[0]);const f=(i=u==null?void 0:u.error)===null||i===void 0?void 0:i.message;throw new W(Id(l.status),`Request failed with error: ${f??l.statusText}`)}return l.json()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{static N(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=YF(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Be(t,e){return t<e?-1:t>e?1:0}function wg(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function mi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new cn(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new cn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cn.EMPTY_BYTE_STRING=new cn("");const JF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(dt(!!t),typeof t=="string"){let e=0;const n=JF.exec(t);if(dt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xs(t){return typeof t=="string"?cn.fromBase64String(t):cn.fromUint8Array(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(J,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(J,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(J,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(J,"Timestamp seconds out of range: "+e)}static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ht(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Eg(t){const e=t.mapValue.fields.__previous_value__;return qu(e)?Eg(e):e}function Js(t){const e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i={fields:{__type__:{stringValue:"__max__"}}};function _r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qu(t)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}(t)?9007199254740991:10:Re()}function ho(t,e){if(t===e)return!0;const n=_r(t);if(n!==_r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Js(t).isEqual(Js(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=gr(r.timestampValue),o=gr(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Xs(r.bytesValue).isEqual(Xs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Le(r.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(r.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Le(r.integerValue)===Le(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=Le(r.doubleValue),o=Le(s.doubleValue);return i===o?fo(i)===fo(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return wg(t.arrayValue.values||[],e.arrayValue.values||[],ho);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(xd(i)!==xd(o))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(o[l]===void 0||!ho(i[l],o[l])))return!1;return!0}(t,e);default:return Re()}}function Qs(t,e){return(t.values||[]).find(n=>ho(n,e))!==void 0}function po(t,e){if(t===e)return 0;const n=_r(t),r=_r(e);if(n!==r)return Be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=Le(s.integerValue||s.doubleValue),l=Le(i.integerValue||i.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Od(t.timestampValue,e.timestampValue);case 4:return Od(Js(t),Js(e));case 5:return Be(t.stringValue,e.stringValue);case 6:return function(s,i){const o=Xs(s),l=Xs(i);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),l=i.split("/");for(let u=0;u<o.length&&u<l.length;u++){const f=Be(o[u],l[u]);if(f!==0)return f}return Be(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=Be(Le(s.latitude),Le(i.latitude));return o!==0?o:Be(Le(s.longitude),Le(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],l=i.values||[];for(let u=0;u<o.length&&u<l.length;++u){const f=po(o[u],l[u]);if(f)return f}return Be(o.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===$i&&i===$i)return 0;if(s===$i)return 1;if(i===$i)return-1;const o=s.fields||{},l=Object.keys(o),u=i.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const a=Be(l[h],f[h]);if(a!==0)return a;const c=po(o[l[h]],u[f[h]]);if(c!==0)return c}return Be(l.length,f.length)}(t.mapValue,e.mapValue);default:throw Re()}}function Od(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Be(t,e);const n=gr(t),r=gr(e),s=Be(n.seconds,r.seconds);return s!==0?s:Be(n.nanos,r.nanos)}function mo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Tg(t){return!!t&&"arrayValue"in t}function kd(t){return!!t&&"nullValue"in t}function Cd(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ja(t){return!!t&&"mapValue"in t}function Os(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return mi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Os(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Os(t.arrayValue.values[n]);return e}return Object.assign({},t)}class go{constructor(e,n){this.position=e,this.inclusive=n}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{}class Lt extends Sg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QF(e,n,r):n==="array-contains"?new tD(e,r):n==="in"?new nD(e,r):n==="not-in"?new rD(e,r):n==="array-contains-any"?new sD(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZF(e,r):new eD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&_r(this.value)===_r(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class gi extends Sg{constructor(e,n){super(),this.filters=e,this.op=n,this.D=null}static create(e,n){return new gi(e,n)}matches(e){return this.op==="and"?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.D!==null||(this.D=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.D}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.F(n=>n.isInequality());return e!==null?e.field:null}F(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}class QF extends Lt{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZF extends Lt{constructor(e,n){super(e,"in",n),this.keys=Ag("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eD extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Ag("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ag(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class tD extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Tg(n)&&Qs(n.arrayValue,this.value)}}class nD extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qs(this.value.arrayValue,n)}}class rD extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Qs(this.value.arrayValue,n)}}class sD extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Tg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n="asc"){this.field=e,this.dir=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.timestamp=e}static fromTimestamp(e){return new We(e)}static min(){return new We(new ht(0,0))}static max(){return new We(new ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new _o(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new _o(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fi(this.root,e,this.comparator,!0)}}class Fi{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=s??Ye.EMPTY,this.right=i??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ye(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ye.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(t,e,n,r,s){return this}insert(t,e,n){return new Ye(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e,this.data=new _o(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rd(this.data.getIterator())}getIteratorFrom(e){return new Rd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new vo(this.comparator);return n.data=e,n}}class Rd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new vr([])}unionWith(e){let n=new vo(vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wg(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.value=e}static empty(){return new yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ja(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Os(n)}setAll(e){let n=vt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Os(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());ja(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ho(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];ja(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){mi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new yt(Os(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new jt(e,0,We.min(),We.min(),We.min(),yt.empty(),0)}static newFoundDocument(e,n,r,s){return new jt(e,1,n,We.min(),r,s,0)}static newNoDocument(e,n){return new jt(e,2,n,We.min(),We.min(),yt.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,We.min(),We.min(),yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.S=null}}function Pd(t,e=null,n=[],r=[],s=null,i=null,o=null){return new iD(t,e,n,r,s,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.q=null,this.O=null,this.startAt,this.endAt}}function zu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function aa(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Ig(t){return t.collectionGroup!==null}function Nl(t){const e=pi(t);if(e.q===null){e.q=[];const n=aa(e),r=zu(e);if(n!==null&&r===null)n.isKeyField()||e.q.push(new ks(n)),e.q.push(new ks(vt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.q.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.q.push(new ks(vt.keyField(),i))}}}return e.q}function oD(t){const e=pi(t);if(!e.O)if(e.limitType==="F")e.O=Pd(e.path,e.collectionGroup,Nl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Nl(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new ks(i.field,o))}const r=e.endAt?new go(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new go(e.startAt.position,e.startAt.inclusive):null;e.O=Pd(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e.O}function Ll(t,e){e.getFirstInequalityField(),aa(t);const n=t.filters.concat([e]);return new _i(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t,e){return function(n){return typeof n=="number"&&Number.isInteger(n)&&!fo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?function(n){return{integerValue:""+n}}(e):function(n,r){if(n.k){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fo(r)?"-0":r}}(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}class aD extends la{}class lD extends la{constructor(e){super(),this.elements=e}}class uD extends la{constructor(e){super(),this.elements=e}}class Og extends la{constructor(e,n){super(),this.C=e,this.L=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n){this.field=e,this.transform=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}class ua{}class kg extends ua{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Gu extends ua{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}class Cg extends ua{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fD extends ua{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),hD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pD=(()=>({and:"AND",or:"OR"}))();class mD{constructor(e,n){this.databaseId=e,this.k=n}}function Ul(t,e){return t.k?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gD(t,e){return t.k?e.toBase64():e.toUint8Array()}function _D(t,e){return Ul(t,e.toTimestamp())}function Cs(t){return dt(!!t),We.fromTimestamp(function(e){const n=gr(e);return new ht(n.seconds,n.nanos)}(t))}function Ku(t,e){return function(n){return new De(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function yo(t,e){return Ku(t.databaseId,e.path)}function Vl(t,e){const n=function(s){const i=De.fromString(s);return dt($g(i)),i}(e);if(n.get(1)!==t.databaseId.projectId)throw new W(J,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(J,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve((dt((r=n).length>4&&r.get(4)==="documents"),r.popFirst(5)));var r}function $d(t,e){return Ku(t.databaseId,e)}function Rg(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fd(t,e,n){return{name:yo(t,e),fields:n.value.mapValue.fields}}function vD(t,e){return"found"in e?function(n,r){dt(!!r.found),r.found.name,r.found.updateTime;const s=Vl(n,r.found.name),i=Cs(r.found.updateTime),o=r.found.createTime?Cs(r.found.createTime):We.min(),l=new yt({mapValue:{fields:r.found.fields}});return jt.newFoundDocument(s,i,o,l)}(t,e):"missing"in e?function(n,r){dt(!!r.missing),dt(!!r.readTime);const s=Vl(n,r.missing),i=Cs(r.readTime);return jt.newNoDocument(s,i)}(t,e):Re()}function yD(t,e){let n;if(e instanceof kg)n={update:Fd(t,e.key,e.value)};else if(e instanceof Cg)n={delete:yo(t,e.key)};else if(e instanceof Gu)n={update:Fd(t,e.key,e.data),updateMask:SD(e.fieldMask)};else{if(!(e instanceof fD))return Re();n={verify:yo(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof aD)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof lD)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof uD)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Og)return{fieldPath:i.field.canonicalString(),increment:o.L};throw Re()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:_D(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Re()}(t,e.precondition)),n}function bD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=$d(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=$d(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(u){if(u.length!==0)return Pg(gi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(f=>function(h){return{field:kr(h.field),direction:wD(h.dir)}}(f))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(u,f){return u.k||GF(f)?f:{value:f}}(t,e.limit);var l;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function wD(t){return dD[t]}function ED(t){return hD[t]}function TD(t){return pD[t]}function kr(t){return{fieldPath:t.canonicalString()}}function Pg(t){return t instanceof Lt?function(e){if(e.op==="=="){if(Cd(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NAN"}};if(kd(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Cd(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NOT_NAN"}};if(kd(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(e.field),op:ED(e.op),value:e.value}}}(t):t instanceof gi?function(e){const n=e.getFilters().map(r=>Pg(r));return n.length===1?n[0]:{compositeFilter:{op:TD(e.op),filters:n}}}(t):Re()}function SD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $g(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){return new mD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.C=s,this.Z=!1}tt(){if(this.Z)throw new W(zr,"The client has already been terminated.")}I(e,n,r){return this.tt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.I(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ml&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(xs,s.toString())})}P(e,n,r,s){return this.tt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.P(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ml&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(xs,i.toString())})}terminate(){this.Z=!0}}async function ca(t,e){const n=pi(t),r=Rg(n.C)+"/documents",s={writes:e.map(i=>yD(n.C,i))};await n.I("Commit",r,s)}async function ID(t,e){const n=pi(t),r=Rg(n.C)+"/documents",s={documents:e.map(u=>yo(n.C,u))},i=await n.P("BatchGetDocuments",r,s,e.length),o=new Map;i.forEach(u=>{const f=vD(n.C,u);o.set(f.key.toString(),f)});const l=[];return e.forEach(u=>{const f=o.get(u.toString());dt(!!f),l.push(f)}),l}async function xD(t,e){const n=pi(t),r=bD(n.C,oD(e));return(await n.P("RunQuery",r.parent,{structuredQuery:r.structuredQuery})).filter(s=>!!s.document).map(s=>function(i,o,l){const u=Vl(i,o.name),f=Cs(o.updateTime),h=o.createTime?Cs(o.createTime):We.min(),a=new yt({mapValue:{fields:o.fields}}),c=jt.newFoundDocument(u,f,h,a);return l&&c.setHasCommittedMutations(),l?c.setHasCommittedMutations():c}(n.C,s.document,void 0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Map;function cs(t){if(t._terminated)throw new W(zr,"The client has already been terminated.");if(!Rs.has(t)){co("ComponentProvider","Initializing Datastore");const i=function(u){return new WF(u,fetch.bind(null))}((e=t._databaseId,n=t.app.options.appId||"",r=t._persistenceKey,s=t._freezeSettings(),new HF(e,n,r,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams))),o=Wu(t._databaseId),l=function(u,f,h,a){return new AD(u,f,h,a)}(t._authCredentials,t._appCheckCredentials,i,o);Rs.set(t,l)}var e,n,r,s;/**
* @license
* Copyright 2018 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return Rs.get(t)}class Dd{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new W(J,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(J,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function(r,s,i,o){if(s===!0&&o===!0)throw new W(J,`${r} and ${i} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(zr,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(zr,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dd(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new MF;switch(n.type){case"gapi":const r=n.client;return new VF(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new W(J,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Rs.get(e);n&&(co("ComponentProvider","Removing Datastore"),Rs.delete(e),n.terminate())}(this),Promise.resolve()}}function OD(t,e){const n=typeof t=="object"?t:na(),r=typeof t=="string"?t:e||"(default)",s=ta(n,"firestore/lite").getImmediate({identifier:r});if(!s._initialized){const i=Pm("firestore");i&&kD(s,...i)}return s}function kD(t,e,n,r={}){var s;const i=(t=Er(t,fa))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&gg("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=ut.MOCK_USER;else{o=Fm(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new W(J,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ut(u)}t._authCredentials=new NF(new yg(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new on(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}}class mn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mn(this.firestore,e,this._query)}}class on extends mn{constructor(e,n,r){super(e,n,new _i(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new Ve(e))}withConverter(e){return new on(this.firestore,e,this._path)}}function da(t,e,...n){if(t=ke(t),bg("collection","path",e),t instanceof fa){const r=De.fromString(e,...n);return Sd(r),new on(t,null,r)}{if(!(t instanceof et||t instanceof on))throw new W(J,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Sd(r),new on(t.firestore,null,r)}}function Gr(t,e,...n){if(t=ke(t),arguments.length===1&&(e=XF.N()),bg("doc","path",e),t instanceof fa){const r=De.fromString(e,...n);return Td(r),new et(t,null,new Ve(r))}{if(!(t instanceof et||t instanceof on))throw new W(J,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return Td(r),new et(t.firestore,t instanceof on?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kr(cn.fromBase64String(e))}catch(n){throw new W(J,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kr(cn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(J,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(J,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(J,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=/^__.*__$/;class RD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms):new kg(e,this.data,n,this.fieldTransforms)}}class Fg{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gu(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dg(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class Xu{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.C=r,this.ignoreUndefinedProperties=s,i===void 0&&this.et(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get nt(){return this.settings.nt}rt(e){return new Xu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.C,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}st(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.rt({path:r,it:!1});return s.ot(e),s}ut(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.rt({path:r,it:!1});return s.et(),s}ct(e){return this.rt({path:void 0,it:!0})}at(e){return bo(e,this.settings.methodName,this.settings.ht||!1,this.path,this.settings.lt)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}et(){if(this.path)for(let e=0;e<this.path.length;e++)this.ot(this.path.get(e))}ot(e){if(e.length===0)throw this.at("Document fields must not be empty");if(Dg(this.nt)&&CD.test(e))throw this.at('Document fields cannot begin and end with "__"')}}class PD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.C=r||Wu(e)}ft(e,n,r,s=!1){return new Xu({nt:e,methodName:n,lt:r,path:vt.emptyPath(),it:!1,ht:s},this.databaseId,this.C,this.ignoreUndefinedProperties)}}function vi(t){const e=t._freezeSettings(),n=Wu(t._databaseId);return new PD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Mg(t,e,n,r,s,i={}){const o=t.ft(i.merge||i.mergeFields?2:0,e,n,s);Ju("Data must be an object, but it was:",o,r);const l=Lg(r,o);let u,f;if(i.merge)u=new vr(o.fieldMask),f=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const a of i.mergeFields){const c=Bl(e,a,n);if(!o.contains(c))throw new W(J,`Field '${c}' is specified in your field mask but missing from your input data.`);Vg(h,c)||h.push(c)}u=new vr(h),f=o.fieldTransforms.filter(a=>u.covers(a.field))}else u=null,f=o.fieldTransforms;return new RD(new yt(l),u,f)}class ma extends pa{_toFieldTransform(e){if(e.nt!==2)throw e.nt===1?e.at(`${this._methodName}() can only appear at the top level of your update data`):e.at(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ma}}class $D extends pa{constructor(e,n){super(e),this.wt=n}_toFieldTransform(e){const n=new Og(e.C,xg(e.C,this.wt));return new cD(e.path,n)}isEqual(e){return this===e}}function FD(t,e,n,r){const s=t.ft(1,e,n);Ju("Data must be an object, but it was:",s,r);const i=[],o=yt.empty();mi(r,(u,f)=>{const h=Qu(e,u,n);f=ke(f);const a=s.ut(h);if(f instanceof ma)i.push(h);else{const c=yi(f,a);c!=null&&(i.push(h),o.set(h,c))}});const l=new vr(i);return new Fg(o,l,s.fieldTransforms)}function DD(t,e,n,r,s,i){const o=t.ft(1,e,n),l=[Bl(e,r,n)],u=[s];if(i.length%2!=0)throw new W(J,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let c=0;c<i.length;c+=2)l.push(Bl(e,i[c])),u.push(i[c+1]);const f=[],h=yt.empty();for(let c=l.length-1;c>=0;--c)if(!Vg(f,l[c])){const d=l[c];let p=u[c];p=ke(p);const _=o.ut(d);if(p instanceof ma)f.push(d);else{const v=yi(p,_);v!=null&&(f.push(d),h.set(d,v))}}const a=new vr(f);return new Fg(h,a,o.fieldTransforms)}function Ng(t,e,n,r=!1){return yi(n,t.ft(r?4:3,e))}function yi(t,e){if(Ug(t=ke(t)))return Ju("Unsupported field value:",e,t),Lg(t,e);if(t instanceof pa)return function(n,r){if(!Dg(r.nt))throw r.at(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.at(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.it&&e.nt!==4)throw e.at("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let l=yi(o,r.ct(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=ke(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xg(r.C,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=ht.fromDate(n);return{timestampValue:Ul(r.C,s)}}if(n instanceof ht){const s=new ht(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ul(r.C,s)}}if(n instanceof Yu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Kr)return{bytesValue:gD(r.C,n._byteString)};if(n instanceof et){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r.at(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ku(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.at(`Unsupported field value: ${oa(n)}`)}(t,e)}function Lg(t,e){const n={};return function(r){for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s))return!1;return!0}(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mi(t,(r,s)=>{const i=yi(s,e.st(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ug(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ht||t instanceof Yu||t instanceof Kr||t instanceof et||t instanceof pa)}function Ju(t,e,n){if(!Ug(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=oa(n);throw r==="an object"?e.at(t+" a custom object"):e.at(t+" "+r)}}function Bl(t,e,n){if((e=ke(e))instanceof ha)return e._internalPath;if(typeof e=="string")return Qu(t,e);throw bo("Field path arguments must be of type string or ",t,!1,void 0,n)}const MD=new RegExp("[~\\*/\\[\\]]");function Qu(t,e,n){if(e.search(MD)>=0)throw bo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ha(...e.split("."))._internalPath}catch{throw bo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bo(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(J,l+t+u)}function Vg(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ec("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Bg extends Zu{data(){return super.data()}}class ND{constructor(e,n){this._docs=n,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return this.docs.length===0}forEach(e,n){this._docs.forEach(e,n)}}function ec(t,e){return typeof e=="string"?Qu(t,e):e instanceof ha?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{}class ga extends tc{}function wo(t,e,...n){let r=[];e instanceof tc&&r.push(e),r=r.concat(n),function(s){const i=s.filter(l=>l instanceof nc).length,o=s.filter(l=>l instanceof _a).length;if(i>1||i>0&&o>0)throw new W(J,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class _a extends ga{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new _a(e,n,r)}_apply(e){const n=this._parse(e);return Hg(e._query,n),new mn(e.firestore,e.converter,Ll(e._query,n))}_parse(e){const n=vi(e.firestore);return function(s,i,o,l,u,f,h){let a;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new W(J,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Ud(h,f);const c=[];for(const d of h)c.push(Ld(l,s,d));a={arrayValue:{values:c}}}else a=Ld(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Ud(h,f),a=Ng(o,i,h,f==="in"||f==="not-in");return Lt.create(u,f,a)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function jg(t,e,n){const r=e,s=ec("where",t);return _a._create(s,r,n)}class nc extends tc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new nc(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:gi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const l of o)Hg(i,l),i=Ll(i,l)}(e._query,n),new mn(e.firestore,e.converter,Ll(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class rc extends ga{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new rc(e,n)}_apply(e){const n=function(r,s,i){if(r.startAt!==null)throw new W(J,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new W(J,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ks(s,i);return function(l,u){if(zu(l)===null){const f=aa(l);f!==null&&qg(l,f,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new mn(e.firestore,e.converter,function(r,s){const i=r.explicitOrderBy.concat([s]);return new _i(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function Md(t,e="asc"){const n=e,r=ec("orderBy",t);return rc._create(r,n)}class sc extends ga{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new sc(e,n,r)}_apply(e){return new mn(e.firestore,e.converter,function(n,r,s){return new _i(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),r,s,n.startAt,n.endAt)}(e._query,this._limit,this._limitType))}}function Nd(t){return zF("limit",t),sc._create("limit",t,"F")}class ic extends ga{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ic(e,n,r)}_apply(e){const n=UD(e,this.type,this._docOrFields,this._inclusive);return new mn(e.firestore,e.converter,function(r,s){return new _i(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}}function LD(...t){return ic._create("startAfter",t,!1)}function UD(t,e,n,r){if(n[0]=ke(n[0]),n[0]instanceof Zu)return function(s,i,o,l,u){if(!l)throw new W(_g,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const f=[];for(const h of Nl(s))if(h.field.isKeyField())f.push(mo(i,l.key));else{const a=l.data.field(h.field);if(qu(a))throw new W(J,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(a===null){const c=h.field.canonicalString();throw new W(J,`Invalid query. You are trying to start or end a query using a document for which the field '${c}' (used as the orderBy) does not exist.`)}f.push(a)}return new go(f,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=vi(t.firestore);return function(i,o,l,u,f,h){const a=i.explicitOrderBy;if(f.length>a.length)throw new W(J,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const c=[];for(let d=0;d<f.length;d++){const p=f[d];if(a[d].field.isKeyField()){if(typeof p!="string")throw new W(J,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!Ig(i)&&p.indexOf("/")!==-1)throw new W(J,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const _=i.path.child(De.fromString(p));if(!Ve.isDocumentKey(_))throw new W(J,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const v=new Ve(_);c.push(mo(o,v))}else{const _=Ng(l,u,p);c.push(_)}}return new go(c,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function Ld(t,e,n){if(typeof(n=ke(n))=="string"){if(n==="")throw new W(J,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ig(e)&&n.indexOf("/")!==-1)throw new W(J,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!Ve.isDocumentKey(r))throw new W(J,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mo(t,new Ve(r))}if(n instanceof et)return mo(t,n._key);throw new W(J,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oa(n)}.`)}function Ud(t,e){if(!Array.isArray(t)||t.length===0)throw new W(J,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new W(J,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hg(t,e){if(e.isInequality()){const r=aa(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new W(J,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=zu(t);i!==null&&qg(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(J,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(J,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qg(t,e,n){if(!n.isEqual(e))throw new W(J,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Gg extends class{convertValue(e,n="none"){switch(_r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Re()}}convertObject(e,n){const r={};return mi(e.fields,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Yu(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Eg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Js(e));default:return null}}convertTimestamp(e){const n=gr(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);dt($g(r));const s=new Ws(r.get(1),r.get(3)),i=new Ve(r.popFirst(5));return s.isEqual(n)||ju(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new et(this.firestore,null,n)}}function VD(t){const e=cs((t=Er(t,et)).firestore),n=new Gg(t.firestore);return ID(e,[t._key]).then(r=>{dt(r.length===1);const s=r[0];return new Zu(t.firestore,n,t._key,s.isFoundDocument()?s:null,t.converter)})}function Eo(t){(function(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new W(vg,"limitToLast() queries require specifying at least one orderBy() clause")})((t=Er(t,mn))._query);const e=cs(t.firestore),n=new Gg(t.firestore);return xD(e,t._query).then(r=>{const s=r.map(i=>new Bg(t.firestore,n,i.key,i,t.converter));return t._query.limitType==="L"&&s.reverse(),new ND(t,s)})}function BD(t,e,n){const r=zg((t=Er(t,et)).converter,e,n),s=Mg(vi(t.firestore),"setDoc",t._key,r,t.converter!==null,n);return ca(cs(t.firestore),[s.toMutation(t._key,Ln.none())])}function Kg(t,e,n,...r){const s=vi((t=Er(t,et)).firestore);let i;return i=typeof(e=ke(e))=="string"||e instanceof ha?DD(s,"updateDoc",t._key,e,n,r):FD(s,"updateDoc",t._key,e),ca(cs(t.firestore),[i.toMutation(t._key,Ln.exists(!0))])}function jD(t){return ca(cs((t=Er(t,et)).firestore),[new Cg(t._key,Ln.none())])}function Wg(t,e){const n=Gr(t=Er(t,on)),r=zg(t.converter,e),s=Mg(vi(t.firestore),"addDoc",n._key,r,n.converter!==null,{});return ca(cs(t.firestore),[s.toMutation(n._key,Ln.exists(!1))]).then(()=>n)}function HD(t){return new $D("increment",t)}(function(t){us=t})(`${is}_lite`),hr(new jn("firestore/lite",(t,{instanceIdentifier:e,options:n})=>{const r=t.getProvider("app").getImmediate(),s=new fa(new LF(t.getProvider("auth-internal")),new jF(t.getProvider("app-check-internal")),function(i,o){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new W(J,'"projectId" not provided in firebase.initializeApp.');return new Ws(i.options.projectId,o)}(r,e),r);return n&&s._setSettings(n),s},"PUBLIC").setMultipleInstances(!0)),Wt("firestore-lite","3.8.0",""),Wt("firestore-lite","3.8.0","esm2017");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="firebasestorage.googleapis.com",Xg="storageBucket",qD=2*60*1e3,zD=10*60*1e3,GD=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe extends Qt{constructor(e,n,r=0){super(Ha(e),`Firebase Storage: ${n} (${Ha(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ha(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}function Ha(t){return"storage/"+t}function oc(){const t="An unknown error occurred, please check the error payload for server response.";return new Pe("unknown",t)}function KD(t){return new Pe("object-not-found","Object '"+t+"' does not exist.")}function WD(t){return new Pe("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YD(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Pe("unauthenticated",t)}function XD(){return new Pe("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function JD(t){return new Pe("unauthorized","User does not have permission to access '"+t+"'.")}function Jg(){return new Pe("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function Qg(){return new Pe("canceled","User canceled the upload/download.")}function QD(t){return new Pe("invalid-url","Invalid URL '"+t+"'.")}function ZD(t){return new Pe("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function eM(){return new Pe("no-default-bucket","No default bucket found. Did you set the '"+Xg+"' property when initializing the app?")}function Zg(){return new Pe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function tM(){return new Pe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function nM(){return new Pe("no-download-url","The given file does not have any download URLs.")}function rM(t){return new Pe("unsupported-environment",`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function jl(t){return new Pe("invalid-argument",t)}function e_(){return new Pe("app-deleted","The Firebase app was deleted.")}function sM(t){return new Pe("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ps(t,e){return new Pe("invalid-format","String does not match format '"+t+"': "+e)}function gs(t){throw new Pe("internal-error","Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Et.makeFromUrl(e,n)}catch{return new Et(e,"")}if(r.path==="")return r;throw ZD(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function f(A){A.path_=decodeURIComponent(A.path)}const h="v[A-Za-z0-9_]+",a=n.replace(/[.]/g,"\\."),c="(/([^?#]*).*)?$",d=new RegExp(`^https?://${a}/${h}/b/${s}/o${c}`,"i"),p={bucket:1,path:3},_=n===Yg?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${_}/${s}/${v}`,"i"),E=[{regex:l,indices:u,postModify:i},{regex:d,indices:p,postModify:f},{regex:m,indices:{bucket:1,path:2},postModify:f}];for(let A=0;A<E.length;A++){const $=E[A],C=$.regex.exec(e);if(C){const N=C[$.indices.bucket];let k=C[$.indices.path];k||(k=""),r=new Et(N,k),$.postModify(r);break}}if(r==null)throw QD(e);return r}}class iM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function u(){return l===2}let f=!1;function h(...v){f||(f=!0,e.apply(null,v))}function a(v){s=setTimeout(()=>{s=null,t(d,u())},v)}function c(){i&&clearTimeout(i)}function d(v,...m){if(f){c();return}if(v){c(),h.call(null,v,...m);return}if(u()||o){c(),h.call(null,v,...m);return}r<64&&(r*=2);let E;l===1?(l=2,E=0):E=(r+Math.random())*1e3,a(E)}let p=!1;function _(v){p||(p=!0,c(),!f&&(s!==null?(v||(l=2),clearTimeout(s),a(0)):v||(l=1)))}return a(0),i=setTimeout(()=>{o=!0,_(!0)},n),_}function aM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(t){return t!==void 0}function uM(t){return typeof t=="function"}function cM(t){return typeof t=="object"&&!Array.isArray(t)}function va(t){return typeof t=="string"||t instanceof String}function Vd(t){return ac()&&t instanceof Blob}function ac(){return typeof Blob<"u"&&!WC()}function Bd(t,e,n,r){if(r<e)throw jl(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw jl(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function t_(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(lr||(lr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n,r,s,i,o,l,u,f,h,a,c=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=a,this.retry=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,p)=>{this.resolve_=d,this.reject_=p,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Di(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const u=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===lr.NO_ERROR,u=i.getStatus();if((!l||n_(u,this.additionalRetryCodes_))&&this.retry){const h=i.getErrorCode()===lr.ABORT;r(!1,new Di(!1,null,h));return}const f=this.successCodes_.indexOf(u)!==-1;r(!0,new Di(f,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());lM(u)?i(u):i()}catch(u){o(u)}else if(l!==null){const u=oc();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(s.canceled){const u=this.appDelete_?e_():Qg();o(u)}else{const u=Jg();o(u)}};this.canceled_?n(!1,new Di(!1,null,!0)):this.backoffId_=oM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&aM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Di{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function dM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function hM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function pM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function mM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function gM(t,e,n,r,s,i,o=!0){const l=t_(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return pM(f,e),dM(f,n),hM(f,i),mM(f,r),new fM(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function vM(...t){const e=_M();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(ac())return new Blob(t);throw new Pe("unsupported-environment","This browser doesn't seem to support creating Blobs")}}function yM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t){if(typeof atob>"u")throw rM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qa{constructor(e,n){this.data=e,this.contentType=n||null}}function wM(t,e){switch(t){case zt.RAW:return new qa(r_(e));case zt.BASE64:case zt.BASE64URL:return new qa(s_(t,e));case zt.DATA_URL:return new qa(TM(e),SM(e))}throw oc()}function r_(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function EM(t){let e;try{e=decodeURIComponent(t)}catch{throw Ps(zt.DATA_URL,"Malformed data URL.")}return r_(e)}function s_(t,e){switch(t){case zt.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Ps(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case zt.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Ps(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bM(e)}catch(s){throw s.message.includes("polyfill")?s:Ps(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class i_{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ps(zt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=AM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function TM(t){const e=new i_(t);return e.base64?s_(zt.BASE64,e.rest):EM(e.rest)}function SM(t){return new i_(t).contentType}function AM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n){let r=0,s="";Vd(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(Vd(this.data_)){const r=this.data_,s=yM(r,e,n);return s===null?null:new kn(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new kn(r,!0)}}static getBlob(...e){if(ac()){const n=e.map(r=>r instanceof kn?r.data_:r);return new kn(vM.apply(null,n))}else{const n=e.map(o=>va(o)?wM(zt.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new kn(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){let e;try{e=JSON.parse(t)}catch{return null}return cM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function a_(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t,e){return e}class nt{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||OM}}let Mi=null;function kM(t){return!va(t)||t.length<2?t:a_(t)}function l_(){if(Mi)return Mi;const t=[];t.push(new nt("bucket")),t.push(new nt("generation")),t.push(new nt("metageneration")),t.push(new nt("name","fullPath",!0));function e(i,o){return kM(o)}const n=new nt("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new nt("size");return s.xform=r,t.push(s),t.push(new nt("timeCreated")),t.push(new nt("updated")),t.push(new nt("md5Hash",null,!0)),t.push(new nt("cacheControl",null,!0)),t.push(new nt("contentDisposition",null,!0)),t.push(new nt("contentEncoding",null,!0)),t.push(new nt("contentLanguage",null,!0)),t.push(new nt("contentType",null,!0)),t.push(new nt("metadata","customMetadata",!0)),Mi=t,Mi}function CM(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new Et(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function RM(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return CM(r,t),r}function u_(t,e,n){const r=o_(e);return r===null?null:RM(t,r,n)}function PM(t,e,n,r){const s=o_(e);if(s===null||!va(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(f=>{const h=t.bucket,a=t.fullPath,c="/b/"+o(h)+"/o/"+o(a),d=fs(c,n,r),p=t_({alt:"media",token:f});return d+p})[0]}function c_(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class Tr{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(t){if(!t)throw oc()}function lc(t,e){function n(r,s){const i=u_(t,s,e);return an(i!==null),i}return n}function $M(t,e){function n(r,s){const i=u_(t,s,e);return an(i!==null),PM(i,s,t.host,t._protocol)}return n}function bi(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=XD():s=YD():n.getStatus()===402?s=WD(t.bucket):n.getStatus()===403?s=JD(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function uc(t){const e=bi(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=KD(t.path)),i.serverResponse=s.serverResponse,i}return n}function FM(t,e,n){const r=e.fullServerUrl(),s=fs(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new Tr(s,i,lc(t,n),o);return l.errorHandler=uc(e),l}function DM(t,e,n){const r=e.fullServerUrl(),s=fs(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new Tr(s,i,$M(t,n),o);return l.errorHandler=uc(e),l}function MM(t,e){const n=e.fullServerUrl(),r=fs(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(u,f){}const l=new Tr(r,s,o,i);return l.successCodes=[200,204],l.errorHandler=uc(e),l}function NM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function f_(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NM(null,e)),r}function LM(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let E="";for(let A=0;A<2;A++)E=E+Math.random().toString().slice(2);return E}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const f=f_(e,r,s),h=c_(f,n),a="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+f.contentType+`\r
\r
`,c=`\r
--`+u+"--",d=kn.getBlob(a,r,c);if(d===null)throw Zg();const p={name:f.fullPath},_=fs(i,t.host,t._protocol),v="POST",m=t.maxUploadRetryTime,S=new Tr(_,v,lc(t,n),m);return S.urlParams=p,S.headers=o,S.body=d.uploadData(),S.errorHandler=bi(e),S}class To{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function cc(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{an(!1)}return an(!!n&&(e||["active"]).indexOf(n)!==-1),n}function UM(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=f_(e,r,s),l={name:o.fullPath},u=fs(i,t.host,t._protocol),f="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},a=c_(o,n),c=t.maxUploadRetryTime;function d(_){cc(_);let v;try{v=_.getResponseHeader("X-Goog-Upload-URL")}catch{an(!1)}return an(va(v)),v}const p=new Tr(u,f,d,c);return p.urlParams=l,p.headers=h,p.body=a,p.errorHandler=bi(e),p}function VM(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(f){const h=cc(f,["active","final"]);let a=null;try{a=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{an(!1)}a||an(!1);const c=Number(a);return an(!isNaN(c)),new To(c,r.size(),h==="final")}const o="POST",l=t.maxUploadRetryTime,u=new Tr(n,o,i,l);return u.headers=s,u.errorHandler=bi(e),u}const jd=256*1024;function BM(t,e,n,r,s,i,o,l){const u=new To(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw tM();const f=u.total-u.current;let h=f;s>0&&(h=Math.min(h,s));const a=u.current,c=a+h;let d="";h===0?d="finalize":f===h?d="upload, finalize":d="upload";const p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":`${u.current}`},_=r.slice(a,c);if(_===null)throw Zg();function v(A,$){const C=cc(A,["active","final"]),N=u.current+h,k=r.size();let L;return C==="final"?L=lc(e,i)(A,$):L=null,new To(N,k,C==="final",L)}const m="POST",S=e.maxUploadRetryTime,E=new Tr(n,m,v,S);return E.headers=p,E.body=_.uploadData(),E.progressCallback=l||null,E.errorHandler=bi(t),E}const ct={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function za(t){switch(t){case"running":case"pausing":case"canceling":return ct.RUNNING;case"paused":return ct.PAUSED;case"success":return ct.SUCCESS;case"canceled":return ct.CANCELED;case"error":return ct.ERROR;default:return ct.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e,n,r){if(uM(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class HM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw gs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw gs("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw gs("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw gs("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw gs("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class qM extends HM{initXhr(){this.xhr_.responseType="text"}}function nr(){return new qM}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=l_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(n_(s.status,[]))if(i)s=Jg();else{this.sleepTime=Math.max(this.sleepTime*2,GD),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=UM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,nr,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=VM(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,nr,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=jd*this._chunkMultiplier,n=new To(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=BM(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const l=this._ref.storage._makeRequest(o,nr,s,i,!1);this._request=l,l.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){jd*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=FM(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,nr,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=LM(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,nr,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Qg(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=za(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new jM(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(za(this._state)){case ct.SUCCESS:Ar(this._resolve.bind(null,this.snapshot))();break;case ct.CANCELED:case ct.ERROR:const n=this._reject;Ar(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(za(this._state)){case ct.RUNNING:case ct.PAUSED:e.next&&Ar(e.next.bind(e,this.snapshot))();break;case ct.SUCCESS:e.complete&&Ar(e.complete.bind(e))();break;case ct.CANCELED:case ct.ERROR:e.error&&Ar(e.error.bind(e,this._error))();break;default:e.error&&Ar(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this._service=e,n instanceof Et?this._location=n:this._location=Et.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new yr(e,n)}get root(){const e=new Et(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return a_(this._location.path)}get storage(){return this._service}get parent(){const e=IM(this._location.path);if(e===null)return null;const n=new Et(this._location.bucket,e);return new yr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sM(e)}}function GM(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new zM(t,new kn(e),n)}function KM(t){t._throwIfRoot("getDownloadURL");const e=DM(t.storage,t._location,l_());return t.storage.makeRequestWithTokens(e,nr).then(n=>{if(n===null)throw nM();return n})}function WM(t){t._throwIfRoot("deleteObject");const e=MM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,nr)}function YM(t,e){const n=xM(t._location.path,e),r=new Et(t._location.bucket,n);return new yr(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){return/^[A-Za-z]+:\/\//.test(t)}function JM(t,e){return new yr(t,e)}function d_(t,e){if(t instanceof fc){const n=t;if(n._bucket==null)throw eM();const r=new yr(n,n._bucket);return e!=null?d_(r,e):r}else return e!==void 0?YM(t,e):t}function QM(t,e){if(e&&XM(e)){if(t instanceof fc)return JM(t,e);throw jl("To use ref(service, url), the first argument must be a Storage instance.")}else return d_(t,e)}function Hd(t,e){const n=e==null?void 0:e[Xg];return n==null?null:Et.makeFromBucketSpec(n,t)}function ZM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Fm(s,t.app.options.projectId))}class fc{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Yg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qD,this._maxUploadRetryTime=zD,this._requests=new Set,s!=null?this._bucket=Et.makeFromBucketSpec(s,this._host):this._bucket=Hd(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Et.makeFromBucketSpec(this._url,e):this._bucket=Hd(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bd("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bd("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yr(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new iM(e_());{const o=gM(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const qd="@firebase/storage",zd="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="storage";function p_(t,e,n){return t=ke(t),GM(t,e,n)}function m_(t){return t=ke(t),KM(t)}function eN(t){return t=ke(t),WM(t)}function Hl(t,e){return t=ke(t),QM(t,e)}function tN(t=na(),e){t=ke(t);const r=ta(t,h_).getImmediate({identifier:e}),s=Pm("storage");return s&&nN(r,...s),r}function nN(t,e,n,r={}){ZM(t,e,n,r)}function rN(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new fc(n,r,s,e,is)}function sN(){hr(new jn(h_,rN,"PUBLIC").setMultipleInstances(!0)),Wt(qd,zd,""),Wt(qd,zd,"esm2017")}sN();const iN={apiKey:"AIzaSyBDN9R6L1dARalZ6IZewqR3CbJ2ETb1LtA",authDomain:"musicapp-a8b52.firebaseapp.com",projectId:"musicapp-a8b52",storageBucket:"musicapp-a8b52.appspot.com",messagingSenderId:"1074926483364",appId:"1:1074926483364:web:fb0c67c52b71bc019ff331"},g_=uP().length?na():Nm(iN),fn=OD(g_),ql=tN(),Ft=xF(g_),Gd=da(fn,"songs"),__=da(fn,"comments"),wi=zo("modal",()=>{const t=xe(!1),e=me(()=>t.value?"":"hidden");function n(){t.value=!t.value}return{isOpen:t,toggleIsOpen:n,hiddenClass:e}}),oN=new nn,qn=zo("user",()=>{const t=xe(!1);function e(){t.value=!t.value}function n(){t.value=!0}async function r(l){await a$(Ft,l.email,l.password),t.value=!0}async function s(){await N$(Ft,oN),t.value=!0}async function i(l){const u=await o$(Ft,l.email,l.password),f=Gr(fn,"users",`${u.user.uid}`);await BD(f,{name:l.name,email:l.email,age:l.age,country:l.country}),await u$(u.user,{displayName:l.name}),t.value=!0}async function o(){await h$(Ft),t.value=!1}return{toggleIsLoggedIn:e,userLoggedIn:t,register:i,setIsLoggedIn:n,authenticate:r,signOutProfile:o,googleAuthenticate:s}});/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Cr=typeof window<"u";function aN(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const be=Object.assign;function Ga(t,e){const n={};for(const r in e){const s=e[r];n[r]=Nt(s)?s.map(t):t(s)}return n}const $s=()=>{},Nt=Array.isArray,lN=/\/$/,uN=t=>t.replace(lN,"");function Ka(t,e,n="/"){let r,s={},i="",o="";const l=e.indexOf("#");let u=e.indexOf("?");return l<u&&l>=0&&(u=-1),u>-1&&(r=e.slice(0,u),i=e.slice(u+1,l>-1?l:e.length),s=t(i)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=hN(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function cN(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Kd(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function fN(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&Wr(e.matched[r],n.matched[s])&&v_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Wr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function v_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!dN(t[n],e[n]))return!1;return!0}function dN(t,e){return Nt(t)?Wd(t,e):Nt(e)?Wd(e,t):t===e}function Wd(t,e){return Nt(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function hN(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/");let s=n.length-1,i,o;for(i=0;i<r.length;i++)if(o=r[i],o!==".")if(o==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var Zs;(function(t){t.pop="pop",t.push="push"})(Zs||(Zs={}));var Fs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Fs||(Fs={}));function pN(t){if(!t)if(Cr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),uN(t)}const mN=/^[^#]+#/;function gN(t,e){return t.replace(mN,"#")+e}function _N(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const ya=()=>({left:window.pageXOffset,top:window.pageYOffset});function vN(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=_N(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Yd(t,e){return(history.state?history.state.position-e:-1)+t}const zl=new Map;function yN(t,e){zl.set(t,e)}function bN(t){const e=zl.get(t);return zl.delete(t),e}let wN=()=>location.protocol+"//"+location.host;function y_(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let l=s.includes(t.slice(i))?t.slice(i).length:1,u=s.slice(l);return u[0]!=="/"&&(u="/"+u),Kd(u,"")}return Kd(n,t)+r+s}function EN(t,e,n,r){let s=[],i=[],o=null;const l=({state:c})=>{const d=y_(t,location),p=n.value,_=e.value;let v=0;if(c){if(n.value=d,e.value=c,o&&o===p){o=null;return}v=_?c.position-_.position:0}else r(d);s.forEach(m=>{m(n.value,p,{delta:v,type:Zs.pop,direction:v?v>0?Fs.forward:Fs.back:Fs.unknown})})};function u(){o=n.value}function f(c){s.push(c);const d=()=>{const p=s.indexOf(c);p>-1&&s.splice(p,1)};return i.push(d),d}function h(){const{history:c}=window;c.state&&c.replaceState(be({},c.state,{scroll:ya()}),"")}function a(){for(const c of i)c();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h),{pauseListeners:u,listen:f,destroy:a}}function Xd(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?ya():null}}function TN(t){const{history:e,location:n}=window,r={value:y_(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,f,h){const a=t.indexOf("#"),c=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+u:wN()+t+u;try{e[h?"replaceState":"pushState"](f,"",c),s.value=f}catch(d){console.error(d),n[h?"replace":"assign"](c)}}function o(u,f){const h=be({},e.state,Xd(s.value.back,u,s.value.forward,!0),f,{position:s.value.position});i(u,h,!0),r.value=u}function l(u,f){const h=be({},s.value,e.state,{forward:u,scroll:ya()});i(h.current,h,!0);const a=be({},Xd(r.value,u,null),{position:h.position+1},f);i(u,a,!1),r.value=u}return{location:r,state:s,push:l,replace:o}}function SN(t){t=pN(t);const e=TN(t),n=EN(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=be({location:"",base:t,go:r,createHref:gN.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function AN(t){return typeof t=="string"||t&&typeof t=="object"}function b_(t){return typeof t=="string"||typeof t=="symbol"}const bn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},w_=Symbol("");var Jd;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Jd||(Jd={}));function Yr(t,e){return be(new Error,{type:t,[w_]:!0},e)}function Zt(t,e){return t instanceof Error&&w_ in t&&(e==null||!!(t.type&e))}const Qd="[^/]+?",IN={sensitive:!1,strict:!1,start:!0,end:!0},xN=/[.+*?^${}()[\]/\\]/g;function ON(t,e){const n=be({},IN,e),r=[];let s=n.start?"^":"";const i=[];for(const f of t){const h=f.length?[]:[90];n.strict&&!f.length&&(s+="/");for(let a=0;a<f.length;a++){const c=f[a];let d=40+(n.sensitive?.25:0);if(c.type===0)a||(s+="/"),s+=c.value.replace(xN,"\\$&"),d+=40;else if(c.type===1){const{value:p,repeatable:_,optional:v,regexp:m}=c;i.push({name:p,repeatable:_,optional:v});const S=m||Qd;if(S!==Qd){d+=10;try{new RegExp(`(${S})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${p}" (${S}): `+A.message)}}let E=_?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;a||(E=v&&f.length<2?`(?:/${E})`:"/"+E),v&&(E+="?"),s+=E,d+=20,v&&(d+=-8),_&&(d+=-20),S===".*"&&(d+=-50)}h.push(d)}r.push(h)}if(n.strict&&n.end){const f=r.length-1;r[f][r[f].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(f){const h=f.match(o),a={};if(!h)return null;for(let c=1;c<h.length;c++){const d=h[c]||"",p=i[c-1];a[p.name]=d&&p.repeatable?d.split("/"):d}return a}function u(f){let h="",a=!1;for(const c of t){(!a||!h.endsWith("/"))&&(h+="/"),a=!1;for(const d of c)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:_,optional:v}=d,m=p in f?f[p]:"";if(Nt(m)&&!_)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const S=Nt(m)?m.join("/"):m;if(!S)if(v)c.length<2&&(h.endsWith("/")?h=h.slice(0,-1):a=!0);else throw new Error(`Missing required param "${p}"`);h+=S}}return h||"/"}return{re:o,score:r,keys:i,parse:l,stringify:u}}function kN(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function CN(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=kN(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Zd(r))return 1;if(Zd(s))return-1}return s.length-r.length}function Zd(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const RN={type:0,value:""},PN=/[a-zA-Z0-9_]/;function $N(t){if(!t)return[[]];if(t==="/")return[[RN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${f}": ${d}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,u,f="",h="";function a(){f&&(n===0?i.push({type:0,value:f}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:f,regexp:h,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),f="")}function c(){f+=u}for(;l<t.length;){if(u=t[l++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(f&&a(),o()):u===":"?(a(),n=1):c();break;case 4:c(),n=r;break;case 1:u==="("?n=2:PN.test(u)?c():(a(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--);break;case 2:u===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+u:n=3:h+=u;break;case 3:a(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&l--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${f}"`),a(),o(),s}function FN(t,e,n){const r=ON($N(t.path),n),s=be(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function DN(t,e){const n=[],r=new Map;e=nh({strict:!1,end:!0,sensitive:!1},e);function s(h){return r.get(h)}function i(h,a,c){const d=!c,p=MN(h);p.aliasOf=c&&c.record;const _=nh(e,h),v=[p];if("alias"in h){const E=typeof h.alias=="string"?[h.alias]:h.alias;for(const A of E)v.push(be({},p,{components:c?c.record.components:p.components,path:A,aliasOf:c?c.record:p}))}let m,S;for(const E of v){const{path:A}=E;if(a&&A[0]!=="/"){const $=a.record.path,C=$[$.length-1]==="/"?"":"/";E.path=a.record.path+(A&&C+A)}if(m=FN(E,a,_),c?c.alias.push(m):(S=S||m,S!==m&&S.alias.push(m),d&&h.name&&!th(m)&&o(h.name)),p.children){const $=p.children;for(let C=0;C<$.length;C++)i($[C],m,c&&c.children[C])}c=c||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&u(m)}return S?()=>{o(S)}:$s}function o(h){if(b_(h)){const a=r.get(h);a&&(r.delete(h),n.splice(n.indexOf(a),1),a.children.forEach(o),a.alias.forEach(o))}else{const a=n.indexOf(h);a>-1&&(n.splice(a,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function l(){return n}function u(h){let a=0;for(;a<n.length&&CN(h,n[a])>=0&&(h.record.path!==n[a].record.path||!E_(h,n[a]));)a++;n.splice(a,0,h),h.record.name&&!th(h)&&r.set(h.record.name,h)}function f(h,a){let c,d={},p,_;if("name"in h&&h.name){if(c=r.get(h.name),!c)throw Yr(1,{location:h});_=c.record.name,d=be(eh(a.params,c.keys.filter(S=>!S.optional).map(S=>S.name)),h.params&&eh(h.params,c.keys.map(S=>S.name))),p=c.stringify(d)}else if("path"in h)p=h.path,c=n.find(S=>S.re.test(p)),c&&(d=c.parse(p),_=c.record.name);else{if(c=a.name?r.get(a.name):n.find(S=>S.re.test(a.path)),!c)throw Yr(1,{location:h,currentLocation:a});_=c.record.name,d=be({},a.params,h.params),p=c.stringify(d)}const v=[];let m=c;for(;m;)v.unshift(m.record),m=m.parent;return{name:_,path:p,params:d,matched:v,meta:LN(v)}}return t.forEach(h=>i(h)),{addRoute:i,resolve:f,removeRoute:o,getRoutes:l,getRecordMatcher:s}}function eh(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function MN(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:NN(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function NN(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function th(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function LN(t){return t.reduce((e,n)=>be(e,n.meta),{})}function nh(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function E_(t,e){return e.children.some(n=>n===t||E_(t,n))}const T_=/#/g,UN=/&/g,VN=/\//g,BN=/=/g,jN=/\?/g,S_=/\+/g,HN=/%5B/g,qN=/%5D/g,A_=/%5E/g,zN=/%60/g,I_=/%7B/g,GN=/%7C/g,x_=/%7D/g,KN=/%20/g;function dc(t){return encodeURI(""+t).replace(GN,"|").replace(HN,"[").replace(qN,"]")}function WN(t){return dc(t).replace(I_,"{").replace(x_,"}").replace(A_,"^")}function Gl(t){return dc(t).replace(S_,"%2B").replace(KN,"+").replace(T_,"%23").replace(UN,"%26").replace(zN,"`").replace(I_,"{").replace(x_,"}").replace(A_,"^")}function YN(t){return Gl(t).replace(BN,"%3D")}function XN(t){return dc(t).replace(T_,"%23").replace(jN,"%3F")}function JN(t){return t==null?"":XN(t).replace(VN,"%2F")}function So(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function QN(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(S_," "),o=i.indexOf("="),l=So(o<0?i:i.slice(0,o)),u=o<0?null:So(i.slice(o+1));if(l in e){let f=e[l];Nt(f)||(f=e[l]=[f]),f.push(u)}else e[l]=u}return e}function rh(t){let e="";for(let n in t){const r=t[n];if(n=YN(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Nt(r)?r.map(i=>i&&Gl(i)):[r&&Gl(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function ZN(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Nt(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const eL=Symbol(""),sh=Symbol(""),ba=Symbol(""),hc=Symbol(""),Kl=Symbol("");function _s(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function An(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,l)=>{const u=a=>{a===!1?l(Yr(4,{from:n,to:e})):a instanceof Error?l(a):AN(a)?l(Yr(2,{from:e,to:a})):(i&&r.enterCallbacks[s]===i&&typeof a=="function"&&i.push(a),o())},f=t.call(r&&r.instances[s],e,n,u);let h=Promise.resolve(f);t.length<3&&(h=h.then(u)),h.catch(a=>l(a))})}function Wa(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let l=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(tL(l)){const f=(l.__vccOpts||l)[e];f&&s.push(An(f,n,r,i,o))}else{let u=l();s.push(()=>u.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const h=aN(f)?f.default:f;i.components[o]=h;const c=(h.__vccOpts||h)[e];return c&&An(c,n,r,i,o)()}))}}return s}function tL(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function ih(t){const e=ft(ba),n=ft(hc),r=me(()=>e.resolve(G(t.to))),s=me(()=>{const{matched:u}=r.value,{length:f}=u,h=u[f-1],a=n.matched;if(!h||!a.length)return-1;const c=a.findIndex(Wr.bind(null,h));if(c>-1)return c;const d=oh(u[f-2]);return f>1&&oh(h)===d&&a[a.length-1].path!==d?a.findIndex(Wr.bind(null,u[f-2])):c}),i=me(()=>s.value>-1&&iL(n.params,r.value.params)),o=me(()=>s.value>-1&&s.value===n.matched.length-1&&v_(n.params,r.value.params));function l(u={}){return sL(u)?e[G(t.replace)?"replace":"push"](G(t.to)).catch($s):Promise.resolve()}return{route:r,href:me(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}const nL=Zr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:ih,setup(t,{slots:e}){const n=dn(ih(t)),{options:r}=ft(ba),s=me(()=>({[ah(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[ah(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:cr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),rL=nL;function sL(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function iL(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Nt(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function oh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const ah=(t,e,n)=>t??e??n,oL=Zr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=ft(Kl),s=me(()=>t.route||r.value),i=ft(sh,0),o=me(()=>{let f=G(i);const{matched:h}=s.value;let a;for(;(a=h[f])&&!a.components;)f++;return f}),l=me(()=>s.value.matched[o.value]);Dr(sh,me(()=>o.value+1)),Dr(eL,l),Dr(Kl,s);const u=xe();return Xe(()=>[u.value,l.value,t.name],([f,h,a],[c,d,p])=>{h&&(h.instances[a]=f,d&&d!==h&&f&&f===c&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),f&&h&&(!d||!Wr(h,d)||!c)&&(h.enterCallbacks[a]||[]).forEach(_=>_(f))},{flush:"post"}),()=>{const f=s.value,h=t.name,a=l.value,c=a&&a.components[h];if(!c)return lh(n.default,{Component:c,route:f});const d=a.props[h],p=d?d===!0?f.params:typeof d=="function"?d(f):d:null,v=cr(c,be({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(a.instances[h]=null)},ref:u}));return lh(n.default,{Component:v,route:f})||v}}});function lh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const aL=oL;function lL(t){const e=DN(t.routes,t),n=t.parseQuery||QN,r=t.stringifyQuery||rh,s=t.history,i=_s(),o=_s(),l=_s(),u=wv(bn);let f=bn;Cr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ga.bind(null,R=>""+R),a=Ga.bind(null,JN),c=Ga.bind(null,So);function d(R,x){let F,z;return b_(R)?(F=e.getRecordMatcher(R),z=x):z=R,e.addRoute(z,F)}function p(R){const x=e.getRecordMatcher(R);x&&e.removeRoute(x)}function _(){return e.getRoutes().map(R=>R.record)}function v(R){return!!e.getRecordMatcher(R)}function m(R,x){if(x=be({},x||u.value),typeof R=="string"){const g=Ka(n,R,x.path),y=e.resolve({path:g.path},x),I=s.createHref(g.fullPath);return be(g,y,{params:c(y.params),hash:So(g.hash),redirectedFrom:void 0,href:I})}let F;if("path"in R)F=be({},R,{path:Ka(n,R.path,x.path).path});else{const g=be({},R.params);for(const y in g)g[y]==null&&delete g[y];F=be({},R,{params:a(R.params)}),x.params=a(x.params)}const z=e.resolve(F,x),ue=R.hash||"";z.params=h(c(z.params));const _e=cN(r,be({},R,{hash:WN(ue),path:z.path})),ne=s.createHref(_e);return be({fullPath:_e,hash:ue,query:r===rh?ZN(R.query):R.query||{}},z,{redirectedFrom:void 0,href:ne})}function S(R){return typeof R=="string"?Ka(n,R,u.value.path):be({},R)}function E(R,x){if(f!==R)return Yr(8,{from:x,to:R})}function A(R){return N(R)}function $(R){return A(be(S(R),{replace:!0}))}function C(R){const x=R.matched[R.matched.length-1];if(x&&x.redirect){const{redirect:F}=x;let z=typeof F=="function"?F(R):F;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=S(z):{path:z},z.params={}),be({query:R.query,hash:R.hash,params:"path"in z?{}:R.params},z)}}function N(R,x){const F=f=m(R),z=u.value,ue=R.state,_e=R.force,ne=R.replace===!0,g=C(F);if(g)return N(be(S(g),{state:typeof g=="object"?be({},ue,g.state):ue,force:_e,replace:ne}),x||F);const y=F;y.redirectedFrom=x;let I;return!_e&&fN(r,z,F)&&(I=Yr(16,{to:y,from:z}),Qe(z,z,!0,!1)),(I?Promise.resolve(I):L(y,z)).catch(O=>Zt(O)?Zt(O,2)?O:Ge(O):ae(O,y,z)).then(O=>{if(O){if(Zt(O,2))return N(be({replace:ne},S(O.to),{state:typeof O.to=="object"?be({},ue,O.to.state):ue,force:_e}),x||y)}else O=te(y,z,!0,ne,ue);return Y(y,z,O),O})}function k(R,x){const F=E(R,x);return F?Promise.reject(F):Promise.resolve()}function L(R,x){let F;const[z,ue,_e]=uL(R,x);F=Wa(z.reverse(),"beforeRouteLeave",R,x);for(const g of z)g.leaveGuards.forEach(y=>{F.push(An(y,R,x))});const ne=k.bind(null,R,x);return F.push(ne),Ir(F).then(()=>{F=[];for(const g of i.list())F.push(An(g,R,x));return F.push(ne),Ir(F)}).then(()=>{F=Wa(ue,"beforeRouteUpdate",R,x);for(const g of ue)g.updateGuards.forEach(y=>{F.push(An(y,R,x))});return F.push(ne),Ir(F)}).then(()=>{F=[];for(const g of R.matched)if(g.beforeEnter&&!x.matched.includes(g))if(Nt(g.beforeEnter))for(const y of g.beforeEnter)F.push(An(y,R,x));else F.push(An(g.beforeEnter,R,x));return F.push(ne),Ir(F)}).then(()=>(R.matched.forEach(g=>g.enterCallbacks={}),F=Wa(_e,"beforeRouteEnter",R,x),F.push(ne),Ir(F))).then(()=>{F=[];for(const g of o.list())F.push(An(g,R,x));return F.push(ne),Ir(F)}).catch(g=>Zt(g,8)?g:Promise.reject(g))}function Y(R,x,F){for(const z of l.list())z(R,x,F)}function te(R,x,F,z,ue){const _e=E(R,x);if(_e)return _e;const ne=x===bn,g=Cr?history.state:{};F&&(z||ne?s.replace(R.fullPath,be({scroll:ne&&g&&g.scroll},ue)):s.push(R.fullPath,ue)),u.value=R,Qe(R,x,F,ne),Ge()}let j;function ee(){j||(j=s.listen((R,x,F)=>{if(!pt.listening)return;const z=m(R),ue=C(z);if(ue){N(be(ue,{replace:!0}),z).catch($s);return}f=z;const _e=u.value;Cr&&yN(Yd(_e.fullPath,F.delta),ya()),L(z,_e).catch(ne=>Zt(ne,12)?ne:Zt(ne,2)?(N(ne.to,z).then(g=>{Zt(g,20)&&!F.delta&&F.type===Zs.pop&&s.go(-1,!1)}).catch($s),Promise.reject()):(F.delta&&s.go(-F.delta,!1),ae(ne,z,_e))).then(ne=>{ne=ne||te(z,_e,!1),ne&&(F.delta&&!Zt(ne,8)?s.go(-F.delta,!1):F.type===Zs.pop&&Zt(ne,20)&&s.go(-1,!1)),Y(z,_e,ne)}).catch($s)}))}let se=_s(),de=_s(),oe;function ae(R,x,F){Ge(R);const z=de.list();return z.length?z.forEach(ue=>ue(R,x,F)):console.error(R),Promise.reject(R)}function le(){return oe&&u.value!==bn?Promise.resolve():new Promise((R,x)=>{se.add([R,x])})}function Ge(R){return oe||(oe=!R,ee(),se.list().forEach(([x,F])=>R?F(R):x()),se.reset()),R}function Qe(R,x,F,z){const{scrollBehavior:ue}=t;if(!Cr||!ue)return Promise.resolve();const _e=!F&&bN(Yd(R.fullPath,0))||(z||!F)&&history.state&&history.state.scroll||null;return Cn().then(()=>ue(R,x,_e)).then(ne=>ne&&vN(ne)).catch(ne=>ae(ne,R,x))}const Ne=R=>s.go(R);let $e;const St=new Set,pt={currentRoute:u,listening:!0,addRoute:d,removeRoute:p,hasRoute:v,getRoutes:_,resolve:m,options:t,push:A,replace:$,go:Ne,back:()=>Ne(-1),forward:()=>Ne(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:de.add,isReady:le,install(R){const x=this;R.component("RouterLink",rL),R.component("RouterView",aL),R.config.globalProperties.$router=x,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>G(u)}),Cr&&!$e&&u.value===bn&&($e=!0,A(s.location).catch(ue=>{}));const F={};for(const ue in bn)F[ue]=me(()=>u.value[ue]);R.provide(ba,x),R.provide(hc,dn(F)),R.provide(Kl,u);const z=R.unmount;St.add(R),R.unmount=function(){St.delete(R),St.size<1&&(f=bn,j&&j(),j=null,u.value=bn,$e=!1,oe=!1),z()}}};return pt}function Ir(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function uL(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(f=>Wr(f,l))?r.push(l):n.push(l));const u=t.matched[o];u&&(e.matched.find(f=>Wr(f,u))||s.push(u))}return[n,r,s]}function O_(){return ft(ba)}function k_(){return ft(hc)}const C_="/music_app/assets/img/main-icon.svg";const at=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},cL={data(){return{isOpen:!1}},methods:{toggleMenu(){this.isOpen=!this.isOpen}},setup(){const t=wi(),e=qn(),n=O_(),r=k_();function s(){t.toggleIsOpen()}async function i(){try{await e.signOutProfile(),console.log(r),r.meta.requiresAuth&&n.push("/")}catch(o){console.log(o)}}return{toggleAuthModal:s,userStore:e,signOut:i}}},fL={key:0,class:"menu-overlay"},dL={class:"container mx-auto max-w-[1154px]"},hL=T("img",{src:C_,alt:"music-icon",class:"w-[60px]"},null,-1),pL={class:"flex flex-col"},mL={class:"mb-4"},gL={key:0},_L={class:"mb-4"};function vL(t,e,n,r,s,i){const o=Te("router-link");return fe(),ye("div",{class:"block lg:hidden hamburger-wrapper",onClick:e[2]||(e[2]=(...l)=>i.toggleMenu&&i.toggleMenu(...l))},[T("div",{class:Ue(["hamburger",{"hamburger--closed":!s.isOpen}])},[T("div",{class:Ue(["hamburger__icon bg-white",{"hamburger__icon--open bg-white":s.isOpen}])},null,2)],2),s.isOpen?(fe(),ye("div",fL)):Fn("",!0),T("div",{class:Ue(["menu bg-zinc-900",{menu__open:s.isOpen}])},[T("nav",dL,[X(o,{class:"text-white hover:text-white mb-6 uppercase text-2xl flex items-center","exact-active-class":"no-active",to:"/"},{default:it(()=>[hL,Gt(" Music")]),_:1}),T("ul",pL,[T("li",mL,[X(o,{class:"p-2 mr-5 mb-4 text-white font-bold text-lg",to:"/about"},{default:it(()=>[Gt("About")]),_:1})]),r.userStore.userLoggedIn?(fe(),ye(He,{key:1},[T("li",_L,[X(o,{class:"p-2 mr-5 text-white font-bold text-lg",to:"/manage"},{default:it(()=>[Gt("Manage")]),_:1})]),T("li",null,[T("a",{onClick:e[1]||(e[1]=Ce(l=>r.signOut(),["prevent"])),class:"p-2 hover:text-white font-bold text-lg main-btn hover:bg-[rgba(240,88,88,0.8)]",href:"#"},"Log out")])],64)):(fe(),ye("li",gL,[T("a",{class:"p-2 hover:text-white font-bold text-lg main-btn",href:"#",onClick:e[0]||(e[0]=Ce((...l)=>r.toggleAuthModal&&r.toggleAuthModal(...l),["prevent"]))},"Login / Register")]))])])],2)])}const yL=at(cL,[["render",vL]]),bL={name:"Header",setup(){const t=wi(),e=qn(),n=O_(),r=k_();function s(){t.toggleIsOpen()}async function i(){try{await e.signOutProfile(),console.log(r),r.meta.requiresAuth&&n.push("/")}catch(o){console.log(o)}}return{toggleAuthModal:s,userStore:e,signOut:i}},components:{HamburgerMenuComponent:yL}},wL={id:"header",class:"bg-[rgba(18,18,18,0.8)] z-20"},EL={class:"container mx-auto flex justify-start items-center max-w-[1154px]"},TL=T("img",{src:C_,alt:"music-icon",class:"w-[60px]"},null,-1),SL={class:"hidden ml-auto lg:flex"},AL={key:0};function IL(t,e,n,r,s,i){const o=Te("router-link"),l=Te("HamburgerMenuComponent");return fe(),ye("header",wL,[T("nav",EL,[X(o,{class:"text-white hover:text-white font- uppercase text-2xl mr-4 flex items-center","exact-active-class":"no-active",to:"/"},{default:it(()=>[TL,Gt(" Music")]),_:1}),X(l),T("ul",SL,[T("li",null,[X(o,{class:"p-2 mr-5 text-white font-bold text-lg",to:"/about"},{default:it(()=>[Gt("About")]),_:1})]),r.userStore.userLoggedIn?(fe(),ye(He,{key:1},[T("li",null,[X(o,{class:"p-2 mr-5 text-white font-bold text-lg",to:"/manage"},{default:it(()=>[Gt("Manage")]),_:1})]),T("li",null,[T("a",{onClick:e[1]||(e[1]=Ce(u=>r.signOut(),["prevent"])),class:"p-2 hover:text-white font-bold text-lg main-btn hover:bg-[rgba(240,88,88,0.8)]",href:"#"},"Log out")])],64)):(fe(),ye("li",AL,[T("a",{class:"p-2 hover:text-white font-bold text-lg main-btn",href:"#",onClick:e[0]||(e[0]=Ce((...u)=>r.toggleAuthModal&&r.toggleAuthModal(...u),["prevent"]))},"Login / Register")]))])])])}const xL=at(bL,[["render",IL]]),OL="/music_app/assets/img/Google_Logo.svg",kL={name:"LoginComponent",data(){return{loginSchema:jC}},methods:{...Kt(qn,["authenticate","googleAuthenticate"]),...Kt(wi,["toggleIsOpen"]),async login(t){try{await this.authenticate(t),this.toggleIsOpen()}catch(e){console.log(e)}},async googleLogin(){try{await this.googleAuthenticate(),this.toggleIsOpen()}catch(t){console.log(t)}}}},CL={class:"mb-3"},RL=T("label",{class:"inline-block text-white mb-2"},"Email",-1),PL={class:"mb-3"},$L=T("label",{class:"inline-block text-white mb-2"},"Password",-1),FL=T("button",{type:"submit",class:"block w-full mb-4 bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Login ",-1),DL=T("img",{src:OL,alt:"google-logo",class:"bg-white p-[5px] rounded absolute top-[7px] left-2"},null,-1);function ML(t,e,n,r,s,i){const o=Te("vee-field"),l=Te("ErrorMessage"),u=Te("vee-form");return fe(),ye(He,null,[X(u,{"validation-schema":s.loginSchema,onSubmit:i.login},{default:it(()=>[T("div",CL,[RL,X(o,{name:"email",type:"email",class:"block bg-gray-700 w-full border border-transparent py-1.5 px-3 text-white transition duration-500 focus:outline-none focus:border-gray-300 rounded",placeholder:"Enter Email"}),X(l,{class:"text-red-600",name:"email"})]),T("div",PL,[$L,X(o,{name:"password",type:"password",class:"block bg-gray-700 w-full border border-transparent py-1.5 px-3 text-white transition duration-500 focus:outline-none focus:border-gray-300 rounded",placeholder:"Password"}),X(l,{class:"text-red-600",name:"password"})]),FL]),_:1},8,["validation-schema","onSubmit"]),T("button",{onClick:e[0]||(e[0]=Ce((...f)=>i.googleLogin&&i.googleLogin(...f),["prevent"])),type:"submit",class:"text-center relative w-full bg-[#4285f4] text-white font-bold py-[12px] px-4 rounded transition hover:bg-[#3874d3]"},[DL,Gt(" Sign in with Google ")])],64)}const NL=at(kL,[["render",ML]]),LL={name:"registerForm",data(){return{registerSchema:BC,isLoading:!1}},methods:{...Kt(qn,{createUser:"register"}),async register(t){try{this.createUser(t)}catch(e){console.log(e)}}}},UL={class:"mb-3"},VL=T("label",{class:"inline-block mb-2"},"Name",-1),BL={class:"mb-3"},jL=T("label",{class:"inline-block mb-2"},"Email",-1),HL={class:"mb-3"},qL=T("label",{class:"inline-block mb-2"},"Age",-1),zL={class:"mb-3"},GL=T("label",{class:"inline-block mb-2"},"Password",-1),KL={class:"mb-3"},WL=T("label",{class:"inline-block mb-2"},"Confirm Password",-1),YL=T("input",{name:"passwordConfirmation",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Confirm Password"},null,-1),XL={class:"mb-3"},JL=T("label",{class:"inline-block mb-2"},"Country",-1),QL=T("option",{value:""},"Select a county",-1),ZL=T("option",{value:"USA"},"USA",-1),eU=T("option",{value:"Mexico"},"Mexico",-1),tU=T("option",{value:"Germany"},"Germany",-1),nU={class:"mb-3 pl-6"},rU=T("label",{class:"inline-block"},"Accept terms of service",-1),sU=T("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700"}," Submit ",-1);function iU(t,e,n,r,s,i){const o=Te("vee-field"),l=Te("ErrorMessage"),u=Te("vee-form");return fe(),Vn(u,{"validation-schema":s.registerSchema,onSubmit:i.register},{default:it(()=>[T("div",UL,[VL,X(o,{name:"name",type:"text",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Name"}),X(l,{class:"text-red-600",name:"name"})]),T("div",BL,[jL,X(o,{name:"email",type:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Enter Email"}),X(l,{class:"text-red-600",name:"email"})]),T("div",HL,[qL,X(o,{name:"age",type:"number",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"}),X(l,{class:"text-red-600",name:"age"})]),T("div",zL,[GL,X(o,{name:"password",type:"password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:"Password"}),X(l,{class:"text-red-600",name:"password"})]),T("div",KL,[WL,YL,X(l,{class:"text-red-600",name:"passwordConfirmation"})]),T("div",XL,[JL,X(o,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:it(()=>[QL,ZL,eU,tU]),_:1}),X(l,{class:"text-red-600",name:"country"})]),T("div",nU,[X(o,{type:"checkbox",class:"w-4 h-4 float-left -ml-6 mt-1 rounded",name:"tos",value:"true"}),rU,X(l,{class:"text-red-600 ml-5",name:"tos"})]),sU]),_:1},8,["validation-schema","onSubmit"])}const oU=at(LL,[["render",iU]]),aU={name:"Auth",components:{LoginForm:NL,RegisterForm:oU},setup(){const t=wi(),e=qn(),n=xe("login");function r(s){n.value=s}return{store:t,tab:n,changeTab:r,user:e}}},lU={class:"flex items-end justify-center mx-auto text-center"},uU=T("div",{class:"fixed inset-0 transition-opacity"},[T("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),cU={class:"inline-block align-bottom min-w-[300px] md:min-w-[400px] bg-gray-900 rounded-lg text-left overflow-hidden shadow-xl transform transition-all"},fU={class:"p-6 text-left"},dU={class:"flex justify-between items-center pb-4"},hU=T("p",{class:"text-2xl text-white font-bold"},"Your Account",-1),pU=T("i",{class:"fas fa-times text-white"},null,-1),mU=[pU],gU={class:"flex flex-wrap mb-4"},_U={class:"flex-auto text-center first:mr-3"},vU={class:"flex-auto text-center"};function yU(t,e,n,r,s,i){const o=Te("login-form"),l=Te("register-form");return!r.user.userLoggedIn&&r.store.isOpen?(fe(),ye("div",{key:0,class:Ue(["fixed z-10 min-h-screen inset-0 overflow-y-auto flex align-middle items-center",r.store.hiddenClass]),id:"modal"},[T("div",lU,[uU,T("div",cU,[T("div",fU,[T("div",dU,[hU,T("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=(...u)=>r.store.toggleIsOpen&&r.store.toggleIsOpen(...u))},mU)]),T("ul",gU,[T("li",_U,[T("a",{class:Ue(["block rounded py-3 px-4 transition",{"hover:bg-[rgba(185,141,221,0.12)] font-bold text-[#d6a4ff] bg-[rgba(214,164,255,0.12)]":r.tab==="login","bg-[rgba(131,129,129,0.12)] font-bold text-white":r.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=Ce(u=>r.changeTab("login"),["prevent"]))},"Login",2)]),T("li",vU,[T("a",{class:Ue(["block rounded py-3 px-4 transition",{"hover:bg-[rgba(185,141,221,0.12)] font-bold text-[#d6a4ff] bg-[rgba(214,164,255,0.12)]":r.tab==="register","bg-[rgba(131,129,129,0.12)] font-bold text-white":r.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=Ce(u=>r.changeTab("register"),["prevent"]))},"Register",2)])]),r.tab==="login"?(fe(),Vn(o,{key:0})):Fn("",!0),r.tab==="register"?(fe(),Vn(l,{key:1})):Fn("",!0)])])])],2)):Fn("",!0)}const bU=at(aU,[["render",yU]]),pc=zo("bgImage",()=>{const t=xe(""),e=xe(""),n=xe(1);function r(s){n.value=n.value===1?0:1,n.value===1?t.value=s:e.value=s}return{firstImageUrl:t,secondImageUrl:e,changeImage:r,currentImg:n}});var Wl={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var a=this||n;return a._counter=1e3,a._html5AudioPool=[],a.html5PoolSize=10,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator=typeof window<"u"&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.autoUnlock=!0,a._setup(),a},volume:function(a){var c=this||n;if(a=parseFloat(a),c.ctx||h(),typeof a<"u"&&a>=0&&a<=1){if(c._volume=a,c._muted)return c;c.usingWebAudio&&c.masterGain.gain.setValueAtTime(a,n.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var p=c._howls[d]._getSoundIds(),_=0;_<p.length;_++){var v=c._howls[d]._soundById(p[_]);v&&v._node&&(v._node.volume=v._volume*a)}return c}return c._volume},mute:function(a){var c=this||n;c.ctx||h(),c._muted=a,c.usingWebAudio&&c.masterGain.gain.setValueAtTime(a?0:c._volume,n.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var p=c._howls[d]._getSoundIds(),_=0;_<p.length;_++){var v=c._howls[d]._soundById(p[_]);v&&v._node&&(v._node.muted=a?!0:v._muted)}return c},stop:function(){for(var a=this||n,c=0;c<a._howls.length;c++)a._howls[c].stop();return a},unload:function(){for(var a=this||n,c=a._howls.length-1;c>=0;c--)a._howls[c].unload();return a.usingWebAudio&&a.ctx&&typeof a.ctx.close<"u"&&(a.ctx.close(),a.ctx=null,h()),a},codecs:function(a){return(this||n)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||n;if(a.state=a.ctx&&a.ctx.state||"suspended",a._autoSuspend(),!a.usingWebAudio)if(typeof Audio<"u")try{var c=new Audio;typeof c.oncanplaythrough>"u"&&(a._canPlayEvent="canplay")}catch{a.noAudio=!0}else a.noAudio=!0;try{var c=new Audio;c.muted&&(a.noAudio=!0)}catch{}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||n,c=null;try{c=typeof Audio<"u"?new Audio:null}catch{return a}if(!c||typeof c.canPlayType!="function")return a;var d=c.canPlayType("audio/mpeg;").replace(/^no$/,""),p=a._navigator?a._navigator.userAgent:"",_=p.match(/OPR\/([0-6].)/g),v=_&&parseInt(_[0].split("/")[1],10)<33,m=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,S=p.match(/Version\/(.*?) /),E=m&&S&&parseInt(S[1],10)<15;return a._codecs={mp3:!!(!v&&(d||c.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(c.canPlayType('audio/wav; codecs="1"')||c.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(c.canPlayType("audio/x-m4b;")||c.canPlayType("audio/m4b;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!E&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!E&&c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_unlockAudio:function(){var a=this||n;if(!(a._audioUnlocked||!a.ctx)){a._audioUnlocked=!1,a.autoUnlock=!1,!a._mobileUnloaded&&a.ctx.sampleRate!==44100&&(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var c=function(d){for(;a._html5AudioPool.length<a.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,a._releaseHtml5Audio(p)}catch{a.noAudio=!0;break}for(var _=0;_<a._howls.length;_++)if(!a._howls[_]._webAudio)for(var v=a._howls[_]._getSoundIds(),m=0;m<v.length;m++){var S=a._howls[_]._soundById(v[m]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}a._autoResume();var E=a.ctx.createBufferSource();E.buffer=a._scratchBuffer,E.connect(a.ctx.destination),typeof E.start>"u"?E.noteOn(0):E.start(0),typeof a.ctx.resume=="function"&&a.ctx.resume(),E.onended=function(){E.disconnect(0),a._audioUnlocked=!0,document.removeEventListener("touchstart",c,!0),document.removeEventListener("touchend",c,!0),document.removeEventListener("click",c,!0),document.removeEventListener("keydown",c,!0);for(var A=0;A<a._howls.length;A++)a._howls[A]._emit("unlock")}};return document.addEventListener("touchstart",c,!0),document.addEventListener("touchend",c,!0),document.addEventListener("click",c,!0),document.addEventListener("keydown",c,!0),a}},_obtainHtml5Audio:function(){var a=this||n;if(a._html5AudioPool.length)return a._html5AudioPool.pop();var c=new Audio().play();return c&&typeof Promise<"u"&&(c instanceof Promise||typeof c.then=="function")&&c.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(a){var c=this||n;return a._unlocked&&c._html5AudioPool.push(a),c},_autoSuspend:function(){var a=this;if(!(!a.autoSuspend||!a.ctx||typeof a.ctx.suspend>"u"||!n.usingWebAudio)){for(var c=0;c<a._howls.length;c++)if(a._howls[c]._webAudio){for(var d=0;d<a._howls[c]._sounds.length;d++)if(!a._howls[c]._sounds[d]._paused)return a}return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){if(a.autoSuspend){a._suspendTimer=null,a.state="suspending";var p=function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())};a.ctx.suspend().then(p,p)}},3e4),a}},_autoResume:function(){var a=this;if(!(!a.ctx||typeof a.ctx.resume>"u"||!n.usingWebAudio))return a.state==="running"&&a.ctx.state!=="interrupted"&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):a.state==="suspended"||a.state==="running"&&a.ctx.state==="interrupted"?(a.ctx.resume().then(function(){a.state="running";for(var c=0;c<a._howls.length;c++)a._howls[c]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):a.state==="suspending"&&(a._resumeAfterSuspend=!0),a}};var n=new e,r=function(a){var c=this;if(!a.src||a.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}c.init(a)};r.prototype={init:function(a){var c=this;return n.ctx||h(),c._autoplay=a.autoplay||!1,c._format=typeof a.format!="string"?a.format:[a.format],c._html5=a.html5||!1,c._muted=a.mute||!1,c._loop=a.loop||!1,c._pool=a.pool||5,c._preload=typeof a.preload=="boolean"||a.preload==="metadata"?a.preload:!0,c._rate=a.rate||1,c._sprite=a.sprite||{},c._src=typeof a.src!="string"?a.src:[a.src],c._volume=a.volume!==void 0?a.volume:1,c._xhr={method:a.xhr&&a.xhr.method?a.xhr.method:"GET",headers:a.xhr&&a.xhr.headers?a.xhr.headers:null,withCredentials:a.xhr&&a.xhr.withCredentials?a.xhr.withCredentials:!1},c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._playLock=!1,c._onend=a.onend?[{fn:a.onend}]:[],c._onfade=a.onfade?[{fn:a.onfade}]:[],c._onload=a.onload?[{fn:a.onload}]:[],c._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],c._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],c._onpause=a.onpause?[{fn:a.onpause}]:[],c._onplay=a.onplay?[{fn:a.onplay}]:[],c._onstop=a.onstop?[{fn:a.onstop}]:[],c._onmute=a.onmute?[{fn:a.onmute}]:[],c._onvolume=a.onvolume?[{fn:a.onvolume}]:[],c._onrate=a.onrate?[{fn:a.onrate}]:[],c._onseek=a.onseek?[{fn:a.onseek}]:[],c._onunlock=a.onunlock?[{fn:a.onunlock}]:[],c._onresume=[],c._webAudio=n.usingWebAudio&&!c._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(c),c._autoplay&&c._queue.push({event:"play",action:function(){c.play()}}),c._preload&&c._preload!=="none"&&c.load(),c},load:function(){var a=this,c=null;if(n.noAudio){a._emit("loaderror",null,"No audio support.");return}typeof a._src=="string"&&(a._src=[a._src]);for(var d=0;d<a._src.length;d++){var p,_;if(a._format&&a._format[d])p=a._format[d];else{if(_=a._src[d],typeof _!="string"){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(_),p||(p=/\.([^.]+)$/.exec(_.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){c=a._src[d];break}}if(!c){a._emit("loaderror",null,"No codec support for selected audio sources.");return}return a._src=c,a._state="loading",window.location.protocol==="https:"&&c.slice(0,5)==="http:"&&(a._html5=!0,a._webAudio=!1),new s(a),a._webAudio&&o(a),a},play:function(a,c){var d=this,p=null;if(typeof a=="number")p=a,a=null;else{if(typeof a=="string"&&d._state==="loaded"&&!d._sprite[a])return null;if(typeof a>"u"&&(a="__default",!d._playLock)){for(var _=0,v=0;v<d._sounds.length;v++)d._sounds[v]._paused&&!d._sounds[v]._ended&&(_++,p=d._sounds[v]._id);_===1?a=null:p=null}}var m=p?d._soundById(p):d._inactiveSound();if(!m)return null;if(p&&!a&&(a=m._sprite||"__default"),d._state!=="loaded"){m._sprite=a,m._ended=!1;var S=m._id;return d._queue.push({event:"play",action:function(){d.play(S)}}),S}if(p&&!m._paused)return c||d._loadQueue("play"),m._id;d._webAudio&&n._autoResume();var E=Math.max(0,m._seek>0?m._seek:d._sprite[a][0]/1e3),A=Math.max(0,(d._sprite[a][0]+d._sprite[a][1])/1e3-E),$=A*1e3/Math.abs(m._rate),C=d._sprite[a][0]/1e3,N=(d._sprite[a][0]+d._sprite[a][1])/1e3;m._sprite=a,m._ended=!1;var k=function(){m._paused=!1,m._seek=E,m._start=C,m._stop=N,m._loop=!!(m._loop||d._sprite[a][2])};if(E>=N){d._ended(m);return}var L=m._node;if(d._webAudio){var Y=function(){d._playLock=!1,k(),d._refreshBuffer(m);var se=m._muted||d._muted?0:m._volume;L.gain.setValueAtTime(se,n.ctx.currentTime),m._playStart=n.ctx.currentTime,typeof L.bufferSource.start>"u"?m._loop?L.bufferSource.noteGrainOn(0,E,86400):L.bufferSource.noteGrainOn(0,E,A):m._loop?L.bufferSource.start(0,E,86400):L.bufferSource.start(0,E,A),$!==1/0&&(d._endTimers[m._id]=setTimeout(d._ended.bind(d,m),$)),c||setTimeout(function(){d._emit("play",m._id),d._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?Y():(d._playLock=!0,d.once("resume",Y),d._clearTimer(m._id))}else{var te=function(){L.currentTime=E,L.muted=m._muted||d._muted||n._muted||L.muted,L.volume=m._volume*n.volume(),L.playbackRate=m._rate;try{var se=L.play();if(se&&typeof Promise<"u"&&(se instanceof Promise||typeof se.then=="function")?(d._playLock=!0,k(),se.then(function(){d._playLock=!1,L._unlocked=!0,c?d._loadQueue():d._emit("play",m._id)}).catch(function(){d._playLock=!1,d._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):c||(d._playLock=!1,k(),d._emit("play",m._id)),L.playbackRate=m._rate,L.paused){d._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}a!=="__default"||m._loop?d._endTimers[m._id]=setTimeout(d._ended.bind(d,m),$):(d._endTimers[m._id]=function(){d._ended(m),L.removeEventListener("ended",d._endTimers[m._id],!1)},L.addEventListener("ended",d._endTimers[m._id],!1))}catch(de){d._emit("playerror",m._id,de)}};L.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(L.src=d._src,L.load());var j=window&&window.ejecta||!L.readyState&&n._navigator.isCocoonJS;if(L.readyState>=3||j)te();else{d._playLock=!0,d._state="loading";var ee=function(){d._state="loaded",te(),L.removeEventListener(n._canPlayEvent,ee,!1)};L.addEventListener(n._canPlayEvent,ee,!1),d._clearTimer(m._id)}}return m._id},pause:function(a){var c=this;if(c._state!=="loaded"||c._playLock)return c._queue.push({event:"pause",action:function(){c.pause(a)}}),c;for(var d=c._getSoundIds(a),p=0;p<d.length;p++){c._clearTimer(d[p]);var _=c._soundById(d[p]);if(_&&!_._paused&&(_._seek=c.seek(d[p]),_._rateSeek=0,_._paused=!0,c._stopFade(d[p]),_._node))if(c._webAudio){if(!_._node.bufferSource)continue;typeof _._node.bufferSource.stop>"u"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),c._cleanBuffer(_._node)}else(!isNaN(_._node.duration)||_._node.duration===1/0)&&_._node.pause();arguments[1]||c._emit("pause",_?_._id:null)}return c},stop:function(a,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(a)}}),d;for(var p=d._getSoundIds(a),_=0;_<p.length;_++){d._clearTimer(p[_]);var v=d._soundById(p[_]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,d._stopFade(p[_]),v._node&&(d._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&d._clearSound(v._node))),c||d._emit("stop",v._id))}return d},mute:function(a,c){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(a,c)}}),d;if(typeof c>"u")if(typeof a=="boolean")d._muted=a;else return d._muted;for(var p=d._getSoundIds(c),_=0;_<p.length;_++){var v=d._soundById(p[_]);v&&(v._muted=a,v._interval&&d._stopFade(v._id),d._webAudio&&v._node?v._node.gain.setValueAtTime(a?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:a),d._emit("mute",v._id))}return d},volume:function(){var a=this,c=arguments,d,p;if(c.length===0)return a._volume;if(c.length===1||c.length===2&&typeof c[1]>"u"){var _=a._getSoundIds(),v=_.indexOf(c[0]);v>=0?p=parseInt(c[0],10):d=parseFloat(c[0])}else c.length>=2&&(d=parseFloat(c[0]),p=parseInt(c[1],10));var m;if(typeof d<"u"&&d>=0&&d<=1){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"volume",action:function(){a.volume.apply(a,c)}}),a;typeof p>"u"&&(a._volume=d),p=a._getSoundIds(p);for(var S=0;S<p.length;S++)m=a._soundById(p[S]),m&&(m._volume=d,c[2]||a._stopFade(p[S]),a._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(d,n.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=d*n.volume()),a._emit("volume",m._id))}else return m=p?a._soundById(p):a._sounds[0],m?m._volume:0;return a},fade:function(a,c,d,p){var _=this;if(_._state!=="loaded"||_._playLock)return _._queue.push({event:"fade",action:function(){_.fade(a,c,d,p)}}),_;a=Math.min(Math.max(0,parseFloat(a)),1),c=Math.min(Math.max(0,parseFloat(c)),1),d=parseFloat(d),_.volume(a,p);for(var v=_._getSoundIds(p),m=0;m<v.length;m++){var S=_._soundById(v[m]);if(S){if(p||_._stopFade(v[m]),_._webAudio&&!S._muted){var E=n.ctx.currentTime,A=E+d/1e3;S._volume=a,S._node.gain.setValueAtTime(a,E),S._node.gain.linearRampToValueAtTime(c,A)}_._startFadeInterval(S,a,c,d,v[m],typeof p>"u")}}return _},_startFadeInterval:function(a,c,d,p,_,v){var m=this,S=c,E=d-c,A=Math.abs(E/.01),$=Math.max(4,A>0?p/A:p),C=Date.now();a._fadeTo=d,a._interval=setInterval(function(){var N=(Date.now()-C)/p;C=Date.now(),S+=E*N,S=Math.round(S*100)/100,E<0?S=Math.max(d,S):S=Math.min(d,S),m._webAudio?a._volume=S:m.volume(S,a._id,!0),v&&(m._volume=S),(d<c&&S<=d||d>c&&S>=d)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,m.volume(d,a._id),m._emit("fade",a._id))},$)},_stopFade:function(a){var c=this,d=c._soundById(a);return d&&d._interval&&(c._webAudio&&d._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(d._interval),d._interval=null,c.volume(d._fadeTo,a),d._fadeTo=null,c._emit("fade",a)),c},loop:function(){var a=this,c=arguments,d,p,_;if(c.length===0)return a._loop;if(c.length===1)if(typeof c[0]=="boolean")d=c[0],a._loop=d;else return _=a._soundById(parseInt(c[0],10)),_?_._loop:!1;else c.length===2&&(d=c[0],p=parseInt(c[1],10));for(var v=a._getSoundIds(p),m=0;m<v.length;m++)_=a._soundById(v[m]),_&&(_._loop=d,a._webAudio&&_._node&&_._node.bufferSource&&(_._node.bufferSource.loop=d,d&&(_._node.bufferSource.loopStart=_._start||0,_._node.bufferSource.loopEnd=_._stop,a.playing(v[m])&&(a.pause(v[m],!0),a.play(v[m],!0)))));return a},rate:function(){var a=this,c=arguments,d,p;if(c.length===0)p=a._sounds[0]._id;else if(c.length===1){var _=a._getSoundIds(),v=_.indexOf(c[0]);v>=0?p=parseInt(c[0],10):d=parseFloat(c[0])}else c.length===2&&(d=parseFloat(c[0]),p=parseInt(c[1],10));var m;if(typeof d=="number"){if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"rate",action:function(){a.rate.apply(a,c)}}),a;typeof p>"u"&&(a._rate=d),p=a._getSoundIds(p);for(var S=0;S<p.length;S++)if(m=a._soundById(p[S]),m){a.playing(p[S])&&(m._rateSeek=a.seek(p[S]),m._playStart=a._webAudio?n.ctx.currentTime:m._playStart),m._rate=d,a._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(d,n.ctx.currentTime):m._node&&(m._node.playbackRate=d);var E=a.seek(p[S]),A=(a._sprite[m._sprite][0]+a._sprite[m._sprite][1])/1e3-E,$=A*1e3/Math.abs(m._rate);(a._endTimers[p[S]]||!m._paused)&&(a._clearTimer(p[S]),a._endTimers[p[S]]=setTimeout(a._ended.bind(a,m),$)),a._emit("rate",m._id)}}else return m=a._soundById(p),m?m._rate:a._rate;return a},seek:function(){var a=this,c=arguments,d,p;if(c.length===0)a._sounds.length&&(p=a._sounds[0]._id);else if(c.length===1){var _=a._getSoundIds(),v=_.indexOf(c[0]);v>=0?p=parseInt(c[0],10):a._sounds.length&&(p=a._sounds[0]._id,d=parseFloat(c[0]))}else c.length===2&&(d=parseFloat(c[0]),p=parseInt(c[1],10));if(typeof p>"u")return 0;if(typeof d=="number"&&(a._state!=="loaded"||a._playLock))return a._queue.push({event:"seek",action:function(){a.seek.apply(a,c)}}),a;var m=a._soundById(p);if(m)if(typeof d=="number"&&d>=0){var S=a.playing(p);S&&a.pause(p,!0),m._seek=d,m._ended=!1,a._clearTimer(p),!a._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=d);var E=function(){S&&a.play(p,!0),a._emit("seek",p)};if(S&&!a._webAudio){var A=function(){a._playLock?setTimeout(A,0):E()};setTimeout(A,0)}else E()}else if(a._webAudio){var $=a.playing(p)?n.ctx.currentTime-m._playStart:0,C=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(C+$*Math.abs(m._rate))}else return m._node.currentTime;return a},playing:function(a){var c=this;if(typeof a=="number"){var d=c._soundById(a);return d?!d._paused:!1}for(var p=0;p<c._sounds.length;p++)if(!c._sounds[p]._paused)return!0;return!1},duration:function(a){var c=this,d=c._duration,p=c._soundById(a);return p&&(d=c._sprite[p._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var a=this,c=a._sounds,d=0;d<c.length;d++)c[d]._paused||a.stop(c[d]._id),a._webAudio||(a._clearSound(c[d]._node),c[d]._node.removeEventListener("error",c[d]._errorFn,!1),c[d]._node.removeEventListener(n._canPlayEvent,c[d]._loadFn,!1),c[d]._node.removeEventListener("ended",c[d]._endFn,!1),n._releaseHtml5Audio(c[d]._node)),delete c[d]._node,a._clearTimer(c[d]._id);var p=n._howls.indexOf(a);p>=0&&n._howls.splice(p,1);var _=!0;for(d=0;d<n._howls.length;d++)if(n._howls[d]._src===a._src||a._src.indexOf(n._howls[d]._src)>=0){_=!1;break}return i&&_&&delete i[a._src],n.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,c,d,p){var _=this,v=_["_on"+a];return typeof c=="function"&&v.push(p?{id:d,fn:c,once:p}:{id:d,fn:c}),_},off:function(a,c,d){var p=this,_=p["_on"+a],v=0;if(typeof c=="number"&&(d=c,c=null),c||d)for(v=0;v<_.length;v++){var m=d===_[v].id;if(c===_[v].fn&&m||!c&&m){_.splice(v,1);break}}else if(a)p["_on"+a]=[];else{var S=Object.keys(p);for(v=0;v<S.length;v++)S[v].indexOf("_on")===0&&Array.isArray(p[S[v]])&&(p[S[v]]=[])}return p},once:function(a,c,d){var p=this;return p.on(a,c,d,1),p},_emit:function(a,c,d){for(var p=this,_=p["_on"+a],v=_.length-1;v>=0;v--)(!_[v].id||_[v].id===c||a==="load")&&(setTimeout(function(m){m.call(this,c,d)}.bind(p,_[v].fn),0),_[v].once&&p.off(a,_[v].fn,_[v].id));return p._loadQueue(a),p},_loadQueue:function(a){var c=this;if(c._queue.length>0){var d=c._queue[0];d.event===a&&(c._queue.shift(),c._loadQueue()),a||d.action()}return c},_ended:function(a){var c=this,d=a._sprite;if(!c._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(c._ended.bind(c,a),100),c;var p=!!(a._loop||c._sprite[d][2]);if(c._emit("end",a._id),!c._webAudio&&p&&c.stop(a._id,!0).play(a._id),c._webAudio&&p){c._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=n.ctx.currentTime;var _=(a._stop-a._start)*1e3/Math.abs(a._rate);c._endTimers[a._id]=setTimeout(c._ended.bind(c,a),_)}return c._webAudio&&!p&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,c._clearTimer(a._id),c._cleanBuffer(a._node),n._autoSuspend()),!c._webAudio&&!p&&c.stop(a._id,!0),c},_clearTimer:function(a){var c=this;if(c._endTimers[a]){if(typeof c._endTimers[a]!="function")clearTimeout(c._endTimers[a]);else{var d=c._soundById(a);d&&d._node&&d._node.removeEventListener("ended",c._endTimers[a],!1)}delete c._endTimers[a]}return c},_soundById:function(a){for(var c=this,d=0;d<c._sounds.length;d++)if(a===c._sounds[d]._id)return c._sounds[d];return null},_inactiveSound:function(){var a=this;a._drain();for(var c=0;c<a._sounds.length;c++)if(a._sounds[c]._ended)return a._sounds[c].reset();return new s(a)},_drain:function(){var a=this,c=a._pool,d=0,p=0;if(!(a._sounds.length<c)){for(p=0;p<a._sounds.length;p++)a._sounds[p]._ended&&d++;for(p=a._sounds.length-1;p>=0;p--){if(d<=c)return;a._sounds[p]._ended&&(a._webAudio&&a._sounds[p]._node&&a._sounds[p]._node.disconnect(0),a._sounds.splice(p,1),d--)}}},_getSoundIds:function(a){var c=this;if(typeof a>"u"){for(var d=[],p=0;p<c._sounds.length;p++)d.push(c._sounds[p]._id);return d}else return[a]},_refreshBuffer:function(a){var c=this;return a._node.bufferSource=n.ctx.createBufferSource(),a._node.bufferSource.buffer=i[c._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop||0),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,n.ctx.currentTime),c},_cleanBuffer:function(a){var c=this,d=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(n._scratchBuffer&&a.bufferSource&&(a.bufferSource.onended=null,a.bufferSource.disconnect(0),d))try{a.bufferSource.buffer=n._scratchBuffer}catch{}return a.bufferSource=null,c},_clearSound:function(a){var c=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);c||(a.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(a){this._parent=a,this.init()};s.prototype={init:function(){var a=this,c=a._parent;return a._muted=c._muted,a._loop=c._loop,a._volume=c._volume,a._rate=c._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,c._sounds.push(a),a.create(),a},create:function(){var a=this,c=a._parent,d=n._muted||a._muted||a._parent._muted?0:a._volume;return c._webAudio?(a._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),a._node.gain.setValueAtTime(d,n.ctx.currentTime),a._node.paused=!0,a._node.connect(n.masterGain)):n.noAudio||(a._node=n._obtainHtml5Audio(),a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(n._canPlayEvent,a._loadFn,!1),a._endFn=a._endListener.bind(a),a._node.addEventListener("ended",a._endFn,!1),a._node.src=c._src,a._node.preload=c._preload===!0?"auto":c._preload,a._node.volume=d*n.volume(),a._node.load()),a},reset:function(){var a=this,c=a._parent;return a._muted=c._muted,a._loop=c._loop,a._volume=c._volume,a._rate=c._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++n._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,c=a._parent;c._duration=Math.ceil(a._node.duration*10)/10,Object.keys(c._sprite).length===0&&(c._sprite={__default:[0,c._duration*1e3]}),c._state!=="loaded"&&(c._state="loaded",c._emit("load"),c._loadQueue()),a._node.removeEventListener(n._canPlayEvent,a._loadFn,!1)},_endListener:function(){var a=this,c=a._parent;c._duration===1/0&&(c._duration=Math.ceil(a._node.duration*10)/10,c._sprite.__default[1]===1/0&&(c._sprite.__default[1]=c._duration*1e3),c._ended(a)),a._node.removeEventListener("ended",a._endFn,!1)}};var i={},o=function(a){var c=a._src;if(i[c]){a._duration=i[c].duration,f(a);return}if(/^data:[^;]+;base64,/.test(c)){for(var d=atob(c.split(",")[1]),p=new Uint8Array(d.length),_=0;_<d.length;++_)p[_]=d.charCodeAt(_);u(p.buffer,a)}else{var v=new XMLHttpRequest;v.open(a._xhr.method,c,!0),v.withCredentials=a._xhr.withCredentials,v.responseType="arraybuffer",a._xhr.headers&&Object.keys(a._xhr.headers).forEach(function(m){v.setRequestHeader(m,a._xhr.headers[m])}),v.onload=function(){var m=(v.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){a._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}u(v.response,a)},v.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete i[c],a.load())},l(v)}},l=function(a){try{a.send()}catch{a.onerror()}},u=function(a,c){var d=function(){c._emit("loaderror",null,"Decoding audio data failed.")},p=function(_){_&&c._sounds.length>0?(i[c._src]=_,f(c,_)):d()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(a).then(p).catch(d):n.ctx.decodeAudioData(a,p,d)},f=function(a,c){c&&!a._duration&&(a._duration=c.duration),Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue())},h=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var a=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),c=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=c?parseInt(c[1],10):null;if(a&&d&&d<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof tn<"u"?(tn.HowlerGlobal=e,tn.Howler=n,tn.Howl=r,tn.Sound=s):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,s){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,s=typeof s!="number"?i._pos[2]:s,typeof n=="number")i._pos=[n,r,s],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(n,r,s,i,o,l){var u=this;if(!u.ctx||!u.ctx.listener)return u;var f=u._orientation;if(r=typeof r!="number"?f[1]:r,s=typeof s!="number"?f[2]:s,i=typeof i!="number"?f[3]:i,o=typeof o!="number"?f[4]:o,l=typeof l!="number"?f[5]:l,typeof n=="number")u._orientation=[n,r,s,i,o,l],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(l,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(n,r,s,i,o,l);else return f;return u},Howl.prototype.init=function(n){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,r)}}),s;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var o=s._getSoundIds(r),l=0;l<o.length;l++){var u=s._soundById(o[l]);if(u)if(typeof n=="number")u._stereo=n,u._pos=[n,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,i),i==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(n,0,0):u._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",u._id);else return u._stereo}return s},Howl.prototype.pos=function(n,r,s,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,s,i)}}),o;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof i>"u")if(typeof n=="number")o._pos=[n,r,s];else return o._pos;for(var l=o._getSoundIds(i),u=0;u<l.length;u++){var f=o._soundById(l[u]);if(f)if(typeof n=="number")f._pos=[n,r,s],f._node&&((!f._panner||f._panner.pan)&&e(f,"spatial"),typeof f._panner.positionX<"u"?(f._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):f._panner.setPosition(n,r,s)),o._emit("pos",f._id);else return f._pos}return o},Howl.prototype.orientation=function(n,r,s,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,s,i)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,s=typeof s!="number"?o._orientation[2]:s,typeof i>"u")if(typeof n=="number")o._orientation=[n,r,s];else return o._orientation;for(var l=o._getSoundIds(i),u=0;u<l.length;u++){var f=o._soundById(l[u]);if(f)if(typeof n=="number")f._orientation=[n,r,s],f._node&&(f._panner||(f._pos||(f._pos=o._pos||[0,0,-.5]),e(f,"spatial")),typeof f._panner.orientationX<"u"?(f._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),f._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),f._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):f._panner.setOrientation(n,r,s)),o._emit("orientation",f._id);else return f._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,s,i,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof i>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(s=r[0],i=parseInt(r[1],10));for(var l=n._getSoundIds(i),u=0;u<l.length;u++)if(o=n._soundById(l[u]),o){var f=o._pannerAttr;f={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:f.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:f.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:f.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:f.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:f.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:f.panningModel};var h=o._panner;h?(h.coneInnerAngle=f.coneInnerAngle,h.coneOuterAngle=f.coneOuterAngle,h.coneOuterGain=f.coneOuterGain,h.distanceModel=f.distanceModel,h.maxDistance=f.maxDistance,h.refDistance=f.refDistance,h.rolloffFactor=f.rolloffFactor,h.panningModel=f.panningModel):(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"))}return n},Sound.prototype.init=function(n){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,n.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Wl);const uh={formatTime(t){const e=Math.floor(t/60)||0,n=Math.round(t-e*60)||0;return`${e}:${n<10?0:""}${n}`}},ei=zo("player",()=>{const t=xe({}),e=xe({}),n=xe("00:00"),r=xe("00:00"),s=xe("0%"),i=async h=>{e.value instanceof Wl.Howl&&e.value.unload(),t.value=h,console.log(t.value),e.value=new Wl.Howl({src:[h.url],html5:!0}),e.value.play(),e.value.on("play",()=>{requestAnimationFrame(l)})},o=async()=>{e.value.playing&&(e.value.playing()?e.value.pause():e.value.play())},l=()=>{n.value=uh.formatTime(e.value.seek()),r.value=uh.formatTime(e.value.duration()),s.value=`${e.value.seek()/e.value.duration()*100}%`,e.value.playing()&&requestAnimationFrame(l)},u=me(()=>e.value.playing?e.value.playing():!1);return{newSong:i,toggleAudio:o,playing:u,seek:n,duration:r,playerProgress:s,currentSong:t,updateSeek:h=>{if(!e.value.playing)return;const{x:a,width:c}=h.currentTarget.getBoundingClientRect(),p=(h.clientX-a)/c,_=e.value.duration()*p;e.value.seek(_),e.value.once("seek",l)}}}),wU={name:"Player",methods:{...Kt(ei,["toggleAudio","updateSeek"])},computed:{...Xi(ei,["playing","duration","seek","playerProgress","currentSong"])}},EU={class:"fixed z-50 backdrop-blur-xl bottom-0 left-0 bg-[rgba(49,49,49,0.6)] px-4 py-2 w-full"},TU={key:0,class:"text-center"},SU={class:"song-title text-gray-200 font-bold"},AU={class:"song-artist text-gray-200"},IU={class:"flex flex-nowrap gap-4 items-center"},xU={class:"player-currenttime text-gray-200"},OU=T("i",{class:"fas fa-circle"},null,-1),kU=[OU],CU={class:"player-duration text-gray-200"};function RU(t,e,n,r,s,i){return fe(),ye("div",EU,[t.currentSong.modifiedName?(fe(),ye("div",TU,[T("span",SU,st(t.currentSong.modifiedName)+" by ",1),T("span",AU,st(t.currentSong.displayName),1)])):Fn("",!0),T("div",IU,[T("button",{type:"button",onClick:e[0]||(e[0]=Ce((...o)=>t.toggleAudio&&t.toggleAudio(...o),["prevent"]))},[T("i",{class:Ue(["fa text-gray-100 text-xl",{"fa-play":!t.playing,"fa-pause":t.playing}])},null,2)]),T("div",xU,st(t.seek),1),T("div",{onClick:e[1]||(e[1]=Ce((...o)=>t.updateSeek&&t.updateSeek(...o),["prevent"])),class:"w-full h-2 rounded bg-zinc-700 relative cursor-pointer"},[T("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-100 text-lg",style:Lr({left:t.playerProgress})},kU,4),T("span",{class:"block h-2 rounded bg-gradient-to-r from-gray-100 to-gray-100",style:Lr({width:t.playerProgress})},null,4)]),T("div",CU,st(t.duration),1)])])}const PU=at(wU,[["render",RU]]);const $U={name:"App",components:{Header:xL,Auth:bU,Player:PU},methods:{...Kt(qn,["setIsLoggedIn"])},computed:{...Xi(pc,["firstImageUrl","secondImageUrl","currentImg"])},created(){Ft.currentUser&&this.setIsLoggedIn()},watch:{$route(t,e){const n=t.path.split("/").length,r=e.path.split("/").length;this.transitionName=n<r?"slide-right":"slide-left"}}},FU={class:"absolute -z-10 top-0 w-full"},DU=["src"],MU=["src"],NU={class:"backdrop-blur-xl pb-4 -z-20"};function LU(t,e,n,r,s,i){const o=Te("Header"),l=Te("router-view"),u=Te("Player"),f=Te("auth");return fe(),ye(He,null,[T("div",FU,[T("img",{class:Ue(["absolute opacity-0 top-0 delay-200 transition-all duration-[1000ms] object-cover w-[100%] max-h-[500px]",{"opacity-100":t.currentImg===1}]),src:t.firstImageUrl||"/assets/img/OqH4GUk.jpeg",alt:"bg-img"},null,10,DU),T("img",{class:Ue(["absolute opacity-0 delay-200 top-0 transition-all duration-[1000ms] object-cover w-[100%] max-h-[500px]",{"opacity-100":t.currentImg===0}]),src:t.secondImageUrl||"/assets/img/OqH4GUk.jpeg",alt:"bg-img"},null,10,MU)]),T("div",NU,[X(o),X(l,null,{default:it(({Component:h})=>[X(hu,{name:"route",mode:"out-in"},{default:it(()=>[(fe(),Vn(Lo(h)))]),_:2},1024)]),_:1})]),X(u),X(f)],64)}const UU=at($U,[["render",LU]]),VU="/music_app/assets/img/triangle.svg",BU={props:{song:{type:Object,required:!0}},methods:{...Kt(ei,["newSong"]),...Kt(pc,["changeImage"]),playSong(){this.newSong(this.song),this.changeImage(this.song.songImage)}}},jU={class:"w-full h-full flex flex-col bg-zinc-900 hover:bg-zinc-800 !p-[12px] transition duration-300 rounded-[12px] hover:-translate-y-2"},HU=T("div",{class:"absolute-center duration-200 invisible group-hover:visible transition-all h-0 w-0 group-hover:w-[72px] group-hover:h-[72px] bg-[rgba(0,0,0,0.5)] z-20 absolute rounded-full border"},[T("img",{class:"top-[50%] left-[50%] translate-x-[-40%] translate-y-[-50%] !rotate-90 absolute w-[20px]",src:VU,alt:"play-img"})],-1),qU=["src"],zU={class:"text-center truncate"},GU={class:"text-white text-center truncate mb-auto"},KU={class:"text-gray-200 text-lg bg-zinc-800 p-2 rounded-md"},WU=T("span",{class:"mr-auto"}," Comments",-1),YU=T("i",{class:"fa fa-comments mx-2 text-gray-600"},null,-1);function XU(t,e,n,r,s,i){const o=Te("router-link");return fe(),ye("li",jU,[T("div",{onClick:e[0]||(e[0]=Ce((...l)=>i.playSong&&i.playSong(...l),["prevent"])),class:"cursor-pointer relative group w-full h-[250px] mb-[16px]"},[HU,T("img",{src:n.song.songImage||"/assets/img/main-icon.svg",alt:"songImage",class:Ue(["w-full [h-200px] object-cover rounded-md",{"object-scale-down border border-zinc-500":!n.song.songImage}])},null,10,qU)]),X(o,{to:{name:"song",params:{id:n.song.songId}},class:"font-bold block text-gray-600 hover:text-gray-600"},{default:it(()=>[T("p",zU,st(n.song.displayName),1),T("p",GU,st(n.song.modifiedName),1),T("div",KU,[T("p",{class:"comments flex items-center",onClick:e[1]||(e[1]=(...l)=>t.navigate&&t.navigate(...l))},[WU,YU,Gt(" "+st(n.song.comment_count),1)])])]),_:1},8,["to"])])}const JU=at(BU,[["render",XU]]),QU={name:"Home",data(){return{songs:[],lastDocument:null}},async mounted(){window.addEventListener("scroll",this.handleScroll),this.getSongs()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},methods:{handleScroll(){const{scrollTop:t,offsetHeight:e}=document.documentElement,{innerHeight:n}=window;Math.round(t)+n===e&&this.getSongs()},async getSongs(){let t;if(this.lastDocument){const e=wo(Gd,Md("modifiedName","asc"),LD(this.lastDocument),Nd(5));t=await Eo(e),this.lastDocument=t.docs[t.docs.length-1]}else{const e=wo(Gd,Md("modifiedName","asc"),Nd(5));t=await Eo(e),this.lastDocument=t.docs[t.docs.length-1]}t.forEach(e=>{this.songs.push({...e.data(),songId:e.id})})}},components:{PlaySongItem:JU}},ZU={class:"max-w-[1154px] mx-auto"},e2=T("section",{class:"h-[300px] mt-[80px]"},[T("h1",{class:"uppercase font-bold text-5xl text-white max-w-[500px]"}," Add Share Listen Music from anywhere "),T("p",{class:"max-w-[600px] mt-3 text-xl text-[rgba(255,255,255,0.4)]"}," Create and collect amazing collections, discover new artists on a new project. ")],-1),t2={class:"container mx-auto"},n2={class:"rounded relative flex flex-col"},r2=T("div",{class:"pt-6 pb-3 font-bold border-b mb-5"},[T("span",{class:"card-title uppercase font-bold text-3xl text-gray-200 max-w-[500px]"},"Recently posted songs"),T("i",{class:"fa fa-headphones-alt float-right text-gray-200 text-xl"})],-1),s2={class:"gridItems",id:"playlist"};function i2(t,e,n,r,s,i){const o=Te("play-song-item");return fe(),ye("main",ZU,[e2,T("section",t2,[T("div",n2,[r2,T("ol",s2,[(fe(!0),ye(He,null,Uo(s.songs,l=>(fe(),Vn(o,{key:l.songId,song:l},null,8,["song"]))),128))])])])])}const o2=at(QU,[["render",i2]]);const a2={},l2={class:"about"},u2=T("h1",null,"This is an about page",-1),c2=[u2];function f2(t,e){return fe(),ye("div",l2,c2)}const d2=at(a2,[["render",f2]]),h2={name:"Upload",props:["addSong"],data(){return{is_dragover:!1,uploads:[]}},methods:{upload(t){this.is_dragover=!1,(t.dataTransfer?[...t.dataTransfer.files]:[...t.target.files]).forEach(n=>{const r=n.type;if(!/(audio)/g.test(r))return;const s=Hl(ql,`songs/${n.name}`),i=p_(s,n),o=this.uploads.push({uploadTask:i,currentProgress:0,name:n.name,variant:"bg-blue-400",icon:"fas fa-spinner fa-spin",text_class:""})-1;i.on("state_changed",l=>{const u=l.bytesTransferred/l.totalBytes*100;this.uploads[o].currentProgress=u},l=>{this.uploads[o].variant="bg-red-400",this.uploads[o].icon="fas fa-times",this.uploads[o].text="text-red-400",console.log(l)},async()=>{const l={uid:Ft.currentUser.uid,displayName:Ft.currentUser.displayName,originalName:i.snapshot.ref.name,modifiedName:i.snapshot.ref.name,genre:"",comment_count:0};l.url=await m_(s);const u=da(fn,"songs");await Wg(u,l),this.addSong(l),this.uploads[o].variant="bg-green-400",this.uploads[o].icon="fas fa-check",this.uploads[o].text_class="text-green-400"})})}},beforeUnmount(){this.uploads.forEach(t=>{t.uploadTask.cancel()})}},p2={class:"col-span-1"},m2={class:"bg-zinc-800 rounded-xl relative flex flex-col"},g2=T("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-800"},[T("span",{class:"card-title text-gray-200"},"Upload"),T("i",{class:"fas fa-upload float-right text-green-400 text-2xl"})],-1),_2={class:"p-6"},v2=T("h5",null,"Drop your files here or click",-1),y2=[v2],b2=T("hr",{class:"my-6"},null,-1),w2={class:"flex h-4 overflow-hidden bg-gray-200 rounded"};function E2(t,e,n,r,s,i){return fe(),ye("div",p2,[T("div",m2,[g2,T("div",_2,[T("div",{onClick:e[0]||(e[0]=Ce(o=>t.$refs.file.click(),["prevent"])),class:Ue(["w-full px-10 py-20 rounded text-center cursor-pointer border border-dashed border-gray-400 text-gray-400 transition duration-500 hover:text-white hover:bg-green-400 hover:border-green-400 hover:border-solid",{"bg-green-400 border-green-400 border-solid":s.is_dragover}]),onDrag:e[1]||(e[1]=Ce(()=>{},["prevent","stop"])),onDragstart:e[2]||(e[2]=Ce(()=>{},["prevent","stop"])),onDragend:e[3]||(e[3]=Ce(o=>s.is_dragover=!1,["prevent","stop"])),onDragover:e[4]||(e[4]=Ce(o=>s.is_dragover=!0,["prevent","stop"])),onDragenter:e[5]||(e[5]=Ce(o=>s.is_dragover=!0,["prevent","stop"])),onDragleave:e[6]||(e[6]=Ce(o=>s.is_dragover=!1,["prevent","stop"])),onDrop:e[7]||(e[7]=Ce(o=>i.upload(o),["prevent","stop"]))},y2,34),T("input",{class:"hidden",ref:"file",type:"file",onChange:e[8]||(e[8]=o=>i.upload(o))},null,544),b2,(fe(!0),ye(He,null,Uo(s.uploads,o=>(fe(),ye("div",{class:"mb-4",key:o.name},[T("div",{class:Ue(["font-bold text-sm",o.text_class])},[T("i",{class:Ue(o.icon)},null,2),Gt(" "+st(o.name),1)],2),T("div",w2,[T("div",{class:Ue(["transition-all progress-bar",o.variant]),style:Lr({width:o.currentProgress+"%"})},null,6)])]))),128))])])])}const T2=at(h2,[["render",E2]]),S2={name:"SongItem",props:{song:{type:Object,required:!0},updateSong:{type:Function,required:!0},index:{type:Number,required:!0},updateUnsavedFlag:{type:Function}},data(){return{songSchema:HC,showForm:!1,songImage:null,imageData:null}},methods:{addImg(t){this.imageData=t.target.files[0];let n=this.$refs.file.files;if(n&&n[0]){let r=new FileReader;r.onload=s=>{this.songImage=s.target.result},r.readAsDataURL(n[0])}},async editSong(t){const e=t;try{if(this.songImage){const r=Hl(ql,`images/${this.imageData.name}`),s=await p_(r,this.imageData);e.songImage=await m_(r)}const n=Gr(fn,"songs",this.song.songId);await Kg(n,e)}catch(n){console.log(n);return}this.updateSong(this.index,e),this.showForm=!1,this.updateUnsavedFlag(!1)},async deleteSong(){try{const t=Hl(ql,`songs/${this.song.originalName}`);await eN(t),await jD(Gr(fn,"songs",this.song.songId)),this.$emit("deleteSong",this.song.songId)}catch(t){console.log(t)}}}},A2={key:0},I2={class:"inline-block text-lg font-bold text-gray-200"},x2=T("i",{class:"fa fa-times"},null,-1),O2=[x2],k2=T("i",{class:"fa fa-pencil-alt"},null,-1),C2=[k2],R2={key:1},P2={class:"mb-3"},$2=T("label",{class:"inline-block mb-2 text-zinc-500"},"Song Title",-1),F2={class:"mb-3"},D2=T("label",{class:"inline-block mb-2 text-zinc-500"},"Genre",-1),M2={class:"w-[200px] h-[200px]"},N2=["src"],L2=T("button",{type:"submit",class:"py-1.5 px-3 main-btn"},"Submit",-1);function U2(t,e,n,r,s,i){const o=Te("vee-field"),l=Te("ErrorMessage"),u=Te("vee-form");return fe(),ye("div",{class:Ue(["border border-zinc-700 p-3 mb-4 rounded-lg transition-all h-[55px]",{"!h-[500px]":s.showForm}])},[s.showForm?Fn("",!0):(fe(),ye("div",A2,[T("h4",I2,st(n.song.modifiedName),1),T("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-[rgba(248,66,66,0.52)] float-right",onClick:e[0]||(e[0]=Ce((...f)=>i.deleteSong&&i.deleteSong(...f),["prevent"]))},O2),T("button",{class:"ml-1 py-1 px-2 text-sm rounded text-white bg-[rgba(66,84,248,0.52)] float-right",onClick:e[1]||(e[1]=Ce(f=>s.showForm=!s.showForm,["prevent"]))},C2)])),s.showForm?(fe(),ye("div",R2,[X(u,{"validation-schema":s.songSchema,onSubmit:i.editSong,"initial-values":n.song},{default:it(()=>[T("div",P2,[$2,X(o,{type:"text",name:"modifiedName",class:"block bg-gray-700 w-full border border-transparent py-1.5 px-3 text-white transition duration-500 focus:outline-none focus:border-gray-300 rounded",placeholder:"Enter Song Title",onInput:e[2]||(e[2]=f=>n.updateUnsavedFlag(!0))}),X(l,{class:"text-red-600",name:"modifiedName"})]),T("div",F2,[D2,X(o,{type:"text",name:"genre",class:"block bg-gray-700 w-full border border-transparent py-1.5 px-3 text-white transition duration-500 focus:outline-none focus:border-gray-300 rounded",placeholder:"Enter Genre",onInput:e[3]||(e[3]=f=>n.updateUnsavedFlag(!0))}),X(l,{class:"block text-red-600",name:"genre"}),T("button",{onClick:e[4]||(e[4]=Ce(f=>t.$refs.file.click(),["prevent"])),class:"main-btn p-2 my-4"}," Upload new song Image "),s.songImage?Fn("",!0):(fe(),ye("input",{key:0,type:"file",name:"file",id:"fileInput",class:"hidden",onChange:e[5]||(e[5]=(...f)=>i.addImg&&i.addImg(...f)),ref:"file",accept:".pdf,.jpg,.jpeg,.png"},null,544)),T("div",M2,[T("img",{src:s.songImage||n.song.songImage||"/assets/img/main-icon.svg",alt:"songImage",class:"w-full h-full object-cover object-center rounded-lg border border-zinc-400"},null,8,N2)])]),L2,T("button",{type:"button",class:"py-1.5 px-3 rounded bg-[rgba(248,66,66,0.52)] text-white ml-2",onClick:e[6]||(e[6]=Ce(f=>s.showForm=!s.showForm,["prevent"]))}," Go Back ")]),_:1},8,["validation-schema","onSubmit","initial-values"])])):Fn("",!0)],2)}const V2=at(S2,[["render",U2]]),B2={name:"manage",data(){return{songs:[],unsavedFlag:!1}},async mounted(){const t=wo(da(fn,"songs"),jg("uid","==",Ft.currentUser.uid));(await Eo(t)).forEach(n=>{this.songs.push({...n.data(),songId:n.id})})},methods:{updateSong(t,e){this.songs[t].modifiedName=e.modifiedName,this.songs[t].genre=e.genre},deleteSong(t){console.log(t),this.songs=this.songs.filter(e=>e.songId!==t)},addSong(t){this.songs.push(t)},updateUnsavedFlag(t){this.unsavedFlag=t}},components:{Upload:T2,SongItem:V2},beforeRouteEnter(t,e,n){qn().userLoggedIn?n():n("/")},beforeRouteLeave(t,e,n){if(!this.updateUnsavedFlag)n();else{const r=confirm("You have unsaved changes. Do yo want to leave?");n(r)}}},j2={class:"container mx-auto mt-6"},H2=T("h1",{class:"uppercase font-bold text-5xl mb-10 text-white max-w-[500px]"}," Manage and upload songs the way you want ",-1),q2={class:"grid md:grid md:grid-cols-3 md:gap-4"},z2={class:"col-span-2"},G2={class:"bg-zinc-800 rounded-xl relative flex flex-col"},K2=T("div",{class:"px-6 pt-6 pb-5 font-bold border-b border-gray-200"},[T("span",{class:"card-title text-gray-200"},"My Songs"),T("i",{class:"fa fa-compact-disc float-right text-indigo-600 text-2xl"})],-1),W2={class:"p-6 transition-all"};function Y2(t,e,n,r,s,i){const o=Te("Upload"),l=Te("song-item");return fe(),ye("section",j2,[H2,T("div",q2,[X(o,{addSong:i.addSong},null,8,["addSong"]),T("div",z2,[T("div",G2,[K2,T("div",W2,[(fe(!0),ye(He,null,Uo(s.songs,(u,f)=>(fe(),Vn(l,{key:u.songId,song:u,updateSong:i.updateSong,index:f,onDeleteSong:i.deleteSong,updateUnsavedFlag:i.updateUnsavedFlag},null,8,["song","updateSong","index","onDeleteSong","updateUnsavedFlag"]))),128))])])])])])}const X2=at(B2,[["render",Y2]]),J2={name:"FormComment",data(){return{commentSchema:xm,isError:!1}},props:{getComments:{type:Function,required:!0},songId:{type:String,required:!0}},methods:{async addComment(t,e){try{const n={content:t.commentText,datePosted:ht.fromDate(new Date),songId:this.$route.params.id,author:Ft.currentUser.displayName,uid:Ft.currentUser.uid};await Wg(__,n);const r=Gr(fn,"songs",this.songId);await Kg(r,{comment_count:HD(1)}),e.resetForm(),await this.getComments()}catch(n){console.log(n)}}}},Q2={class:"bg-zinc-900 rounded-xl relative flex flex-col p-6 mt-10"},Z2={class:"bg-red-600 text-white rounded p-3"},eV=T("button",{type:"submit",class:"py-1.5 px-3 mt-2 main-btn"}," Post Comment ",-1);function tV(t,e,n,r,s,i){const o=Te("vee-field"),l=Te("ErrorMessage"),u=Te("vee-form");return fe(),ye("div",Q2,[Gh(T("h2",Z2," Fail to add a comment ",512),[[r0,s.isError]]),X(u,{"validation-schema":s.commentSchema,onSubmit:i.addComment},{default:it(()=>[X(o,{as:"textarea",rows:"4",name:"commentText",class:"block bg-zinc-700 w-full border border-transparent py-1.5 px-3 text-white transition duration-500 focus:outline-none focus:border-gray-300 rounded resize-none",placeholder:"Your comment here..."}),X(l,{class:"text-red-600 block mb-2",name:"commentText"}),eV]),_:1},8,["validation-schema","onSubmit"])])}const nV=at(J2,[["render",tV]]),rV={name:"Song",components:{FormComment:nV},data(){return{song:{},commentSchema:xm,isError:!1,comments:[],sortOrder:"desc"}},async created(){try{const e=Gr(fn,"songs",this.$route.params.id),n=await VD(e);if(!n.exists()){this.$router.push("/");return}this.song=n.data(),console.log(this.song),this.changeImage(this.song.songImage),await this.getComments()}catch(e){console.log(e)}const{sort:t}=this.$route.query;(t==="asc"||t==="desc")&&(this.sortOrder=t)},methods:{...Kt(ei,["newSong"]),...Kt(pc,["changeImage"]),...Kt(wi,["toggleIsOpen"]),async getComments(){const t=wo(__,jg("songId","==",this.$route.params.id)),e=await Eo(t);this.comments=[],e.forEach(n=>{this.comments.push({...n.data(),datePosted:n.data().datePosted.toDate().toLocaleTimeString(),docId:n.id})})}},computed:{...Xi(qn,["userLoggedIn","playing"]),...Xi(ei,["playing","currentSong"]),sortedComments(){return[...this.comments].sort((t,e)=>this.sortOrder==="desc"?new Date(e.datePosted)-new Date(t.datePosted):new Date(t.datePosted)-new Date(e.datePosted))}},watch:{sortOrder(t){this.$router.push({query:{sort:t}})}}},sV={class:"mx-auto max-w-[1216px]"},iV=T("h1",{class:"mt-6 uppercase font-bold text-5xl text-white max-w-[500px]"}," Listen and leave a comment to your favorite song ",-1),oV={class:"mb-8 py-14"},aV={class:"flex items-center"},lV={class:"w-[416px] h-[416px] mr-[80px]"},uV=["src"],cV={class:"grow"},fV={class:"flex items-center"},dV={class:"text-left ml-8"},hV={class:"text-3xl text-gray-200 font-bold"},pV={class:"text-gray-200 italic"},mV={id:"comments",class:"container mx-auto mt-6"},gV={class:"px-6 pt-6 pb-5 font-bold border-b border-gray-600"},_V={class:"card-title text-gray-200"},vV=T("i",{class:"fa fa-comments float-right text-gray-400 text-2xl"},null,-1),yV=T("option",{value:"desc"},"Latest",-1),bV=T("option",{value:"asc"},"Oldest",-1),wV=[yV,bV],EV={class:"container mx-auto"},TV={class:"mb-2"},SV={class:"font-bold text-gray-200"},AV={class:"italic text-sm text-gray-200"},IV={class:"text-gray-200"};function xV(t,e,n,r,s,i){const o=Te("FormComment");return fe(),ye("main",sV,[iV,T("section",oV,[T("div",aV,[T("div",lV,[T("img",{class:"w-full h-full rounded-[10px]",src:s.song.songImage,alt:"song-image"},null,8,uV)]),T("div",cV,[T("div",fV,[T("button",{onClick:e[0]||(e[0]=Ce(l=>t.newSong(s.song),["prevent"])),type:"button",class:"z-20 h-24 w-24 text-3xl bg-white text-black rounded-full focus:outline-none"},[T("i",{class:Ue(["fa",t.playing&&t.currentSong.url===s.song.url?"fa-pause":"fa-play"])},null,2)]),T("div",dV,[T("p",hV,st(s.song.modifiedName),1),T("p",pV,st(s.song.genre),1)])]),t.userLoggedIn?(fe(),Vn(o,{key:0,songId:s.song.songId,getComments:i.getComments},null,8,["songId","getComments"])):(fe(),ye("h2",{key:1,class:"bg-[rgba(14,13,14,0.12)] text-gray-200 rounded-xl p-4 mt-6 font-bold cursor-pointer",onClick:e[1]||(e[1]=Ce((...l)=>t.toggleIsOpen&&t.toggleIsOpen(...l),["prevent"]))}," Sign In to add a comment "))])])]),T("section",mV,[T("div",gV,[T("span",_V,"Comments ("+st(s.comments.length||0)+")",1),vV]),Gh(T("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>s.sortOrder=l),class:"block mt-4 py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},wV,512),[[e0,s.sortOrder]])]),T("ul",EV,[(fe(!0),ye(He,null,Uo(i.sortedComments,l=>(fe(),ye("li",{key:l.docId,class:"p-4 bg-zinc-900 r mb-2 rounded-xl"},[T("div",TV,[T("h4",SV,st(l.author),1),T("time",AV,st(l.datePosted),1)]),T("p",IV,st(l.content),1)]))),128))])])}const OV=at(rV,[["render",xV]]),kV=[{path:"/",component:o2},{path:"/about",component:d2},{path:"/manage",alias:"/manage-music",component:X2,meta:{requiresAuth:!0}},{name:"song",path:"/song/:id",component:OV},{path:"/:catchAll(.*)*",redirect:"/"}],CV=lL({history:SN("/music_app/"),routes:kV,linkExactActiveClass:"text-yellow-500"});let xr;d$(Ft,()=>{xr||(xr=o0(UU),xr.use(u0()),xr.use(CV),xr.use(qC),xr.mount("#app"))});
